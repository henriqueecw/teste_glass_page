"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{1799:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(7437),o=n(2265),i=n(2860),a=n(6154),l=n(6721),s=n(5189),c=n(8558),u=n(8844),f=n(1751),p=n(6655),d=n(4193),m=n(6376);let y={speed:.008,floatEnabled:!0,floatAmplitude:.025,autoRotate:!0,rotationAmplitude:.04},g={rotation:{x:.02,y:0,z:0},position:{x:0,y:.2,z:0},scale:150},b={ambient:{intensity:.8},directional:[{intensity:1.8,position:[0,5,8],color:"#ffffff"},{intensity:.8,position:[-3,2,5],color:"#ccddff"},{intensity:1,position:[3,-2,5],color:"#c9a962"}],point:[{intensity:.8,position:[0,3,6],distance:30}]},h={enabled:!0,color:"#ffac45",intensity:2500,position:[0,-8,10],angle:1,penumbra:.5,distance:80,coneOpacity:0,attenuation:12,anglePower:1},x={transmission:1,thickness:.25,ior:1.2,roughness:0,distortion:0,distortionScale:0,temporalDistortion:0,chromaticAberration:.09,anisotropy:.1,clearcoat:1,clearcoatRoughness:.2,reflectivity:.3,attenuationDistance:.5,attenuationColor:"#ffffff",samples:1,backside:!0,backsideThickness:.05,color:"#ffffff"},M={transmission:.99,thickness:.07,ior:1.45,roughness:.01,distortion:0,distortionScale:0,temporalDistortion:0,chromaticAberration:0,anisotropy:0,clearcoat:1,clearcoatRoughness:.2,reflectivity:1.5,attenuationDistance:1/0,attenuationColor:"#ffffff",envMapIntensity:.35,samples:1,backside:!1,color:"#ffffff"},j=(e,t,n)=>e+(t-e)*n,v=e=>1-Math.pow(1-e,3),S=()=>performance.now()/1e3,R={riseDelay:0,riseDuration:1.2,rotationDelay:.3,rotationDuration:2,totalRotations:1};function D(e){let{isAnimating:t=!1,useShader:n=!0}=e,a=(0,o.useRef)(null),l=(0,o.useRef)(0),s=(0,o.useRef)(0),c=(0,o.useRef)(0),b=(0,o.useRef)(-1.2),h=(0,o.useRef)(150),D=(0,o.useRef)(null),{scene:w}=(0,u.L)("".concat("/teste_glass_page","/models/POS.glb"));(0,o.useEffect)(()=>{w&&console.log("[MobileModel] GLB loaded successfully")},[w]);let A=(0,o.useMemo)(()=>{console.log("[MobileModel] Processing geometry...");let e=[];if(w.traverse(t=>{if(t instanceof m.Mesh&&t.geometry){let n=t.geometry.clone();if(t.matrixWorld&&(n.applyMatrix4(t.matrixWorld),n.attributes.normal)){let e=new m.Matrix3().getNormalMatrix(t.matrixWorld),r=n.attributes.normal,o=new m.Vector3;for(let t=0;t<r.count;t++)o.fromBufferAttribute(r,t),o.applyMatrix3(e).normalize(),r.setXYZ(t,o.x,o.y,o.z);r.needsUpdate=!0}n.attributes.position&&(n.attributes.normal||n.computeVertexNormals(),e.push(n))}}),e.length>0){var t;let n=(0,d.n4)(e,!1);return console.log("[MobileModel] Geometry merged, vertices:",null==n?void 0:null===(t=n.attributes.position)||void 0===t?void 0:t.count),n}return console.log("[MobileModel] No geometry found"),null},[w]);return((0,i.F)(()=>{if(!a.current)return;l.current+=y.speed;let e=S();t&&null===D.current?D.current=e:t||(D.current=null);let n=-1.2;if(t&&null!==D.current){let t=e-D.current-R.riseDelay;t>0&&(n=j(-1.2,.2,v(Math.min(t/R.riseDuration,1))))}let r=y.floatEnabled?Math.sin(l.current)*y.floatAmplitude*.5:0,o=0;if(t&&null!==D.current){let t=e-D.current-R.rotationDelay;t>0&&(o=v(Math.min(t/R.rotationDuration,1))*Math.PI*2*R.totalRotations)}let i=g.scale,u=i;t&&null!==D.current&&(u=i*(1+.15*v(Math.min((e-D.current)/R.riseDuration,1))));let f=t?.1:.06;b.current=j(b.current,n,f),s.current=j(s.current,o,f),c.current=j(c.current,g.rotation.x,f),h.current=j(h.current,u,f),a.current.position.x=g.position.x,a.current.position.y=b.current+r,a.current.rotation.y=s.current,a.current.rotation.x=c.current,a.current.scale.setScalar(h.current);let p=y.autoRotate?Math.cos(.5*l.current)*y.rotationAmplitude*.2:0;a.current.rotation.z=p}),A)?(console.log("[MobileModel] Rendering mesh"),(0,r.jsx)("group",{ref:a,scale:h.current,position:[g.position.x,b.current,g.position.z],rotation:[g.rotation.x,0,0],children:(0,r.jsx)(f.M,{children:(0,r.jsx)("mesh",{geometry:A,scale:.018,children:n?(0,r.jsx)(p.z,{...x}):(0,r.jsx)(p.z,{...M})})})})):(console.log("[MobileModel] Waiting for geometry..."),null)}var w=n(7275);let A=(e,t,n)=>e+(t-e)*n,z=e=>1-Math.pow(1-e,3),E=()=>performance.now()/1e3,P={riseDelay:0,riseDuration:1.2,intensityDelay:.3,intensityDuration:1};function k(e){let{target:t,isAnimating:n}=e,a=(0,o.useRef)(null),l=(0,o.useRef)(null),s=h.position[1]-.2,c=(0,o.useRef)(-1.2+s),u=(0,o.useRef)(-1.2),f=(0,o.useRef)(0);return((0,i.F)(()=>{if(!a.current||!t)return;let e=E();n&&null===l.current?l.current=e:n||(l.current=null);let r=-1.2,o=0;if(n&&null!==l.current){let t=e-l.current-P.riseDelay;t>0&&(r=A(-1.2,.2,z(Math.min(t/P.riseDuration,1))));let n=e-l.current-P.intensityDelay;if(n>0){let e=Math.min(n/P.intensityDuration,1);o=A(0,h.intensity,z(e))}}let i=r+s,p=n?.1:.06;c.current=A(c.current,i,p),u.current=A(u.current,r,p),f.current=A(f.current,o,p),a.current.position.y=c.current,a.current.intensity=f.current,t.position.y=u.current}),h.enabled)?(0,r.jsx)(w.P,{ref:a,color:h.color,intensity:f.current,position:[h.position[0],c.current,h.position[2]],angle:h.angle,penumbra:h.penumbra,distance:h.distance,attenuation:h.attenuation,anglePower:h.anglePower,target:t,opacity:h.coneOpacity}):null}function C(e){let{isAnimating:t=!1}=e,n=(0,o.useRef)(null),[i,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{n.current&&a(!0)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("object3D",{ref:n,position:[0,-1.2,0]}),(0,r.jsx)("ambientLight",{intensity:b.ambient.intensity}),b.directional.map((e,t)=>(0,r.jsx)("directionalLight",{intensity:e.intensity,position:e.position,color:e.color},"mobile-dir-".concat(t))),b.point.map((e,t)=>(0,r.jsx)("pointLight",{intensity:e.intensity,position:e.position,distance:e.distance},"mobile-point-".concat(t))),i&&n.current&&(0,r.jsx)(k,{target:n.current,isAnimating:t})]})}var _=n(9953);function F(){let[e,t]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=setTimeout(()=>t(!0),100);return()=>clearTimeout(e)},[]),e)?(0,r.jsx)(l.qA,{preset:c.qZ.preset}):null}function L(){return(0,i.F)(()=>{(0,_.Wb)()}),null}let W=(e,t,n)=>e+(t-e)*n,N=e=>1-Math.pow(1-e,3),Y={position:[0,0,4.5],fov:75},q={line1:"Transpar\xeancia",line2:"de verdade",baseY:.2,lineSpacing:.7,fontSize:.5,color:"#c9a962",letterSpacing:-.02,font:"".concat("/teste_glass_page","/fonts/Poppins-Bold.ttf")};function G(e){let{text:t,isAnimating:n,delay:a,baseY:l,zPosition:c}=e,u=(0,o.useRef)(null),f=(0,o.useRef)(0),p=(0,o.useRef)(l-.3),d=(0,o.useRef)(null);return(0,i.F)(()=>{if(!u.current)return;let e=performance.now()/1e3;n&&null===d.current?d.current=e+a:n||(d.current=null);let t=0,r=l-.3;if(n&&null!==d.current){let n=e-d.current;if(n>0){let e=N(Math.min(n/.8,1));t=e,r=W(l-.3,l,e)}}let o=n?.12:.08;f.current=W(f.current,t,o),p.current=W(p.current,r,o),u.current.material&&(u.current.material.opacity=f.current),u.current.position.y=p.current}),(0,r.jsx)(s.x,{ref:u,position:[0,p.current,c],fontSize:q.fontSize,color:q.color,anchorX:"center",anchorY:"middle",letterSpacing:q.letterSpacing,font:q.font,"material-transparent":!0,"material-opacity":0,children:t})}function T(e){let{limit:t}=e,{invalidate:n,clock:r}=(0,i.D)(),a=(0,o.useRef)(performance.now()),l=1e3/t;return(0,o.useEffect)(()=>{if(0===t)return;let e=()=>{let t=performance.now(),r=t-a.current;r>=l&&(a.current=t-r%l,n()),requestAnimationFrame(e)},o=requestAnimationFrame(e);return r.start(),()=>cancelAnimationFrame(o)},[t,n,l,r]),null}function B(e){let{isAnimating:t=!1,useShader:n=!0,resolutionScale:i=1,fpsLimit:l=0}=e,[s,c]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{console.log("[MobileScene] Component mounted");try{let e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")?console.log("[MobileScene] WebGL supported"):(console.error("[MobileScene] WebGL not supported"),c(!0))}catch(e){console.error("[MobileScene] WebGL check failed:",e),c(!0)}},[]),s)?(0,r.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,r.jsx)("span",{className:"text-[var(--text-gold)] text-sm",children:"3D n\xe3o suportado neste dispositivo"})}):(0,r.jsxs)(a.Xz,{camera:{position:Y.position,fov:Y.fov},style:{background:"transparent",width:"100%",height:"100%",pointerEvents:"none",touchAction:"pan-y"},dpr:i,frameloop:l>0?"demand":"always",gl:{antialias:!0,alpha:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!1},onCreated:e=>{console.log("[MobileScene] Canvas created",e.gl.info),e.gl.domElement.style.touchAction="pan-y",e.gl.domElement.style.pointerEvents="none"},onError:e=>{console.error("[MobileScene] Canvas error:",e),c(!0)},children:[(0,r.jsx)(L,{}),l>0&&(0,r.jsx)(T,{limit:l}),(0,r.jsxs)(o.Suspense,{fallback:null,children:[(0,r.jsx)(C,{isAnimating:t}),(0,r.jsx)(G,{text:q.line1,isAnimating:t,delay:.3,baseY:q.baseY+q.lineSpacing/2,zPosition:-2}),(0,r.jsx)(G,{text:q.line2,isAnimating:t,delay:.5,baseY:q.baseY-q.lineSpacing/2,zPosition:-2}),(0,r.jsx)(D,{isAnimating:t,useShader:n}),(0,r.jsx)(F,{})]})]},"mobile-scene-".concat(i,"-").concat(l))}},8558:function(e,t,n){n.d(t,{AQ:function(){return a},Af:function(){return o},Fc:function(){return r},hq:function(){return i},qZ:function(){return l}});let r={position:[0,0,4.3],fov:77},o={content:"Transpar\xeancia",position:[0,0,-3],fontSize:1.5,color:"#c9a962",font:"".concat("/teste_glass_page","/fonts/Poppins-Bold.ttf"),letterSpacing:-.02},i={ambient:{intensity:.6},directional:[{intensity:1.5,position:[5,5,5],color:"#ffeedd"},{intensity:.6,position:[-5,0,5],color:"#ccddff"},{intensity:1.2,position:[0,3,-5]},{intensity:.7,position:[0,-5,2],color:"#c9a962"}],point:[{intensity:1,position:[4,4,5],distance:50},{intensity:.8,position:[-4,-2,5],distance:50},{intensity:.6,position:[0,5,3],distance:50}]},a={enabled:!0,color:"#ffac45",intensity:8e3,position:[8,-10.5,-11.5],angle:1.2,penumbra:0,distance:100,coneOpacity:0,attenuation:15,anglePower:1},l={preset:"city"}}}]);