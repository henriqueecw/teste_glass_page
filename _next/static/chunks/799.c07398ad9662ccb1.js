"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{1799:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var o=n(7437),r=n(2265),i=n(2860),s=n(6154),a=n(5189),c=n(3958),l=n(8558),u=n(1751),p=n(6655),f=n(5337),d=n(4193),m=n(6376);let g={speed:.008,floatEnabled:!0,floatAmplitude:.025,autoRotate:!0,rotationAmplitude:.04},h={rotation:{x:.02,y:0,z:0},position:{x:0,y:.2,z:0},scale:150},x={ambient:{intensity:.8},directional:[{intensity:1.8,position:[0,5,8],color:"#ffffff"},{intensity:.8,position:[-3,2,5],color:"#ccddff"},{intensity:1,position:[3,-2,5],color:"#c9a962"}],point:[{intensity:.8,position:[0,3,6],distance:30}]},b={enabled:!0,color:"#ffac45",intensity:5e3,position:[0,-8,10],angle:1,penumbra:.5,distance:80,coneOpacity:0,attenuation:12,anglePower:1},y={transmission:1,thickness:.25,ior:1.2,roughness:0,distortion:0,distortionScale:0,temporalDistortion:0,chromaticAberration:.09,anisotropy:.1,clearcoat:1,clearcoatRoughness:.2,reflectivity:.3,attenuationDistance:.5,attenuationColor:"#ffffff",samples:2,backside:!0,backsideThickness:.05,color:"#ffffff"},M=(e,t,n)=>e+(t-e)*n,R=e=>1-Math.pow(1-e,3),S={mouseRotationX:.15,mouseRotationY:.12,maxRotation:.25,smoothness:.02,mousePosStrength:.5,positionLag:.008};function j(e){let{scrollProgress:t=0}=e,n=(0,r.useRef)(null),s=(0,r.useRef)(0),a=(0,r.useRef)(0),c=(0,r.useRef)(0),l=(0,r.useRef)(-1.2),x=(0,r.useRef)(150),b=(0,r.useRef)(0),j=(0,r.useRef)(0),v=(0,r.useRef)(0),P=(0,r.useRef)(0),w=(0,r.useRef)(0),z=(0,i.H)(f.L,"".concat("/teste_glass_page","/models/POS.obj"),void 0,e=>{e.total>0&&console.log("[MobileModel] Loading progress:",Math.round(e.loaded/e.total*100),"%")});(0,r.useEffect)(()=>{z&&console.log("[MobileModel] OBJ loaded successfully")},[z]);let k=(0,r.useMemo)(()=>{console.log("[MobileModel] Processing geometry...");let e=[];if(z.traverse(t=>{if(t instanceof m.Mesh){let n=t.geometry.clone();if(t.matrixWorld&&(n.applyMatrix4(t.matrixWorld),n.attributes.normal)){let e=new m.Matrix3().getNormalMatrix(t.matrixWorld),o=n.attributes.normal,r=new m.Vector3;for(let t=0;t<o.count;t++)r.fromBufferAttribute(o,t),r.applyMatrix3(e).normalize(),o.setXYZ(t,r.x,r.y,r.z);o.needsUpdate=!0}n.attributes.position&&(n.attributes.normal||n.computeVertexNormals(),e.push(n))}}),e.length>0){var t;let n=(0,d.n4)(e,!1);return console.log("[MobileModel] Geometry merged, vertices:",null==n?void 0:null===(t=n.attributes.position)||void 0===t?void 0:t.count),n}return console.log("[MobileModel] No geometry found"),null},[z]);return((0,i.F)(e=>{if(!n.current)return;s.current+=g.speed;let o=M(-1.2,.2,R(Math.min(t/.5,1))),r=g.floatEnabled?Math.sin(s.current)*g.floatAmplitude*.5:0;w.current+=((t>=.98?1:0)-w.current)*.03;let i=e.pointer.x,u=e.pointer.y,p=Math.abs(i)>.01||Math.abs(u)>.01,f=p?-i*S.mouseRotationX*w.current:0,d=p?u*S.mouseRotationY*w.current:0,m=Math.max(-S.maxRotation,Math.min(S.maxRotation,f)),y=Math.max(-S.maxRotation,Math.min(S.maxRotation,d));b.current+=(m-b.current)*S.smoothness,j.current+=(y-j.current)*S.smoothness;let z=Math.max(0,(t-.2)/.8)*Math.PI*2+b.current,k=h.rotation.x+j.current,E=p?i*S.mousePosStrength*w.current:0,L=p?u*S.mousePosStrength*.5*w.current:0;v.current+=(E-v.current)*S.positionLag,P.current+=(L-P.current)*S.positionLag,n.current.position.x=h.position.x+v.current;let C=h.scale*(1+.25*R(Math.max(0,(t-.5)/.5)));l.current=M(l.current,o,.12),a.current=M(a.current,z,.12),c.current=M(c.current,k,.12),x.current=M(x.current,C,.12),n.current.position.y=l.current+r+P.current,n.current.rotation.y=a.current,n.current.rotation.x=c.current,n.current.scale.setScalar(x.current);let _=g.autoRotate?Math.cos(.5*s.current)*g.rotationAmplitude*.2:0;n.current.rotation.z=_}),k)?(console.log("[MobileModel] Rendering mesh"),(0,o.jsx)("group",{ref:n,scale:x.current,position:[h.position.x,l.current,h.position.z],rotation:[h.rotation.x,0,0],children:(0,o.jsx)(u.M,{children:(0,o.jsx)("mesh",{geometry:k,scale:.018,children:(0,o.jsx)(p.z,{...y})})})})):(console.log("[MobileModel] Waiting for geometry..."),null)}var v=n(7275);let P=(e,t,n)=>e+(t-e)*n,w=e=>1-Math.pow(1-e,3);function z(e){let{target:t,scrollProgress:n}=e,s=(0,r.useRef)(null),a=b.position[1]-.2,c=(0,r.useRef)(-1.2+a),l=(0,r.useRef)(-1.2),u=(0,r.useRef)(0);return((0,i.F)(()=>{if(!s.current||!t)return;let e=P(-1.2,.2,w(Math.min(n/.5,1))),o=w(Math.max(0,(n-.2)/.8)),r=P(0,b.intensity,o);c.current=P(c.current,e+a,.1),l.current=P(l.current,e,.1),u.current=P(u.current,r,.1),s.current.position.y=c.current,s.current.intensity=u.current,t.position.y=l.current}),b.enabled)?(0,o.jsx)(v.P,{ref:s,color:b.color,intensity:u.current,position:[b.position[0],c.current,b.position[2]],angle:b.angle,penumbra:b.penumbra,distance:b.distance,attenuation:b.attenuation,anglePower:b.anglePower,target:t,opacity:b.coneOpacity}):null}function k(e){let{scrollProgress:t=0}=e,n=(0,r.useRef)(null),[i,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{n.current&&s(!0)},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("object3D",{ref:n,position:[0,-1.2,0]}),(0,o.jsx)("ambientLight",{intensity:x.ambient.intensity}),x.directional.map((e,t)=>(0,o.jsx)("directionalLight",{intensity:e.intensity,position:e.position,color:e.color},"mobile-dir-".concat(t))),x.point.map((e,t)=>(0,o.jsx)("pointLight",{intensity:e.intensity,position:e.position,distance:e.distance},"mobile-point-".concat(t))),i&&n.current&&(0,o.jsx)(z,{target:n.current,scrollProgress:t})]})}let E=(e,t,n)=>e+(t-e)*n,L=e=>1-Math.pow(1-e,3),C={position:[0,0,4.5],fov:75},_={line1:"Transpar\xeancia",line2:"de verdade",baseY:.2,lineSpacing:.7,fontSize:.5,color:"#c9a962",letterSpacing:-.02,font:"".concat("/teste_glass_page","/fonts/Poppins-Bold.ttf")};function A(e){let{text:t,scrollProgress:n,appearStart:s,appearEnd:c,baseY:l,zPosition:u}=e,p=(0,r.useRef)(null),f=(0,r.useRef)(0),d=(0,r.useRef)(l-.3);return(0,i.F)(()=>{if(!p.current)return;let e=L(n<s?0:n>c?1:(n-s)/(c-s)),t=E(l-.3,l,e);f.current=E(f.current,e,.15),d.current=E(d.current,t,.15),p.current.material&&(p.current.material.opacity=f.current),p.current.position.y=d.current}),(0,o.jsx)(a.x,{ref:p,position:[0,d.current,u],fontSize:_.fontSize,color:_.color,anchorX:"center",anchorY:"middle",letterSpacing:_.letterSpacing,font:_.font,"material-transparent":!0,"material-opacity":0,children:t})}function Y(e){let{scrollProgress:t=0}=e,[n,i]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{console.log("[MobileScene] Component mounted");try{let e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")?console.log("[MobileScene] WebGL supported"):(console.error("[MobileScene] WebGL not supported"),i(!0))}catch(e){console.error("[MobileScene] WebGL check failed:",e),i(!0)}},[]),n)?(0,o.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,o.jsx)("span",{className:"text-[var(--text-gold)] text-sm",children:"3D n\xe3o suportado neste dispositivo"})}):(0,o.jsx)(s.Xz,{camera:{position:C.position,fov:C.fov},style:{background:"transparent",width:"100%",height:"100%"},dpr:[1,2],gl:{antialias:!0,alpha:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!1},onCreated:e=>{console.log("[MobileScene] Canvas created",e.gl.info)},onError:e=>{console.error("[MobileScene] Canvas error:",e),i(!0)},children:(0,o.jsxs)(r.Suspense,{fallback:null,children:[(0,o.jsx)(k,{scrollProgress:t}),(0,o.jsx)(A,{text:_.line1,scrollProgress:t,appearStart:.15,appearEnd:.35,baseY:_.baseY+_.lineSpacing/2,zPosition:-2}),(0,o.jsx)(A,{text:_.line2,scrollProgress:t,appearStart:.25,appearEnd:.45,baseY:_.baseY-_.lineSpacing/2,zPosition:-2}),(0,o.jsx)(j,{scrollProgress:t}),(0,o.jsx)(c.qA,{preset:l.qZ.preset})]})})}},8558:function(e,t,n){n.d(t,{AQ:function(){return s},Af:function(){return r},Fc:function(){return o},hq:function(){return i},qZ:function(){return a}});let o={position:[0,0,4.3],fov:77},r={content:"Transpar\xeancia",position:[0,0,-3],fontSize:1.5,color:"#c9a962",font:"".concat("/teste_glass_page","/fonts/Poppins-Bold.ttf"),letterSpacing:-.02},i={ambient:{intensity:.6},directional:[{intensity:1.5,position:[5,5,5],color:"#ffeedd"},{intensity:.6,position:[-5,0,5],color:"#ccddff"},{intensity:1.2,position:[0,3,-5]},{intensity:.7,position:[0,-5,2],color:"#c9a962"}],point:[{intensity:1,position:[4,4,5],distance:50},{intensity:.8,position:[-4,-2,5],distance:50},{intensity:.6,position:[0,5,3],distance:50}]},s={enabled:!0,color:"#ffac45",intensity:8e3,position:[8,-10.5,-11.5],angle:1.2,penumbra:0,distance:100,coneOpacity:0,attenuation:15,anglePower:1},a={preset:"city"}}}]);