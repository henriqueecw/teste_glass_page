(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1751:function(e,t,r){"use strict";r.d(t,{M:function(){return l}});var n=r(3428),a=r(6376),i=r(2265);let l=i.forwardRef(function({children:e,disable:t,disableX:r,disableY:l,disableZ:o,left:s,right:u,top:c,bottom:f,front:d,back:p,onCentered:h,precise:m=!0,cacheKey:v=0,...g},y){let b=i.useRef(null),w=i.useRef(null),x=i.useRef(null);return i.useLayoutEffect(()=>{w.current.matrixWorld.identity();let e=new a.Box3().setFromObject(x.current,m),n=new a.Vector3,i=new a.Sphere,v=e.max.x-e.min.x,g=e.max.y-e.min.y,y=e.max.z-e.min.z;e.getCenter(n),e.getBoundingSphere(i);let S=c?g/2:f?-g/2:0,_=s?-v/2:u?v/2:0,E=d?y/2:p?-y/2:0;w.current.position.set(t||r?0:-n.x+_,t||l?0:-n.y+S,t||o?0:-n.z+E),void 0!==h&&h({parent:b.current.parent,container:b.current,width:v,height:g,depth:y,boundingBox:e,boundingSphere:i,center:n,verticalAlignment:S,horizontalAlignment:_,depthAlignment:E})},[v,h,c,s,d,t,r,l,o,m,u,f,p]),i.useImperativeHandle(y,()=>b.current,[]),i.createElement("group",(0,n.Z)({ref:b},g),i.createElement("group",{ref:w},i.createElement("group",{ref:x},e)))})},3958:function(e,t,r){"use strict";let n;r.d(t,{qA:function(){return eU}});var a,i=r(3428),l=r(2265),o=r(2860),s=r(6376);let u=parseInt(s.REVISION.replace(/\D+/g,"")),c=e=>e&&e.isCubeTexture;class f extends s.Mesh{constructor(e,t){var r,n;let a=c(e),i=Math.floor(Math.log2((null!=(n=a?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),l=Math.pow(2,i),o=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,f=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/(3*Math.max(l,112))}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*l)}`,`#define CUBEUV_MAX_MIP ${i}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${u>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `;super(new s.IcosahedronGeometry(1,16),new s.ShaderMaterial({uniforms:{map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}},fragmentShader:f,vertexShader:o,side:s.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class d extends s.DataTextureLoader{constructor(e){super(e),this.type=s.HalfFloatType}parse(e){let t,r,n;let a=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},i=function(e,t,r){t=t||1024;let n=e.pos,a=-1,i=0,l="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(a=o.indexOf("\n"))&&i<t&&n<e.byteLength;)l+=o,i+=o.length,n+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<a&&(!1!==r&&(e.pos+=i+a+1),l+o.slice(0,a))},l=new Uint8Array(e);l.pos=0;let o=function(e){let t,r;let n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,l=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=i(e))||a(1,"no header found"),(r=t.match(/^#\?(\S+)/))||a(3,"bad initial token"),u.valid|=1,u.programtype=r[1],u.string+=t+"\n";!1!==(t=i(e));){if(u.string+=t+"\n","#"===t.charAt(0)){u.comments+=t+"\n";continue}if((r=t.match(n))&&(u.gamma=parseFloat(r[1])),(r=t.match(l))&&(u.exposure=parseFloat(r[1])),(r=t.match(o))&&(u.valid|=2,u.format=r[1]),(r=t.match(s))&&(u.valid|=4,u.height=parseInt(r[1],10),u.width=parseInt(r[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid||a(3,"missing format specifier"),4&u.valid||a(3,"missing image size specifier"),u}(l),u=o.width,c=o.height,f=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&a(3,"wrong scanline width");let n=new Uint8Array(4*t*r);n.length||a(4,"unable to allocate buffer space");let i=0,l=0,o=4*t,s=new Uint8Array(4),u=new Uint8Array(o),c=r;for(;c>0&&l<e.byteLength;){l+4>e.byteLength&&a(1),s[0]=e[l++],s[1]=e[l++],s[2]=e[l++],s[3]=e[l++],(2!=s[0]||2!=s[1]||(s[2]<<8|s[3])!=t)&&a(3,"bad rgbe scanline format");let r=0,f;for(;r<o&&l<e.byteLength;){let t=(f=e[l++])>128;if(t&&(f-=128),(0===f||r+f>o)&&a(3,"bad scanline data"),t){let t=e[l++];for(let e=0;e<f;e++)u[r++]=t}else u.set(e.subarray(l,l+f),r),r+=f,l+=f}for(let e=0;e<t;e++){let r=0;n[i]=u[e+r],r+=t,n[i+1]=u[e+r],r+=t,n[i+2]=u[e+r],r+=t,n[i+3]=u[e+r],i+=4}c--}return n}(l.subarray(l.pos),u,c);switch(this.type){case s.FloatType:n=f.length/4;let d=new Float32Array(4*n);for(let e=0;e<n;e++)!function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*a,r[n+1]=e[t+1]*a,r[n+2]=e[t+2]*a,r[n+3]=1}(f,4*e,d,4*e);t=d,r=s.FloatType;break;case s.HalfFloatType:n=f.length/4;let p=new Uint16Array(4*n);for(let e=0;e<n;e++)!function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=s.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),r[n+1]=s.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),r[n+2]=s.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),r[n+3]=s.DataUtils.toHalfFloat(1)}(f,4*e,p,4*e);t=p,r=s.HalfFloatType;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:c,data:t,header:o.string,gamma:o.gamma,exposure:o.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){switch(e.type){case s.FloatType:case s.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,n)}}var p={},h=Uint8Array,m=Uint16Array,v=Uint32Array,g=new h([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y=new h([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b=new h([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w=function(e,t){for(var r=new m(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new v(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},x=w(g,2),S=x[0],_=x[1];S[28]=258,_[258]=28;for(var E=w(y,0),k=E[0],M=E[1],C=new m(32768),T=0;T<32768;++T){var R=(43690&T)>>>1|(21845&T)<<1;R=(61680&(R=(52428&R)>>>2|(13107&R)<<2))>>>4|(3855&R)<<4,C[T]=((65280&R)>>>8|(255&R)<<8)>>>1}for(var P=function(e,t,r){for(var n,a=e.length,i=0,l=new m(t);i<a;++i)++l[e[i]-1];var o=new m(t);for(i=0;i<t;++i)o[i]=o[i-1]+l[i-1]<<1;if(r){n=new m(1<<t);var s=15-t;for(i=0;i<a;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],f=o[e[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)n[C[f]>>>s]=u}else for(i=0,n=new m(a);i<a;++i)e[i]&&(n[i]=C[o[e[i]-1]++]>>>15-e[i]);return n},I=new h(288),T=0;T<144;++T)I[T]=8;for(var T=144;T<256;++T)I[T]=9;for(var T=256;T<280;++T)I[T]=7;for(var T=280;T<288;++T)I[T]=8;for(var z=new h(32),T=0;T<32;++T)z[T]=5;var L=P(I,9,1),F=P(z,5,1),A=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},U=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},D=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},N=function(e){return(e/8|0)+(7&e&&1)},j=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof m?m:e instanceof v?v:h)(r-t);return n.set(e.subarray(t,r)),n},O=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new h(0);var a=!t||r,i=!r||r.i;r||(r={}),t||(t=new h(3*n));var l=function(e){var r=t.length;if(e>r){var n=new h(Math.max(2*r,e));n.set(t),t=n}},o=r.f||0,s=r.p||0,u=r.b||0,c=r.l,f=r.d,d=r.m,p=r.n,m=8*n;do{if(!c){r.f=o=U(e,s,1);var v=U(e,s+1,3);if(s+=3,v){if(1==v)c=L,f=F,d=9,p=5;else if(2==v){var w=U(e,s,31)+257,x=U(e,s+10,15)+4,_=w+U(e,s+5,31)+1;s+=14;for(var E=new h(_),M=new h(19),C=0;C<x;++C)M[b[C]]=U(e,s+3*C,7);s+=3*x;for(var T=A(M),R=(1<<T)-1,I=P(M,T,1),C=0;C<_;){var z=I[U(e,s,R)];s+=15&z;var O=z>>>4;if(O<16)E[C++]=O;else{var B=0,H=0;for(16==O?(H=3+U(e,s,3),s+=2,B=E[C-1]):17==O?(H=3+U(e,s,7),s+=3):18==O&&(H=11+U(e,s,127),s+=7);H--;)E[C++]=B}}var W=E.subarray(0,w),V=E.subarray(w);d=A(W),p=A(V),c=P(W,d,1),f=P(V,p,1)}else throw"invalid block type"}else{var O=N(s)+4,G=e[O-4]|e[O-3]<<8,$=O+G;if($>n){if(i)throw"unexpected EOF";break}a&&l(u+G),t.set(e.subarray(O,$),u),r.b=u+=G,r.p=s=8*$;continue}if(s>m){if(i)throw"unexpected EOF";break}}a&&l(u+131072);for(var q=(1<<d)-1,Q=(1<<p)-1,X=s;;X=s){var B=c[D(e,s)&q],Y=B>>>4;if((s+=15&B)>m){if(i)throw"unexpected EOF";break}if(!B)throw"invalid length/literal";if(Y<256)t[u++]=Y;else if(256==Y){X=s,c=null;break}else{var Z=Y-254;if(Y>264){var C=Y-257,K=g[C];Z=U(e,s,(1<<K)-1)+S[C],s+=K}var J=f[D(e,s)&Q],ee=J>>>4;if(!J)throw"invalid distance";s+=15&J;var V=k[ee];if(ee>3){var K=y[ee];V+=D(e,s)&(1<<K)-1,s+=K}if(s>m){if(i)throw"unexpected EOF";break}a&&l(u+131072);for(var et=u+Z;u<et;u+=4)t[u]=t[u-V],t[u+1]=t[u+1-V],t[u+2]=t[u+2-V],t[u+3]=t[u+3-V];u=et}}r.l=c,r.p=X,r.b=u,c&&(o=1,r.m=d,r.d=f,r.n=p)}while(!o);return u==t.length?t:j(t,0,u)},B=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},H=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},W=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return[Y,0];if(1==a){var l=new h(r[0].s+1);return l[r[0].s]=1,[l,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],s=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+s.f,l:o,r:s};c!=a-1;)o=r[r[u].f<r[f].f?u++:f++],s=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+s.f,l:o,r:s};for(var d=i[0].s,n=1;n<a;++n)i[n].s>d&&(d=i[n].s);var p=new m(d+1),v=V(r[c-1],p,0);if(v>t){var n=0,g=0,y=v-t,b=1<<y;for(i.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<a;++n){var w=i[n].s;if(p[w]>t)g+=b-(1<<v-p[w]),p[w]=t;else break}for(g>>>=y;g>0;){var x=i[n].s;p[x]<t?g-=1<<t-p[x]++-1:++n}for(;n>=0&&g;--n){var S=i[n].s;p[S]==t&&(--p[S],++g)}v=t}return[new h(p),v]},V=function(e,t,r){return -1==e.s?Math.max(V(e.l,t,r+1),V(e.r,t,r+1)):t[e.s]=r},G=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new m(++t),n=0,a=e[0],i=1,l=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return[r.subarray(0,n),t]},$=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},q=function(e,t,r){var n=r.length,a=N(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},Q=function(e,t,r,n,a,i,l,o,s,u,c){B(t,c++,r),++a[256];for(var f,d,p,h,v=W(a,15),w=v[0],x=v[1],S=W(i,15),_=S[0],E=S[1],k=G(w),M=k[0],C=k[1],T=G(_),R=T[0],L=T[1],F=new m(19),A=0;A<M.length;++A)F[31&M[A]]++;for(var A=0;A<R.length;++A)F[31&R[A]]++;for(var U=W(F,7),D=U[0],N=U[1],j=19;j>4&&!D[b[j-1]];--j);var O=u+5<<3,V=$(a,I)+$(i,z)+l,Q=$(a,w)+$(i,_)+l+14+3*j+$(F,D)+(2*F[16]+3*F[17]+7*F[18]);if(O<=V&&O<=Q)return q(t,c,e.subarray(s,s+u));if(B(t,c,1+(Q<V)),c+=2,Q<V){f=P(w,x,0),d=w,p=P(_,E,0),h=_;var X=P(D,N,0);B(t,c,C-257),B(t,c+5,L-1),B(t,c+10,j-4),c+=14;for(var A=0;A<j;++A)B(t,c+3*A,D[b[A]]);c+=3*j;for(var Y=[M,R],Z=0;Z<2;++Z)for(var K=Y[Z],A=0;A<K.length;++A){var J=31&K[A];B(t,c,X[J]),c+=D[J],J>15&&(B(t,c,K[A]>>>5&127),c+=K[A]>>>12)}}else f=null,d=I,p=null,h=z;for(var A=0;A<o;++A)if(n[A]>255){var J=n[A]>>>18&31;H(t,c,f[J+257]),c+=d[J+257],J>7&&(B(t,c,n[A]>>>23&31),c+=g[J]);var ee=31&n[A];H(t,c,p[ee]),c+=h[ee],ee>3&&(H(t,c,n[A]>>>5&8191),c+=y[ee])}else H(t,c,f[n[A]]),c+=d[n[A]];return H(t,c,f[256]),c+d[256]},X=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y=new h(0),Z=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function K(e,t){return O((Z(e),e.subarray(2,-4)),t)}var J="undefined"!=typeof TextDecoder&&new TextDecoder;try{J.decode(Y,{stream:!0})}catch(e){}let ee=u>=152;class et extends s.DataTextureLoader{constructor(e){super(e),this.type=s.HalfFloatType}parse(e){let t={l:0,c:0,lc:0};function r(e,r,n,a,i){for(;n<e;)r=r<<8|M(a,i),n+=8;n-=e,t.l=r>>n&(1<<e)-1,t.c=r,t.lc=n}let n=Array(59),a={c:0,lc:0};function i(e,t,r,n){e=e<<8|M(r,n),t+=8,a.c=e,a.lc=t}let l={c:0,lc:0};function o(e,t,r,n,o,s,u,c,f,d){if(e==t){n<8&&(i(r,n,o,u),r=a.c,n=a.lc);var p=r>>(n-=8),p=new Uint8Array([p])[0];if(f.value+p>d)return!1;for(var h=c[f.value-1];p-- >0;)c[f.value++]=h}else{if(!(f.value<d))return!1;c[f.value++]=e}l.c=r,l.lc=n}function u(e){var t=65535&e;return t>32767?t-65536:t}let c={a:0,b:0};function f(e,t){var r=u(e),n=u(t),a=r+(1&n)+(n>>1),i=a-n;c.a=a,c.b=i}function d(e,t){var r=65535&t,n=(65535&e)-(r>>1)&65535;c.a=r+n-32768&65535,c.b=n}function p(e,s,u,c,f,d){var p=u.value,h=k(s,u),m=k(s,u);u.value+=4;var v=k(s,u);if(u.value+=4,h<0||h>=65537||m<0||m>=65537)throw"Something wrong with HUF_ENCSIZE";var g=Array(65537),y=Array(16384);!function(e){for(var t=0;t<16384;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(y);var b=c-(u.value-p);if(!function(e,a,i,l,o,s,u){for(var c=0,f=0;o<=s;o++){if(i.value-i.value>l)return!1;r(6,c,f,e,i);var d=t.l;if(c=t.c,f=t.lc,u[o]=d,63==d){if(i.value-i.value>l)throw"Something wrong with hufUnpackEncTable";r(8,c,f,e,i);var p=t.l+6;if(c=t.c,f=t.lc,o+p>s+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)u[o++]=0;o--}else if(d>=59){var p=d-59+2;if(o+p>s+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)u[o++]=0;o--}}!function(e){for(var t=0;t<=58;++t)n[t]=0;for(var t=0;t<65537;++t)n[e[t]]+=1;for(var r=0,t=58;t>0;--t){var a=r+n[t]>>1;n[t]=r,r=a}for(var t=0;t<65537;++t){var i=e[t];i>0&&(e[t]=i|n[i]++<<6)}}(u)}(e,0,u,b,h,m,g),v>8*(c-(u.value-p)))throw"Something wrong with hufUncompress";!function(e,t,r,n){for(;t<=r;t++){var a=e[t]>>6,i=63&e[t];if(a>>i)throw"Invalid table entry";if(i>14){var l=n[a>>i-14];if(l.len)throw"Invalid table entry";if(l.lit++,l.p){var o=l.p;l.p=Array(l.lit);for(var s=0;s<l.lit-1;++s)l.p[s]=o[s]}else l.p=[,];l.p[l.lit-1]=t}else if(i)for(var u=0,s=1<<14-i;s>0;s--){var l=n[(a<<14-i)+u];if(l.len||l.p)throw"Invalid table entry";l.len=i,l.lit=t,u++}}}(g,h,m,y),function(e,t,r,n,s,u,c,f,d,p){for(var h=0,m=0,v=Math.trunc(s.value+(u+7)/8);s.value<v;)for(i(h,m,r,s),h=a.c,m=a.lc;m>=14;){var g=t[h>>m-14&16383];if(g.len)m-=g.len,o(g.lit,c,h,m,r,n,s,d,p,f),h=l.c,m=l.lc;else{if(!g.p)throw"hufDecode issues";for(y=0;y<g.lit;y++){for(var y,b=63&e[g.p[y]];m<b&&s.value<v;)i(h,m,r,s),h=a.c,m=a.lc;if(m>=b&&e[g.p[y]]>>6==(h>>m-b&(1<<b)-1)){m-=b,o(g.p[y],c,h,m,r,n,s,d,p,f),h=l.c,m=l.lc;break}}if(y==g.lit)throw"hufDecode issues"}}var w=8-u&7;for(h>>=w,m-=w;m>0;){var g=t[h<<14-m&16383];if(g.len)m-=g.len,o(g.lit,c,h,m,r,n,s,d,p,f),h=l.c,m=l.lc;else throw"hufDecode issues"}}(g,y,e,s,u,v,m,d,f,{value:0})}function h(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function m(e,t){for(var r=0,n=Math.floor((e.length+1)/2),a=0,i=e.length-1;!(a>i)&&(t[a++]=e[r++],!(a>i));)t[a++]=e[n++]}function v(e){for(var t=e.byteLength,r=[],n=0,a=new DataView(e);t>0;){var i=a.getInt8(n++);if(i<0){var l=-i;t-=l+1;for(var o=0;o<l;o++)r.push(a.getUint8(n++))}else{var l=i;t-=2;for(var s=a.getUint8(n++),o=0;o<l+1;o++)r.push(s)}}return r}function g(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function y(e){var t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),r=new Uint8Array(v(t)),n=new Uint8Array(r.length);return h(r),m(r,n),new DataView(n.buffer)}function b(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return h(t),m(t,r),new DataView(r.buffer)}function w(e){for(var t=e.viewer,r={value:e.offset.value},n=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),a=new Uint8Array(8192),i=0,l=Array(e.channels),o=0;o<e.channels;o++)l[o]={},l[o].start=i,l[o].end=l[o].start,l[o].nx=e.width,l[o].ny=e.lines,l[o].size=e.type,i+=l[o].nx*l[o].ny*l[o].size;var s=z(t,r),u=z(t,r);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(s<=u)for(var o=0;o<u-s+1;o++)a[o+s]=C(t,r);var h=new Uint16Array(65536),m=function(e,t){for(var r=0,n=0;n<65536;++n)(0==n||e[n>>3]&1<<(7&n))&&(t[r++]=n);for(var a=r-1;r<65536;)t[r++]=0;return a}(a,h),v=k(t,r);p(e.array,t,r,v,n,i);for(var o=0;o<e.channels;++o)for(var g=l[o],y=0;y<l[o].size;++y)!function(e,t,r,n,a,i,l){for(var o=l<16384,s=r>a?a:r,u=1;u<=s;)u<<=1;for(u>>=1,p=u,u>>=1;u>=1;){for(var p,h,m,v,g,y=0,b=0+i*(a-p),w=i*u,x=i*p,S=n*u,_=n*p;y<=b;y+=x){for(var E=y,k=y+n*(r-p);E<=k;E+=_){var M=E+S,C=E+w,T=C+S;o?(f(e[E+t],e[C+t]),h=c.a,v=c.b,f(e[M+t],e[T+t]),m=c.a,g=c.b,f(h,m),e[E+t]=c.a,e[M+t]=c.b,f(v,g)):(d(e[E+t],e[C+t]),h=c.a,v=c.b,d(e[M+t],e[T+t]),m=c.a,g=c.b,d(h,m),e[E+t]=c.a,e[M+t]=c.b,d(v,g)),e[C+t]=c.a,e[T+t]=c.b}if(r&u){var C=E+w;o?f(e[E+t],e[C+t]):d(e[E+t],e[C+t]),h=c.a,e[C+t]=c.b,e[E+t]=h}}if(a&u)for(var E=y,k=y+n*(r-p);E<=k;E+=_){var M=E+S;o?f(e[E+t],e[M+t]):d(e[E+t],e[M+t]),h=c.a,e[M+t]=c.b,e[E+t]=h}p=u,u>>=1}}(n,g.start+y,g.nx,g.size,g.ny,g.nx*g.size,m);!function(e,t,r){for(var n=0;n<r;++n)t[n]=e[t[n]]}(h,n,i);for(var b=0,w=new Uint8Array(n.buffer.byteLength),x=0;x<e.lines;x++)for(var S=0;S<e.channels;S++){var g=l[S],_=g.nx*g.size,E=new Uint8Array(n.buffer,2*g.end,2*_);w.set(E,b),b+=2*_,g.end+=_}return new DataView(w.buffer)}function x(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,n=1==e.type?new Uint16Array(r):new Uint32Array(r),a=0,i=0,l=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:l[0]=a,l[1]=l[0]+e.width,a=l[1]+e.width;for(let a=0;a<e.width;++a)r+=t[l[0]++]<<8|t[l[1]++],n[i]=r,i++;break;case 2:l[0]=a,l[1]=l[0]+e.width,l[2]=l[1]+e.width,a=l[2]+e.width;for(let a=0;a<e.width;++a)r+=t[l[0]++]<<24|t[l[1]++]<<16|t[l[2]++]<<8,n[i]=r,i++}}return new DataView(n.buffer)}function S(e){var t=e.viewer,r={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),a={version:T(t,r),unknownUncompressedSize:T(t,r),unknownCompressedSize:T(t,r),acCompressedSize:T(t,r),dcCompressedSize:T(t,r),rleCompressedSize:T(t,r),rleUncompressedSize:T(t,r),rleRawSize:T(t,r),totalAcUncompressedCount:T(t,r),totalDcUncompressedCount:T(t,r),acCompression:T(t,r)};if(a.version<2)throw"EXRLoader.parse: "+D.compression+" version "+a.version+" is unsupported";for(var i=[],l=z(t,r)-2;l>0;){var o=_(t.buffer,r),u=C(t,r),c=u>>2&3,f=(u>>4)-1,d=new Int8Array([f])[0],h=C(t,r);i.push({name:o,index:d,type:h,compression:c}),l-=o.length+3}for(var m=D.channels,g=Array(e.channels),y=0;y<e.channels;++y){var w=g[y]={},x=m[y];w.name=x.name,w.compression=0,w.decoded=!1,w.type=x.pixelType,w.pLinear=x.pLinear,w.width=e.width,w.height=e.lines}for(var S={idx:[,,,]},E=0;E<e.channels;++E)for(var w=g[E],y=0;y<i.length;++y){var k=i[y];w.name==k.name&&(w.compression=k.compression,k.index>=0&&(S.idx[k.index]=E),w.offset=E)}if(a.acCompressedSize>0)switch(a.acCompression){case 0:var M=new Uint16Array(a.totalAcUncompressedCount);p(e.array,t,r,a.acCompressedSize,M,a.totalAcUncompressedCount);break;case 1:var R=e.array.slice(r.value,r.value+a.totalAcUncompressedCount),P=K(R),M=new Uint16Array(P.buffer);r.value+=a.totalAcUncompressedCount}if(a.dcCompressedSize>0){var L={array:e.array,offset:r,size:a.dcCompressedSize},F=new Uint16Array(b(L).buffer);r.value+=a.dcCompressedSize}if(a.rleRawSize>0){var R=e.array.slice(r.value,r.value+a.rleCompressedSize),P=K(R),A=v(P.buffer);r.value+=a.rleCompressedSize}for(var U=0,N=Array(g.length),y=0;y<N.length;++y)N[y]=[];for(var j=0;j<e.lines;++j)for(var O=0;O<g.length;++O)N[O].push(U),U+=g[O].width*e.type*2;!function(e,t,r,n,a,i){var l=new DataView(i.buffer),o=r[e.idx[0]].width,u=r[e.idx[0]].height,c=Math.floor(o/8),f=Math.ceil(o/8),d=Math.ceil(u/8),p=o-(f-1)*8,h=u-(d-1)*8,m={value:0},v=[,,,],g=[,,,],y=[,,,],b=[,,,],w=[,,,];for(let r=0;r<3;++r)w[r]=t[e.idx[r]],v[r]=r<1?0:v[r-1]+f*d,g[r]=new Float32Array(64),y[r]=new Uint16Array(64),b[r]=new Uint16Array(64*f);for(let t=0;t<d;++t){var x,S,_=8;t==d-1&&(_=h);var E=8;for(let e=0;e<f;++e){e==f-1&&(E=p);for(let e=0;e<3;++e)y[e].fill(0),y[e][0]=a[v[e]++],function(e,t,r){for(var n,a=1;a<64;)65280==(n=t[e.value])?a=64:n>>8==255?a+=255&n:(r[a]=n,a++),e.value++}(m,n,y[e]),x=y[e],(S=g[e])[0]=I(x[0]),S[1]=I(x[1]),S[2]=I(x[5]),S[3]=I(x[6]),S[4]=I(x[14]),S[5]=I(x[15]),S[6]=I(x[27]),S[7]=I(x[28]),S[8]=I(x[2]),S[9]=I(x[4]),S[10]=I(x[7]),S[11]=I(x[13]),S[12]=I(x[16]),S[13]=I(x[26]),S[14]=I(x[29]),S[15]=I(x[42]),S[16]=I(x[3]),S[17]=I(x[8]),S[18]=I(x[12]),S[19]=I(x[17]),S[20]=I(x[25]),S[21]=I(x[30]),S[22]=I(x[41]),S[23]=I(x[43]),S[24]=I(x[9]),S[25]=I(x[11]),S[26]=I(x[18]),S[27]=I(x[24]),S[28]=I(x[31]),S[29]=I(x[40]),S[30]=I(x[44]),S[31]=I(x[53]),S[32]=I(x[10]),S[33]=I(x[19]),S[34]=I(x[23]),S[35]=I(x[32]),S[36]=I(x[39]),S[37]=I(x[45]),S[38]=I(x[52]),S[39]=I(x[54]),S[40]=I(x[20]),S[41]=I(x[22]),S[42]=I(x[33]),S[43]=I(x[38]),S[44]=I(x[46]),S[45]=I(x[51]),S[46]=I(x[55]),S[47]=I(x[60]),S[48]=I(x[21]),S[49]=I(x[34]),S[50]=I(x[37]),S[51]=I(x[47]),S[52]=I(x[50]),S[53]=I(x[56]),S[54]=I(x[59]),S[55]=I(x[61]),S[56]=I(x[35]),S[57]=I(x[36]),S[58]=I(x[48]),S[59]=I(x[49]),S[60]=I(x[57]),S[61]=I(x[58]),S[62]=I(x[62]),S[63]=I(x[63]),function(e){let t=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),n=.5*Math.cos(3*3.14159/16),a=.5*Math.cos(3*3.14159/8);for(var i=[,,,,],l=[,,,,],o=[,,,,],s=[,,,,],u=0;u<8;++u){var c=8*u;i[0]=r*e[c+2],i[1]=a*e[c+2],i[2]=r*e[c+6],i[3]=a*e[c+6],l[0]=t*e[c+1]+n*e[c+3]+.2777854612564676*e[c+5]+.09754573032714427*e[c+7],l[1]=n*e[c+1]-.09754573032714427*e[c+3]-t*e[c+5]-.2777854612564676*e[c+7],l[2]=.2777854612564676*e[c+1]-t*e[c+3]+.09754573032714427*e[c+5]+n*e[c+7],l[3]=.09754573032714427*e[c+1]-.2777854612564676*e[c+3]+n*e[c+5]-t*e[c+7],o[0]=.35355362513961314*(e[c+0]+e[c+4]),o[3]=.35355362513961314*(e[c+0]-e[c+4]),o[1]=i[0]+i[3],o[2]=i[1]-i[2],s[0]=o[0]+o[1],s[1]=o[3]+o[2],s[2]=o[3]-o[2],s[3]=o[0]-o[1],e[c+0]=s[0]+l[0],e[c+1]=s[1]+l[1],e[c+2]=s[2]+l[2],e[c+3]=s[3]+l[3],e[c+4]=s[3]-l[3],e[c+5]=s[2]-l[2],e[c+6]=s[1]-l[1],e[c+7]=s[0]-l[0]}for(var f=0;f<8;++f)i[0]=r*e[16+f],i[1]=a*e[16+f],i[2]=r*e[48+f],i[3]=a*e[48+f],l[0]=t*e[8+f]+n*e[24+f]+.2777854612564676*e[40+f]+.09754573032714427*e[56+f],l[1]=n*e[8+f]-.09754573032714427*e[24+f]-t*e[40+f]-.2777854612564676*e[56+f],l[2]=.2777854612564676*e[8+f]-t*e[24+f]+.09754573032714427*e[40+f]+n*e[56+f],l[3]=.09754573032714427*e[8+f]-.2777854612564676*e[24+f]+n*e[40+f]-t*e[56+f],o[0]=.35355362513961314*(e[f]+e[32+f]),o[3]=.35355362513961314*(e[f]-e[32+f]),o[1]=i[0]+i[3],o[2]=i[1]-i[2],s[0]=o[0]+o[1],s[1]=o[3]+o[2],s[2]=o[3]-o[2],s[3]=o[0]-o[1],e[0+f]=s[0]+l[0],e[8+f]=s[1]+l[1],e[16+f]=s[2]+l[2],e[24+f]=s[3]+l[3],e[32+f]=s[3]-l[3],e[40+f]=s[2]-l[2],e[48+f]=s[1]-l[1],e[56+f]=s[0]-l[0]}(g[e]);!function(e){for(var t=0;t<64;++t){var r=e[0][t],n=e[1][t],a=e[2][t];e[0][t]=r+1.5747*a,e[1][t]=r-.1873*n-.4682*a,e[2][t]=r+1.8556*n}}(g);for(let t=0;t<3;++t)!function(e,t,r){for(var n,a=0;a<64;++a)t[r+a]=s.DataUtils.toHalfFloat((n=e[a])<=1?Math.sign(n)*Math.pow(Math.abs(n),2.2):Math.sign(n)*Math.pow(9.025013291561939,Math.abs(n)-1))}(g[t],b[t],64*e)}let i=0;for(let n=0;n<3;++n){let a=r[e.idx[n]].type;for(let e=8*t;e<8*t+_;++e){i=w[n][e];for(let t=0;t<c;++t){let r=64*t+(7&e)*8;l.setUint16(i+0*a,b[n][r+0],!0),l.setUint16(i+2*a,b[n][r+1],!0),l.setUint16(i+4*a,b[n][r+2],!0),l.setUint16(i+6*a,b[n][r+3],!0),l.setUint16(i+8*a,b[n][r+4],!0),l.setUint16(i+10*a,b[n][r+5],!0),l.setUint16(i+12*a,b[n][r+6],!0),l.setUint16(i+14*a,b[n][r+7],!0),i+=16*a}}if(c!=f)for(let e=8*t;e<8*t+_;++e){let t=w[n][e]+8*c*2*a,r=64*c+(7&e)*8;for(let e=0;e<E;++e)l.setUint16(t+2*e*a,b[n][r+e],!0)}}}for(var k=new Uint16Array(o),l=new DataView(i.buffer),M=0;M<3;++M){r[e.idx[M]].decoded=!0;var C=r[e.idx[M]].type;if(2==r[M].type)for(var T=0;T<u;++T){let e=w[M][T];for(var R=0;R<o;++R)k[R]=l.getUint16(e+2*R*C,!0);for(var R=0;R<o;++R)l.setFloat32(e+2*R*C,I(k[R]),!0)}}}(S,N,g,M,F,n);for(var y=0;y<g.length;++y){var w=g[y];if(!w.decoded){if(2===w.compression)for(var B=0,H=0,j=0;j<e.lines;++j){for(var W=N[y][B],V=0;V<w.width;++V){for(var G=0;G<2*w.type;++G)n[W++]=A[H+G*w.width*w.height];H++}B++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function _(e,t){for(var r=new Uint8Array(e),n=0;0!=r[t.value+n];)n+=1;var a=new TextDecoder().decode(r.slice(t.value,t.value+n));return t.value=t.value+n+1,a}function E(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+4,r}function k(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+4,r}function M(e,t){var r=e[t.value];return t.value=t.value+1,r}function C(e,t){var r=e.getUint8(t.value);return t.value=t.value+1,r}let T=function(e,t){let r;return r="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,r};function R(e,t){var r=e.getFloat32(t.value,!0);return t.value+=4,r}function P(e,t){return s.DataUtils.toHalfFloat(R(e,t))}function I(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function z(e,t){var r=e.getUint16(t.value,!0);return t.value+=2,r}function L(e,t){return I(z(e,t))}let F=new DataView(e),A=new Uint8Array(e),U={value:0},D=function(e,t,r){let n={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";n.version=e.getUint8(4);let a=e.getUint8(5);n.spec={singleTile:!!(2&a),longName:!!(4&a),deepFormat:!!(8&a),multiPart:!!(16&a)},r.value=8;for(var i=!0;i;){var l=_(t,r);if(0==l)i=!1;else{var o=_(t,r),s=k(e,r),u=function(e,t,r,n,a){var i,l,o,s,u;if("string"===n||"stringvector"===n||"iccProfile"===n)return i=new TextDecoder().decode(new Uint8Array(t).slice(r.value,r.value+a)),r.value=r.value+a,i;if("chlist"===n)return function(e,t,r,n){for(var a=r.value,i=[];r.value<a+n-1;){var l=_(t,r),o=E(e,r),s=C(e,r);r.value+=3;var u=E(e,r),c=E(e,r);i.push({name:l,pixelType:o,pLinear:s,xSampling:u,ySampling:c})}return r.value+=1,i}(e,t,r,a);if("chromaticities"===n)return l=R(e,r),o=R(e,r),s=R(e,r),u=R(e,r),{redX:l,redY:o,greenX:s,greenY:u,blueX:R(e,r),blueY:R(e,r),whiteX:R(e,r),whiteY:R(e,r)};if("compression"===n)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][C(e,r)];if("box2i"===n)return{xMin:k(e,r),yMin:k(e,r),xMax:k(e,r),yMax:k(e,r)};if("lineOrder"===n)return["INCREASING_Y"][C(e,r)];if("float"===n)return R(e,r);else if("v2f"===n)return[R(e,r),R(e,r)];else if("v3f"===n)return[R(e,r),R(e,r),R(e,r)];else if("int"===n)return E(e,r);else if("rational"===n)return[E(e,r),k(e,r)];else if("timecode"===n)return[k(e,r),k(e,r)];else return"preview"===n?(r.value+=a,"skipped"):void(r.value+=a)}(e,t,r,o,s);void 0===u?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${o}'.`):n[l]=u}}if((-5&a)!=0)throw console.error("EXRHeader:",n),"THREE.EXRLoader: provided file is currently unsupported.";return n}(F,e,U),N=function(e,t,r,n,a){let i={size:0,viewer:t,array:r,offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[ee?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":i.lines=1,i.uncompress=g;break;case"RLE_COMPRESSION":i.lines=1,i.uncompress=y;break;case"ZIPS_COMPRESSION":i.lines=1,i.uncompress=b;break;case"ZIP_COMPRESSION":i.lines=16,i.uncompress=b;break;case"PIZ_COMPRESSION":i.lines=32,i.uncompress=w;break;case"PXR24_COMPRESSION":i.lines=16,i.uncompress=x;break;case"DWAA_COMPRESSION":i.lines=32,i.uncompress=S;break;case"DWAB_COMPRESSION":i.lines=256,i.uncompress=S;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(i.scanlineBlockSize=i.lines,1==i.type)switch(a){case s.FloatType:i.getter=L,i.inputSize=2;break;case s.HalfFloatType:i.getter=z,i.inputSize=2}else if(2==i.type)switch(a){case s.FloatType:i.getter=R,i.inputSize=4;break;case s.HalfFloatType:i.getter=P,i.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+i.type+" for "+e.compression+".";i.blockCount=(e.dataWindow.yMax+1)/i.scanlineBlockSize;for(var l=0;l<i.blockCount;l++)T(t,n);i.outputChannels=3==i.channels?4:i.channels;let o=i.width*i.height*i.outputChannels;switch(a){case s.FloatType:i.byteArray=new Float32Array(o),i.channels<i.outputChannels&&i.byteArray.fill(1,0,o);break;case s.HalfFloatType:i.byteArray=new Uint16Array(o),i.channels<i.outputChannels&&i.byteArray.fill(15360,0,o);break;default:console.error("THREE.EXRLoader: unsupported type: ",a)}return i.bytesPerLine=i.width*i.inputSize*i.channels,4==i.outputChannels?i.format=s.RGBAFormat:i.format=s.RedFormat,ee?i.colorSpace="srgb-linear":i.encoding=3e3,i}(D,F,A,U,this.type),j={value:0},O={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<N.height/N.scanlineBlockSize;e++){let t=k(F,U);N.size=k(F,U),N.lines=t+N.scanlineBlockSize>N.height?N.height-t:N.scanlineBlockSize;let r=N.size<N.lines*N.bytesPerLine?N.uncompress(N):g(N);U.value+=N.size;for(let t=0;t<N.scanlineBlockSize;t++){let n=t+e*N.scanlineBlockSize;if(n>=N.height)break;for(let e=0;e<N.channels;e++){let a=O[D.channels[e].name];for(let i=0;i<N.width;i++){j.value=(N.channels*N.width*t+e*N.width+i)*N.inputSize;let l=(N.height-1-n)*(N.width*N.outputChannels)+i*N.outputChannels+a;N.byteArray[l]=N.getter(r,j)}}}}return{header:D,width:N.width,height:N.height,data:N.byteArray,format:N.format,[ee?"colorSpace":"encoding"]:N[ee?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){ee?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)},r,n)}}let er=(e,t,r)=>{let n;switch(e){case s.UnsignedByteType:n=new Uint8ClampedArray(t*r*4);break;case s.HalfFloatType:n=new Uint16Array(t*r*4);break;case s.UnsignedIntType:n=new Uint32Array(t*r*4);break;case s.ByteType:n=new Int8Array(t*r*4);break;case s.ShortType:n=new Int16Array(t*r*4);break;case s.IntType:n=new Int32Array(t*r*4);break;case s.FloatType:n=new Float32Array(t*r*4);break;default:throw Error("Unsupported data type")}return n},en=(e,t,r,a)=>{if(void 0!==n)return n;let i=new s.WebGLRenderTarget(1,1,a);t.setRenderTarget(i);let l=new s.Mesh(new s.PlaneGeometry,new s.MeshBasicMaterial({color:16777215}));t.render(l,r),t.setRenderTarget(null);let o=er(e,i.width,i.height);return t.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),l.geometry.dispose(),l.material.dispose(),n=0!==o[0]};class ea{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(e){this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;let t={format:s.RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:e.renderTargetOptions?.anisotropy!==void 0?e.renderTargetOptions?.anisotropy:1,generateMipmaps:e.renderTargetOptions?.generateMipmaps!==void 0&&e.renderTargetOptions?.generateMipmaps,magFilter:e.renderTargetOptions?.magFilter!==void 0?e.renderTargetOptions?.magFilter:s.LinearFilter,minFilter:e.renderTargetOptions?.minFilter!==void 0?e.renderTargetOptions?.minFilter:s.LinearFilter,samples:e.renderTargetOptions?.samples!==void 0?e.renderTargetOptions?.samples:void 0,wrapS:e.renderTargetOptions?.wrapS!==void 0?e.renderTargetOptions?.wrapS:s.ClampToEdgeWrapping,wrapT:e.renderTargetOptions?.wrapT!==void 0?e.renderTargetOptions?.wrapT:s.ClampToEdgeWrapping};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=ea.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new s.Scene,this._camera=new s.OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!en(this._type,this._renderer,this._camera,t)){let e;this._type===s.HalfFloatType&&(e=this._renderer.extensions.has("EXT_color_buffer_float")?s.FloatType:void 0),void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${s.FloatType}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new s.Mesh(new s.PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new s.WebGLRenderTarget(this.width,this.height,t),this._renderTarget.texture.mapping=e.renderTargetOptions?.mapping!==void 0?e.renderTargetOptions?.mapping:s.UVMapping}static instantiateRenderer(){let e=new s.WebGLRenderer;return e.setSize(128,128),e}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let e=er(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){let t=new s.DataTexture(this.toArray(),this.width,this.height,s.RGBAFormat,this._type,e?.mapping||s.UVMapping,e?.wrapS||s.ClampToEdgeWrapping,e?.wrapT||s.ClampToEdgeWrapping,e?.magFilter||s.LinearFilter,e?.minFilter||s.LinearFilter,e?.anisotropy||1,s.LinearSRGBColorSpace);return t.generateMipmaps=e?.generateMipmaps!==void 0&&e?.generateMipmaps,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof s.ShaderMaterial&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof s.Texture&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof s.Texture&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class ei extends Error{}class el extends Error{}let eo=(e,t,r)=>{let n=RegExp(`${t}="([^"]*)"`,"i").exec(e);if(n)return n[1];let a=RegExp(`<${t}[^>]*>([\\s\\S]*?)</${t}>`,"i").exec(e);if(a){let e=a[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return e&&3===e.length?e.map(e=>e.replace(/<\/?rdf:li>/g,"")):a[1].trim()}if(void 0!==r)return r;throw Error(`Can't find ${t} in gainmap metadata`)},es=e=>{let t;let r=(t="undefined"!=typeof TextDecoder?new TextDecoder().decode(e):e.toString()).indexOf("<x:xmpmeta");for(;-1!==r;){let e=t.indexOf("x:xmpmeta>",r),n=t.slice(r,e+10);try{let e=eo(n,"hdrgm:GainMapMin","0"),t=eo(n,"hdrgm:GainMapMax"),r=eo(n,"hdrgm:Gamma","1"),a=eo(n,"hdrgm:OffsetSDR","0.015625"),i=eo(n,"hdrgm:OffsetHDR","0.015625"),l=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(n),o=l?l[1]:"0",s=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(n);if(!s)throw Error("Incomplete gainmap metadata");let u=s[1];return{gainMapMin:Array.isArray(e)?e.map(e=>parseFloat(e)):[parseFloat(e),parseFloat(e),parseFloat(e)],gainMapMax:Array.isArray(t)?t.map(e=>parseFloat(e)):[parseFloat(t),parseFloat(t),parseFloat(t)],gamma:Array.isArray(r)?r.map(e=>parseFloat(e)):[parseFloat(r),parseFloat(r),parseFloat(r)],offsetSdr:Array.isArray(a)?a.map(e=>parseFloat(e)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetHdr:Array.isArray(i)?i.map(e=>parseFloat(e)):[parseFloat(i),parseFloat(i),parseFloat(i)],hdrCapacityMin:parseFloat(o),hdrCapacityMax:parseFloat(u)}}catch(e){}r=t.indexOf("<x:xmpmeta",e)}};class eu{options;constructor(e){this.options={debug:!!e&&void 0!==e.debug&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise((t,r)=>{let n;let a=this.options.debug,i=new DataView(e.buffer);if(65496!==i.getUint16(0)){r(Error("Not a valid jpeg"));return}let l=i.byteLength,o=2,s=0;for(;o<l;){if(++s>250){r(Error(`Found no marker after ${s} loops ðŸ˜µ`));return}if(255!==i.getUint8(o)){r(Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${i.getUint8(o).toString(16)}`));return}if(n=i.getUint8(o+1),a&&console.log(`Marker: ${n.toString(16)}`),226===n){a&&console.log("Found APP2 marker (0xffe2)");let e=o+4;if(1297106432===i.getUint32(e)){let n;let a=e+4;if(18761===i.getUint16(a))n=!1;else if(19789===i.getUint16(a))n=!0;else{r(Error("No valid endianness marker found in TIFF header"));return}if(42!==i.getUint16(a+2,!n)){r(Error("Not valid TIFF data! (no 0x002A marker)"));return}let l=i.getUint32(a+4,!n);if(l<8){r(Error("Not valid TIFF data! (First offset less than 8)"));return}let o=a+l,s=i.getUint16(o,!n),u=o+2,c=0;for(let e=u;e<u+12*s;e+=12)45057===i.getUint16(e,!n)&&(c=i.getUint32(e+8,!n));let f=o+2+12*s+4,d=[];for(let e=f;e<f+16*c;e+=16){let t={MPType:i.getUint32(e,!n),size:i.getUint32(e+4,!n),dataOffset:i.getUint32(e+8,!n),dependantImages:i.getUint32(e+12,!n),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=a+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,d.push(t)}if(this.options.extractNonFII&&d.length){let e=new Blob([i]),r=[];for(let t of d){if(t.isFII&&!this.options.extractFII)continue;let n=e.slice(t.start,t.end+1,"image/jpeg");r.push(n)}t(r)}}}o+=2+i.getUint16(o+2)}})}}let ec=async e=>{let t=es(e);if(!t)throw new el("Gain map XMP metadata not found");let r=new eu({extractFII:!0,extractNonFII:!0}),n=await r.extract(e);if(2!==n.length)throw new ei("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:t}},ef=e=>new Promise((t,r)=>{let n=document.createElement("img");n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=URL.createObjectURL(e)});class ed extends s.Loader{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(e,t){super(t),this._config=e,e.renderer&&(this._renderer=e.renderer),this._internalLoadingManager=new s.LoadingManager}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let e=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new s.Texture,sdr:new s.Texture});return this._config.createQuadRenderer({width:16,height:16,type:s.HalfFloatType,colorSpace:s.LinearSRGBColorSpace,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(e,t,r){let n,a;let i=t?new Blob([t],{type:"image/jpeg"}):void 0,l=new Blob([e],{type:"image/jpeg"}),o=!1;if("undefined"==typeof createImageBitmap){let e=await Promise.all([i?ef(i):Promise.resolve(void 0),ef(l)]);a=e[0],n=e[1],o="flipY"===r}else{let e=await Promise.all([i?createImageBitmap(i,{imageOrientation:r||"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:r||"flipY"})]);a=e[0],n=e[1]}return{sdrImage:n,gainMapImage:a,needsFlip:o}}createTextures(e,t,r){let n=new s.Texture(t||new ImageData(2,2),s.UVMapping,s.ClampToEdgeWrapping,s.ClampToEdgeWrapping,s.LinearFilter,s.LinearMipMapLinearFilter,s.RGBAFormat,s.UnsignedByteType,1,s.LinearSRGBColorSpace);n.flipY=r,n.needsUpdate=!0;let a=new s.Texture(e,s.UVMapping,s.ClampToEdgeWrapping,s.ClampToEdgeWrapping,s.LinearFilter,s.LinearMipMapLinearFilter,s.RGBAFormat,s.UnsignedByteType,1,s.SRGBColorSpace);return a.flipY=r,a.needsUpdate=!0,{gainMap:n,sdr:a}}updateQuadRenderer(e,t,r,n,a){e.width=t.width,e.height=t.height,e.material.gainMap=r,e.material.sdr=n,e.material.gainMapMin=a.gainMapMin,e.material.gainMapMax=a.gainMapMax,e.material.offsetHdr=a.offsetHdr,e.material.offsetSdr=a.offsetSdr,e.material.gamma=a.gamma,e.material.hdrCapacityMin=a.hdrCapacityMin,e.material.hdrCapacityMax=a.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),e.material.needsUpdate=!0}}let ep=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,eh=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class em extends s.ShaderMaterial{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:n,gainMapMax:a,maxDisplayBoost:i,hdrCapacityMin:l,hdrCapacityMax:o,sdr:u,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:ep,fragmentShader:eh,uniforms:{sdr:{value:u},gainMap:{value:c},gamma:{value:new s.Vector3(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new s.Vector3().fromArray(t)},offsetSdr:{value:new s.Vector3().fromArray(r)},gainMapMin:{value:new s.Vector3().fromArray(n)},gainMapMax:{value:new s.Vector3().fromArray(a)},weightFactor:{value:(Math.log2(i)-l)/(o-l)}},blending:s.NoBlending,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=i,this._hdrCapacityMin=l,this._hdrCapacityMax=o,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){let e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){let t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){let e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}a={renderer:s.WebGLRenderer,createMaterial:e=>new em(e),createQuadRenderer:e=>new ea(e)},e=>{let{sdr:t,gainMap:r,renderer:n}=e;t.colorSpace!==s.SRGBColorSpace&&(console.warn("SDR Colorspace needs to be *SRGBColorSpace*, setting it automatically"),t.colorSpace=s.SRGBColorSpace),t.needsUpdate=!0,r.colorSpace!==s.LinearSRGBColorSpace&&(console.warn("Gainmap Colorspace needs to be *LinearSRGBColorSpace*, setting it automatically"),r.colorSpace=s.LinearSRGBColorSpace),r.needsUpdate=!0;let i=a.createMaterial({...e,sdr:t,gainMap:r});return a.createQuadRenderer({width:t.image.width,height:t.image.height,type:s.HalfFloatType,colorSpace:s.LinearSRGBColorSpace,material:i,renderer:n,renderTargetOptions:e.renderTargetOptions})};class ev extends ed{constructor(e,t){super({renderer:e,createMaterial:e=>new em(e),createQuadRenderer:e=>new ea(e)},t)}async render(e,t,r,n){let{sdrImage:a,gainMapImage:i,needsFlip:l}=await this.processImages(r,n,"flipY"),{gainMap:o,sdr:s}=this.createTextures(a,i,l);this.updateQuadRenderer(e,a,o,s,t),e.render()}}class eg extends ev{load([e,t,r],n,a,i){let l,o,u;let c=this.prepareQuadRenderer(),f=async()=>{if(l&&o&&u){try{await this.render(c,u,l,o)}catch(n){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),"function"==typeof i&&i(n),c.disposeOnDemandRenderer();return}"function"==typeof n&&n(c),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),c.disposeOnDemandRenderer()}},d=!0,p=0,h=0,m=!0,v=0,g=0,y=!0,b=0,w=0,x=()=>{if("function"==typeof a){let e=p+v+b,t=h+g+w,r=d&&m&&y;a(new ProgressEvent("progress",{lengthComputable:r,loaded:t,total:e}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);let S=new s.FileLoader(this._internalLoadingManager);S.setResponseType("arraybuffer"),S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(this.withCredentials),S.load(e,async e=>{if("string"==typeof e)throw Error("Invalid sdr buffer");l=e,await f()},e=>{d=e.lengthComputable,h=e.loaded,p=e.total,x()},t=>{this.manager.itemError(e),"function"==typeof i&&i(t)});let _=new s.FileLoader(this._internalLoadingManager);_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setPath(this.path),_.setWithCredentials(this.withCredentials),_.load(t,async e=>{if("string"==typeof e)throw Error("Invalid gainmap buffer");o=e,await f()},e=>{m=e.lengthComputable,g=e.loaded,v=e.total,x()},e=>{this.manager.itemError(t),"function"==typeof i&&i(e)});let E=new s.FileLoader(this._internalLoadingManager);return E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(r,async e=>{if("string"!=typeof e)throw Error("Invalid metadata string");u=JSON.parse(e),await f()},e=>{y=e.lengthComputable,w=e.loaded,b=e.total,x()},e=>{this.manager.itemError(r),"function"==typeof i&&i(e)}),c}}class ey extends ev{load(e,t,r,n){let a=this.prepareQuadRenderer(),i=new s.FileLoader(this._internalLoadingManager);return i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setPath(this.path),i.setWithCredentials(this.withCredentials),this.manager.itemStart(e),i.load(e,async r=>{let i,l,o;if("string"==typeof r)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let s=new Uint8Array(r);try{let e=await ec(s);i=e.sdr,l=e.gainMap,o=e.metadata}catch(t){if(t instanceof el||t instanceof ei)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),o={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},i=s;else throw t}try{await this.render(a,o,i.buffer,l?.buffer)}catch(t){this.manager.itemError(e),"function"==typeof n&&n(t),a.disposeOnDemandRenderer();return}"function"==typeof t&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,t=>{this.manager.itemError(e),"function"==typeof n&&n(t)}),a}}let eb={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ew="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ex=e=>Array.isArray(e),eS=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function e_({files:e=eS,path:t="",preset:r,encoding:n,extensions:a}={}){let i=null,u=!1;r&&(eM(r),e=eb[r],t=ew),u=ex(e);let{extension:c,isCubemap:f}=eC(e);if(!(i=eT(c)))throw Error("useEnvironment: Unrecognized file extension: "+e);let d=(0,o.D)(e=>e.gl);(0,l.useLayoutEffect)(()=>{("webp"===c||"jpg"===c||"jpeg"===c)&&d.domElement.addEventListener("webglcontextlost",function(){o.H.clear(i,u?[e]:e)},{once:!0})},[e,d.domElement]);let p=(0,o.H)(i,u?[e]:e,e=>{("webp"===c||"jpg"===c||"jpeg"===c)&&e.setRenderer(d),null==e.setPath||e.setPath(t),a&&a(e)}),h=u?p[0]:p;if("jpg"===c||"jpeg"===c||"webp"===c){var m;h=null==(m=h.renderTarget)?void 0:m.texture}return h.mapping=f?s.CubeReflectionMapping:s.EquirectangularReflectionMapping,"colorSpace"in h?h.colorSpace=(null!=n?n:f)?"srgb":"srgb-linear":h.encoding=(null!=n?n:f)?3001:3e3,h}let eE={files:eS,path:"",preset:void 0,extensions:void 0};e_.preload=e=>{let t={...eE,...e},{files:r,path:n=""}=t,{preset:a,extensions:i}=t;a&&(eM(a),r=eb[a],n=ew);let{extension:l}=eC(r);if("webp"===l||"jpg"===l||"jpeg"===l)throw Error("useEnvironment: Preloading gainmaps is not supported");let s=eT(l);if(!s)throw Error("useEnvironment: Unrecognized file extension: "+r);o.H.preload(s,ex(r)?[r]:r,e=>{null==e.setPath||e.setPath(n),i&&i(e)})};let ek={files:eS,preset:void 0};function eM(e){if(!(e in eb))throw Error("Preset must be one of: "+Object.keys(eb).join(", "))}function eC(e){var t;let r=ex(e)&&6===e.length,n=ex(e)&&3===e.length&&e.some(e=>e.endsWith("json")),a=ex(e)?e[0]:e;return{extension:r?"cube":n?"webp":a.startsWith("data:application/exr")?"exr":a.startsWith("data:application/hdr")?"hdr":a.startsWith("data:image/jpeg")?"jpg":null==(t=a.split(".").pop())||null==(t=t.split("?"))||null==(t=t.shift())?void 0:t.toLowerCase(),isCubemap:r,isGainmap:n}}function eT(e){return"cube"===e?s.CubeTextureLoader:"hdr"===e?d:"exr"===e?et:"jpg"===e||"jpeg"===e?ey:"webp"===e?eg:null}e_.clear=e=>{let t={...ek,...e},{files:r}=t,{preset:n}=t;n&&(eM(n),r=eb[n]);let{extension:a}=eC(r),i=eT(a);if(!i)throw Error("useEnvironment: Unrecognized file extension: "+r);o.H.clear(i,ex(r)?[r]:r)};let eR=e=>e.current&&e.current.isScene,eP=e=>eR(e)?e.current:e;function eI(e,t,r,n,a={}){var i,l,s,u;a={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...a};let c=eP(t||r),f=c.background,d=c.environment,p={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:null!==(i=null==(l=c.backgroundRotation)||null==l.clone?void 0:l.clone())&&void 0!==i?i:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:null!==(s=null==(u=c.environmentRotation)||null==u.clone?void 0:u.clone())&&void 0!==s?s:[0,0,0]};return"only"!==e&&(c.environment=n),e&&(c.background=n),(0,o.k)(c,a),()=>{"only"!==e&&(c.environment=d),e&&(c.background=f),(0,o.k)(c,p)}}function ez({scene:e,background:t=!1,map:r,...n}){let a=(0,o.D)(e=>e.scene);return l.useLayoutEffect(()=>{if(r)return eI(t,e,a,r,n)}),null}function eL({background:e=!1,scene:t,blur:r,backgroundBlurriness:n,backgroundIntensity:a,backgroundRotation:i,environmentIntensity:s,environmentRotation:u,...c}){let f=e_(c),d=(0,o.D)(e=>e.scene);return l.useLayoutEffect(()=>eI(e,t,d,f,{backgroundBlurriness:null!=r?r:n,backgroundIntensity:a,backgroundRotation:i,environmentIntensity:s,environmentRotation:u})),l.useEffect(()=>()=>{f.dispose()},[f]),null}function eF({children:e,near:t=.1,far:r=1e3,resolution:n=256,frames:a=1,map:i,background:u=!1,blur:c,backgroundBlurriness:f,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:h,environmentRotation:m,scene:v,files:g,path:y,preset:b,extensions:w}){let x=(0,o.D)(e=>e.gl),S=(0,o.D)(e=>e.scene),_=l.useRef(null),[E]=l.useState(()=>new s.Scene),k=l.useMemo(()=>{let e=new s.WebGLCubeRenderTarget(n);return e.texture.type=s.HalfFloatType,e},[n]);l.useEffect(()=>()=>{k.dispose()},[k]),l.useLayoutEffect(()=>{if(1===a){let e=x.autoClear;x.autoClear=!0,_.current.update(x,E),x.autoClear=e}return eI(u,v,S,k.texture,{backgroundBlurriness:null!=c?c:f,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:h,environmentRotation:m})},[e,E,k.texture,v,S,u,a,x]);let M=1;return(0,o.F)(()=>{if(a===1/0||M<a){let e=x.autoClear;x.autoClear=!0,_.current.update(x,E),x.autoClear=e,M++}}),l.createElement(l.Fragment,null,(0,o.h)(l.createElement(l.Fragment,null,e,l.createElement("cubeCamera",{ref:_,args:[t,r,k]}),g||b?l.createElement(eL,{background:!0,files:g,preset:b,path:y,extensions:w}):i?l.createElement(ez,{background:!0,map:i,extensions:w}):null),E))}function eA(e){var t,r,n,a;let s=e_(e),u=e.map||s;l.useMemo(()=>(0,o.e)({GroundProjectedEnvImpl:f}),[]),l.useEffect(()=>()=>{s.dispose()},[s]);let c=l.useMemo(()=>[u],[u]),d=null==(t=e.ground)?void 0:t.height,p=null==(r=e.ground)?void 0:r.radius,h=null!==(n=null==(a=e.ground)?void 0:a.scale)&&void 0!==n?n:1e3;return l.createElement(l.Fragment,null,l.createElement(ez,(0,i.Z)({},e,{map:u})),l.createElement("groundProjectedEnvImpl",{args:c,scale:h,height:d,radius:p}))}function eU(e){return e.ground?l.createElement(eA,e):e.map?l.createElement(ez,e):e.children?l.createElement(eF,e):l.createElement(eL,e)}},6655:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(3428),a=r(6376),i=r(2265),l=r(2860);function o(e,t,r){let n=(0,l.D)(e=>e.size),o=(0,l.D)(e=>e.viewport),s="number"==typeof e?e:n.width*o.dpr,u="number"==typeof t?t:n.height*o.dpr,{samples:c=0,depth:f,...d}=("number"==typeof e?r:e)||{},p=i.useMemo(()=>{let e=new a.WebGLRenderTarget(s,u,{minFilter:a.LinearFilter,magFilter:a.LinearFilter,type:a.HalfFloatType,...d});return f&&(e.depthTexture=new a.DepthTexture(s,u,a.FloatType)),e.samples=c,e},[]);return i.useLayoutEffect(()=>{p.setSize(s,u),c&&(p.samples=c)},[c,p,s,u]),i.useEffect(()=>()=>p.dispose(),[]),p}let s=function(e,t,r,n){let i=class extends a.ShaderMaterial{constructor(i={}){let l=Object.entries(e);super({uniforms:l.reduce((e,[t,r])=>{let n=a.UniformsUtils.clone({[t]:{value:r}});return{...e,...n}},{}),vertexShader:t,fragmentShader:r}),this.key="",l.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,i),n&&n(this)}};return i.key=a.MathUtils.generateUUID(),i}({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");class u extends a.MeshPhysicalMaterial{constructor(e=6,t=!1){super(),this.uniforms={chromaticAberration:{value:.05},transmission:{value:0},_transmission:{value:1},transmissionMap:{value:null},roughness:{value:0},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:1/0},attenuationColor:{value:new a.Color("white")},anisotropicBlur:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=r=>{r.uniforms={...r.uniforms,...this.uniforms},this.anisotropy>0&&(r.defines.USE_ANISOTROPY=""),t?r.defines.USE_SAMPLER="":r.defines.USE_TRANSMISSION="",r.fragmentShader=`
      uniform float chromaticAberration;         
      uniform float anisotropicBlur;      
      uniform float time;
      uniform float distortion;
      uniform float distortionScale;
      uniform float temporalDistortion;
      uniform sampler2D buffer;

      vec3 random3(vec3 c) {
        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
        vec3 r;
        r.z = fract(512.0*j);
        j *= .125;
        r.x = fract(512.0*j);
        j *= .125;
        r.y = fract(512.0*j);
        return r-0.5;
      }

      uint hash( uint x ) {
        x += ( x << 10u );
        x ^= ( x >>  6u );
        x += ( x <<  3u );
        x ^= ( x >> 11u );
        x += ( x << 15u );
        return x;
      }

      // Compound versions of the hashing algorithm I whipped together.
      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }
      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }
      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }

      // Construct a float with half-open range [0:1] using low 23 bits.
      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.
      float floatConstruct( uint m ) {
        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask
        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32
        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)
        m |= ieeeOne;                          // Add fractional part to 1.0
        float  f = uintBitsToFloat( m );       // Range [1:2]
        return f - 1.0;                        // Range [0:1]
      }

      // Pseudo-random value in half-open range [0:1].
      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }
      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float rand(float seed) {
        float result = randomBase(vec3(gl_FragCoord.xy, seed));
        return result;
      }

      const float F3 =  0.3333333;
      const float G3 =  0.1666667;

      float snoise(vec3 p) {
        vec3 s = floor(p + dot(p, vec3(F3)));
        vec3 x = p - s + dot(s, vec3(G3));
        vec3 e = step(vec3(0.0), x - x.yzx);
        vec3 i1 = e*(1.0 - e.zxy);
        vec3 i2 = 1.0 - e.zxy*(1.0 - e);
        vec3 x1 = x - i1 + G3;
        vec3 x2 = x - i2 + 2.0*G3;
        vec3 x3 = x - 1.0 + 3.0*G3;
        vec4 w, d;
        w.x = dot(x, x);
        w.y = dot(x1, x1);
        w.z = dot(x2, x2);
        w.w = dot(x3, x3);
        w = max(0.6 - w, 0.0);
        d.x = dot(random3(s), x);
        d.y = dot(random3(s + i1), x1);
        d.z = dot(random3(s + i2), x2);
        d.w = dot(random3(s + 1.0), x3);
        w *= w;
        w *= w;
        d *= w;
        return dot(d, vec4(52.0));
      }

      float snoiseFractal(vec3 m) {
        return 0.5333333* snoise(m)
              +0.2666667* snoise(2.0*m)
              +0.1333333* snoise(4.0*m)
              +0.0666667* snoise(8.0*m);
      }
`+r.fragmentShader,r.fragmentShader=r.fragmentShader.replace("#include <transmission_pars_fragment>",`
        #ifdef USE_TRANSMISSION
          // Transmission code is based on glTF-Sampler-Viewer
          // https://github.com/KhronosGroup/glTF-Sample-Viewer
          uniform float _transmission;
          uniform float thickness;
          uniform float attenuationDistance;
          uniform vec3 attenuationColor;
          #ifdef USE_TRANSMISSIONMAP
            uniform sampler2D transmissionMap;
          #endif
          #ifdef USE_THICKNESSMAP
            uniform sampler2D thicknessMap;
          #endif
          uniform vec2 transmissionSamplerSize;
          uniform sampler2D transmissionSamplerMap;
          uniform mat4 modelMatrix;
          uniform mat4 projectionMatrix;
          varying vec3 vWorldPosition;
          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
            // Direction of refracted light.
            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
            // Compute rotation-independant scaling of the model matrix.
            vec3 modelScale;
            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
            // The thickness is specified in local space.
            return normalize( refractionVector ) * thickness * modelScale;
          }
          float applyIorToRoughness( const in float roughness, const in float ior ) {
            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
            // an IOR of 1.5 results in the default amount of microfacet refraction.
            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
          }
          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            
            #ifdef USE_SAMPLER
              #ifdef texture2DLodEXT
                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #else
                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #endif
            #else
              return texture2D(buffer, fragCoord.xy);
            #endif
          }
          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
            if ( isinf( attenuationDistance ) ) {
              // Attenuation distance is +âˆž, i.e. the transmitted color is not attenuated at all.
              return radiance;
            } else {
              // Compute light attenuation using Beer's law.
              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law
              return transmittance * radiance;
            }
          }
          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
            const in vec3 attenuationColor, const in float attenuationDistance ) {
            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
            vec3 refractedRayExit = position + transmissionRay;
            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
            vec2 refractionCoords = ndcPos.xy / ndcPos.w;
            refractionCoords += 1.0;
            refractionCoords /= 2.0;
            // Sample framebuffer to get pixel the refracted ray hits.
            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
            // Get the specular component.
            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
          }
        #endif
`),r.fragmentShader=r.fragmentShader.replace("#include <transmission_fragment>",`  
        // Improve the refraction to use the world pos
        material.transmission = _transmission;
        material.transmissionAlpha = 1.0;
        material.thickness = thickness;
        material.attenuationDistance = attenuationDistance;
        material.attenuationColor = attenuationColor;
        #ifdef USE_TRANSMISSIONMAP
          material.transmission *= texture2D( transmissionMap, vUv ).r;
        #endif
        #ifdef USE_THICKNESSMAP
          material.thickness *= texture2D( thicknessMap, vUv ).g;
        #endif
        
        vec3 pos = vWorldPosition;
        float runningSeed = 0.0;
        vec3 v = normalize( cameraPosition - pos );
        vec3 n = inverseTransformDirection( normal, viewMatrix );
        vec3 transmission = vec3(0.0);
        float transmissionR, transmissionB, transmissionG;
        float randomCoords = rand(runningSeed++);
        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);
        vec3 distortionNormal = vec3(0.0);
        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;
        if (distortion > 0.0) {
          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));
        }
        for (float i = 0.0; i < ${e}.0; i ++) {
          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);
          transmissionR = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${e}),
            material.attenuationColor, material.attenuationDistance
          ).r;
          transmissionG = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${e})) , material.thickness + thickness_smear * (i + randomCoords) / float(${e}),
            material.attenuationColor, material.attenuationDistance
          ).g;
          transmissionB = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${e})), material.thickness + thickness_smear * (i + randomCoords) / float(${e}),
            material.attenuationColor, material.attenuationDistance
          ).b;
          transmission.r += transmissionR;
          transmission.g += transmissionG;
          transmission.b += transmissionB;
        }
        transmission /= ${e}.0;
        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
`)},Object.keys(this.uniforms).forEach(e=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))}}let c=i.forwardRef(({buffer:e,transmissionSampler:t=!1,backside:r=!1,side:c=a.FrontSide,transmission:f=1,thickness:d=0,backsideThickness:p=0,backsideEnvMapIntensity:h=1,samples:m=10,resolution:v,backsideResolution:g,background:y,anisotropy:b,anisotropicBlur:w,...x},S)=>{let _,E,k,M;(0,l.e)({MeshTransmissionMaterial:u});let C=i.useRef(null),[T]=i.useState(()=>new s),R=o(g||v),P=o(v);return(0,l.F)(e=>{C.current.time=e.clock.elapsedTime,C.current.buffer===P.texture&&!t&&(M=C.current.__r3f.parent)&&(k=e.gl.toneMapping,_=e.scene.background,E=C.current.envMapIntensity,e.gl.toneMapping=a.NoToneMapping,y&&(e.scene.background=y),M.material=T,r&&(e.gl.setRenderTarget(R),e.gl.render(e.scene,e.camera),M.material=C.current,M.material.buffer=R.texture,M.material.thickness=p,M.material.side=a.BackSide,M.material.envMapIntensity=h),e.gl.setRenderTarget(P),e.gl.render(e.scene,e.camera),M.material=C.current,M.material.thickness=d,M.material.side=c,M.material.buffer=P.texture,M.material.envMapIntensity=E,e.scene.background=_,e.gl.setRenderTarget(null),e.gl.toneMapping=k)}),i.useImperativeHandle(S,()=>C.current,[]),i.createElement("meshTransmissionMaterial",(0,n.Z)({args:[m,t],ref:C},x,{buffer:e||P.texture,_transmission:f,anisotropicBlur:null!=w?w:b,transmission:t?f:0,thickness:d,side:c}))})},7275:function(e,t,r){"use strict";r.d(t,{P:function(){return c}});var n=r(3428),a=r(2265),i=r(6376),l=r(2860);let o=parseInt(i.REVISION.replace(/\D+/g,""));class s extends i.ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new i.Vector3(0,0,0)},lightColor:{value:new i.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new i.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:`
        varying vec3 vNormal;
        varying float vViewZ;
        varying float vIntensity;
        uniform vec3 spotPosition;
        uniform float attenuation;

        #include <common>
        #include <logdepthbuf_pars_vertex>

        void main() {
          // compute intensity
          vNormal = normalize(normalMatrix * normal);
          vec4 worldPosition = modelMatrix * vec4(position, 1);
          vec4 viewPosition = viewMatrix * worldPosition;
          vViewZ = viewPosition.z;

          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);

          gl_Position = projectionMatrix * viewPosition;

          #include <logdepthbuf_vertex>
        }
      `,fragmentShader:`
        varying vec3 vNormal;
        varying float vViewZ;
        varying float vIntensity;

        uniform vec3 lightColor;
        uniform float anglePower;
        uniform sampler2D depth;
        uniform vec2 resolution;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float opacity;

        #include <packing>
        #include <logdepthbuf_pars_fragment>

        float readDepth(sampler2D depthSampler, vec2 uv) {
          float fragCoordZ = texture(depthSampler, uv).r;

          // https://github.com/mrdoob/three.js/issues/23072
          #ifdef USE_LOGDEPTHBUF
            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));
          #else
            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);
          #endif

          return viewZ;
        }

        void main() {
          #include <logdepthbuf_fragment>

          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));
          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);
          float intensity = vIntensity * angleIntensity;

          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry
          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;
          if (isSoft) {
            vec2 uv = gl_FragCoord.xy / resolution;
            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));
          }

          gl_FragColor = vec4(lightColor, intensity * opacity);

          #include <tonemapping_fragment>
          #include <${o>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}}function u({opacity:e=1,radiusTop:t,radiusBottom:r,depthBuffer:n,color:o="white",distance:u=5,angle:c=.15,attenuation:f=5,anglePower:d=5}){let p=a.useRef(null),h=(0,l.D)(e=>e.size),m=(0,l.D)(e=>e.camera),v=(0,l.D)(e=>e.viewport.dpr),[g]=a.useState(()=>new s),[y]=a.useState(()=>new i.Vector3);t=void 0===t?.1:t,r=void 0===r?7*c:r,(0,l.F)(()=>{g.uniforms.spotPosition.value.copy(p.current.getWorldPosition(y)),p.current.lookAt(p.current.parent.target.getWorldPosition(y))});let b=a.useMemo(()=>{let e=new i.CylinderGeometry(t,r,u,128,64,!0);return e.applyMatrix4(new i.Matrix4().makeTranslation(0,-u/2,0)),e.applyMatrix4(new i.Matrix4().makeRotationX(-Math.PI/2)),e},[u,t,r]);return a.createElement(a.Fragment,null,a.createElement("mesh",{ref:p,geometry:b,raycast:()=>null},a.createElement("primitive",{object:g,attach:"material","uniforms-opacity-value":e,"uniforms-lightColor-value":o,"uniforms-attenuation-value":f,"uniforms-anglePower-value":d,"uniforms-depth-value":n,"uniforms-cameraNear-value":m.near,"uniforms-cameraFar-value":m.far,"uniforms-resolution-value":n?[h.width*v,h.height*v]:[0,0]})))}let c=a.forwardRef(({opacity:e=1,radiusTop:t,radiusBottom:r,depthBuffer:i,color:l="white",distance:o=5,angle:s=.15,attenuation:c=5,anglePower:f=5,volumetric:d=!0,debug:p=!1,children:h,...m},v)=>{let g=a.useRef(null);return a.useImperativeHandle(v,()=>g.current,[]),a.createElement("group",null,p&&g.current&&a.createElement("spotLightHelper",{args:[g.current]}),a.createElement("spotLight",(0,n.Z)({ref:g,angle:s,color:l,distance:o,castShadow:!0},m),d&&a.createElement(u,{debug:p,opacity:e,radiusTop:t,radiusBottom:r,depthBuffer:i,color:l,distance:o,angle:s,attenuation:c,anglePower:f})),h&&a.cloneElement(h,{spotlightRef:g,debug:p}))})},5189:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var n=r(3428),a=r(2265),i=r(5494),l=r(2860),o=r(6187);let s=a.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:r="middle",font:s,fontSize:u=1,children:c,characters:f,onSync:d,...p},h)=>{let m=(0,l.D)(({invalidate:e})=>e),[v]=a.useState(()=>new i.xv),[g,y]=a.useMemo(()=>{let e=[],t="";return a.Children.forEach(c,r=>{"string"==typeof r||"number"==typeof r?t+=r:e.push(r)}),[e,t]},[c]);return(0,o.Rq)(()=>new Promise(e=>(0,i.C5)({font:s,characters:f},e)),["troika-text",s,f]),a.useLayoutEffect(()=>void v.sync(()=>{m(),d&&d(v)})),a.useEffect(()=>()=>v.dispose(),[v]),a.createElement("primitive",(0,n.Z)({object:v,ref:h,font:s,text:y,anchorX:t,anchorY:r,fontSize:u,sdfGlyphSize:e},p),g)})},2860:function(e,t,r){"use strict";let n,a,i;r.d(t,{B:function(){return C},D:function(){return el},E:function(){return T},F:function(){return eo},H:function(){return ec},a:function(){return k},b:function(){return ey},c:function(){return eE},d:function(){return ew},e:function(){return w},h:function(){return ex},i:function(){return E},k:function(){return em},u:function(){return M}});var l,o,s=r(6376),u=r(2265),c=r(5505);let f="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?u.useEffect:u.useLayoutEffect;function d(e){let t="function"==typeof e?function(e){let t;let r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(a!==t){let e=t;t=n?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i=(e,n=a,i=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let l=n(t);function o(){let r=n(t);if(!i(l,r)){let t=l;e(l=r,t)}}return r.add(o),()=>r.delete(o)},l={setState:n,getState:a,subscribe:(e,t,n)=>t||n?i(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,a,l),l}(e):e,r=(e=t.getState,r=Object.is)=>{let n;let[,a]=(0,u.useReducer)(e=>e+1,0),i=t.getState(),l=(0,u.useRef)(i),o=(0,u.useRef)(e),s=(0,u.useRef)(r),c=(0,u.useRef)(!1),d=(0,u.useRef)();void 0===d.current&&(d.current=e(i));let p=!1;(l.current!==i||o.current!==e||s.current!==r||c.current)&&(n=e(i),p=!r(d.current,n)),f(()=>{p&&(d.current=n),l.current=i,o.current=e,s.current=r,c.current=!1});let h=(0,u.useRef)(i);f(()=>{let e=()=>{try{let e=t.getState(),r=o.current(e);s.current(d.current,r)||(l.current=e,d.current=r,a())}catch(e){c.current=!0,a()}},r=t.subscribe(e);return t.getState()!==h.current&&e(),r},[]);let m=p?n:d.current;return(0,u.useDebugValue)(m),m};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[r,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},r}var p=r(6187),h=r(7437),m=r(1177),v=r.n(m),g=r(4362),y=r(2601);let b={},w=e=>void Object.assign(b,e),x=e=>"colorSpace"in e||"outputColorSpace"in e,S=()=>{var e;return null!=(e=b.ColorManagement)?e:null},_=e=>e&&e.isOrthographicCamera,E=e=>e&&e.hasOwnProperty("current"),k="undefined"!=typeof window&&(null!=(l=window.document)&&l.createElement||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?u.useLayoutEffect:u.useEffect;function M(e){let t=u.useRef(e);return k(()=>void(t.current=e),[e]),t}function C({set:e}){return k(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class T extends u.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}T.getDerivedStateFromError=()=>({error:!0});let R="__default",P=new Map,I=e=>e&&!!e.memoized&&!!e.changes;function z(e){var t;let r="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],r),e[1]):e}let L=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function F(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}let A={obj:e=>e===Object(e)&&!A.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:r="shallow",objects:n="reference",strict:a=!0}={}){let i;if(typeof e!=typeof t||!!e!=!!t)return!1;if(A.str(e)||A.num(e)||A.boo(e))return e===t;let l=A.obj(e);if(l&&"reference"===n)return e===t;let o=A.arr(e);if(o&&"reference"===r)return e===t;if((o||l)&&e===t)return!0;for(i in e)if(!(i in t))return!1;if(l&&"shallow"===r&&"shallow"===n){for(i in a?t:e)if(!A.equ(e[i],t[i],{strict:a,objects:"reference"}))return!1}else for(i in a?t:e)if(e[i]!==t[i])return!1;if(A.und(i)){if(o&&0===e.length&&0===t.length||l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function U(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function D(e,t){let r=e;if(!t.includes("-"))return{target:r,key:t};{let n=t.split("-"),a=n.pop();return{target:r=n.reduce((e,t)=>e[t],e),key:a}}}let N=/-\d+$/;function j(e,t,r){if(A.str(r)){if(N.test(r)){let{target:t,key:n}=D(e,r.replace(N,""));Array.isArray(t[n])||(t[n]=[])}let{target:n,key:a}=D(e,r);t.__r3f.previousAttach=n[a],n[a]=t}else t.__r3f.previousAttach=r(e,t)}function O(e,t,r){var n,a;if(A.str(r)){let{target:n,key:a}=D(e,r),i=t.__r3f.previousAttach;void 0===i?delete n[a]:n[a]=i}else null==(n=t.__r3f)||null==n.previousAttach||n.previousAttach(e,t);null==(a=t.__r3f)||delete a.previousAttach}function B(e,{children:t,key:r,ref:n,...a},{children:i,key:l,ref:o,...s}={},u=!1){let c=e.__r3f,f=Object.entries(a),d=[];if(u){let e=Object.keys(s);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||f.unshift([e[t],R+"remove"])}f.forEach(([t,r])=>{var n;if(null!=(n=e.__r3f)&&n.primitive&&"object"===t||A.equ(r,s[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return d.push([t,r,!0,[]]);let i=[];for(let e in t.includes("-")&&(i=t.split("-")),d.push([t,r,!1,i]),a){let r=a[e];e.startsWith(`${t}-`)&&d.push([e,r,!1,e.split("-")])}});let p={...a};return null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.args&&(p.args=c.memoizedProps.args),null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.attach&&(p.attach=c.memoizedProps.attach),{memoized:p,changes:d}}let H=void 0!==y&&!1;function W(e,t){var r,n,a;let i=e.__r3f,l=null==i?void 0:i.root,o=null==l?void 0:null==l.getState?void 0:l.getState(),{memoized:u,changes:c}=I(t)?t:B(e,t),f=null==i?void 0:i.eventCount;e.__r3f&&(e.__r3f.memoizedProps=u);for(let t=0;t<c.length;t++){let[r,l,u,f]=c[t];if(x(e)){let e="srgb",t="srgb-linear";"encoding"===r?(r="colorSpace",l=3001===l?e:t):"outputEncoding"===r&&(r="outputColorSpace",l=3001===l?e:t)}let d=e,p=d[r];if(f.length&&!((p=f.reduce((e,t)=>e[t],e))&&p.set)){let[t,...n]=f.reverse();d=n.reverse().reduce((e,t)=>e[t],e),r=t}if(l===R+"remove"){if(d.constructor){let e=P.get(d.constructor);e||(e=new d.constructor,P.set(d.constructor,e)),l=e[r]}else l=0}if(u&&i)l?i.handlers[r]=l:delete i.handlers[r],i.eventCount=Object.keys(i.handlers).length;else if(p&&p.set&&(p.copy||p instanceof s.Layers)){if(Array.isArray(l))p.fromArray?p.fromArray(l):p.set(...l);else if(p.copy&&l&&l.constructor&&(H?p.constructor.name===l.constructor.name:p.constructor===l.constructor))p.copy(l);else if(void 0!==l){let e=null==(n=p)?void 0:n.isColor;!e&&p.setScalar?p.setScalar(l):p instanceof s.Layers&&l instanceof s.Layers?p.mask=l.mask:p.set(l),!S()&&o&&!o.linear&&e&&p.convertSRGBToLinear()}}else if(d[r]=l,null!=(a=d[r])&&a.isTexture&&d[r].format===s.RGBAFormat&&d[r].type===s.UnsignedByteType&&o){let e=d[r];x(e)&&x(o.gl)?e.colorSpace=o.gl.outputColorSpace:e.encoding=o.gl.outputEncoding}V(e)}if(i&&i.parent&&e.raycast&&f!==i.eventCount){let t=F(e).getState().internal,r=t.interaction.indexOf(e);r>-1&&t.interaction.splice(r,1),i.eventCount&&t.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(r=e.__r3f)&&r.parent&&G(e),e}function V(e){var t,r;let n=null==(t=e.__r3f)?void 0:null==(r=t.root)?void 0:null==r.getState?void 0:r.getState();n&&0===n.internal.frames&&n.invalidate()}function G(e){null==e.onUpdate||e.onUpdate(e)}function $(e,t){e.manual||(_(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function q(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Q(e,t,r,n){let a=r.get(t);a&&(r.delete(t),0===r.size&&(e.delete(n),a.target.releasePointerCapture(n)))}let X=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Y=e=>!!(null!=e&&e.render),Z=u.createContext(null),K=(e,t)=>{let r=d((r,n)=>{let a;let i=new s.Vector3,l=new s.Vector3,o=new s.Vector3;function c(e=n().camera,t=l,r=n().size){let{width:a,height:s,top:u,left:c}=r,f=a/s;t.isVector3?o.copy(t):o.set(...t);let d=e.getWorldPosition(i).distanceTo(o);if(_(e))return{width:a/e.zoom,height:s/e.zoom,top:u,left:c,factor:1,distance:d,aspect:f};{let t=2*Math.tan(e.fov*Math.PI/180/2)*d,r=a/s*t;return{width:r,height:t,top:u,left:c,factor:a/r,distance:d,aspect:f}}}let f=e=>r(t=>({performance:{...t.performance,current:e}})),d=new s.Vector2;return{set:r,get:n,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(n(),t),advance:(e,r)=>t(e,r,n()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new s.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=n();a&&clearTimeout(a),e.performance.current!==e.performance.min&&f(e.performance.min),a=setTimeout(()=>f(n().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:e=>r(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,a,i,o)=>{let s=n().camera,u={width:e,height:t,top:i||0,left:o||0,updateStyle:a};r(e=>({size:u,viewport:{...e.viewport,...c(s,l,u)}}))},setDpr:e=>r(t=>{let r=z(e);return{viewport:{...t.viewport,dpr:r,initialDpr:t.viewport.initialDpr||r}}}),setFrameloop:(e="always")=>{let t=n().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:u.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,r)=>{let a=n().internal;return a.priority=a.priority+(t>0?1:0),a.subscribers.push({ref:e,priority:t,store:r}),a.subscribers=a.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let r=n().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(t>0?1:0),r.subscribers=r.subscribers.filter(t=>t.ref!==e))}}}}}),n=r.getState(),a=n.size,i=n.viewport.dpr,l=n.camera;return r.subscribe(()=>{let{camera:e,size:t,viewport:n,gl:o,set:s}=r.getState();if(t.width!==a.width||t.height!==a.height||n.dpr!==i){var u;a=t,i=n.dpr,$(e,t),o.setPixelRatio(n.dpr);let r=null!=(u=t.updateStyle)?u:"undefined"!=typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,r)}e!==l&&(l=e,s(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),r.subscribe(t=>e(t)),r},J=new Set,ee=new Set,et=new Set;function er(e,t){if(e.size)for(let{callback:r}of e.values())r(t)}function en(e,t){switch(e){case"before":return er(J,t);case"after":return er(ee,t);case"tail":return er(et,t)}}function ea(e,t,r){let l=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(l=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),a=t.internal.subscribers,n=0;n<a.length;n++)(i=a[n]).ref.current(i.store.getState(),l,r);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ei(){let e=u.useContext(Z);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function el(e=e=>e,t){return ei()(e,t)}function eo(e,t=0){let r=ei(),n=r.getState().internal.subscribe,a=M(e);return k(()=>n(a,t,r),[t,n,r]),null}let es=new WeakMap;function eu(e,t){return function(r,...n){let a=es.get(r);return a||(a=new r,es.set(r,a)),e&&e(a),Promise.all(n.map(e=>new Promise((r,n)=>a.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),r(e)},t,t=>n(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function ec(e,t,r,n){let a=Array.isArray(t)?t:[t],i=(0,p.Rq)(eu(r,n),[e,...a],{equal:A.equ});return Array.isArray(t)?i:i[0]}ec.preload=function(e,t,r){let n=Array.isArray(t)?t:[t];return(0,p.MA)(eu(r),[e,...n])},ec.clear=function(e,t){let r=Array.isArray(t)?t:[t];return(0,p.ZH)([e,...r])};let ef=new Map,{invalidate:ed,advance:ep}=function(e){let t,r,n,a=!1,i=!1;function l(o){for(let u of(r=requestAnimationFrame(l),a=!0,t=0,en("before",o),i=!0,e.values())){var s;(n=u.store.getState()).internal.active&&("always"===n.frameloop||n.internal.frames>0)&&!(null!=(s=n.gl.xr)&&s.isPresenting)&&(t+=ea(o,n))}if(i=!1,en("after",o),0===t)return en("tail",o),a=!1,cancelAnimationFrame(r)}return{loop:l,invalidate:function t(r,n=1){var o;if(!r)return e.forEach(e=>t(e.store.getState(),n));null!=(o=r.gl.xr)&&o.isPresenting||!r.internal.active||"never"===r.frameloop||(n>1?r.internal.frames=Math.min(60,r.internal.frames+n):i?r.internal.frames=2:r.internal.frames=1,a||(a=!0,requestAnimationFrame(l)))},advance:function(t,r=!0,n,a){if(r&&en("before",t),n)ea(t,n,a);else for(let r of e.values())ea(t,r.store.getState());r&&en("after",t)}}}(ef),{reconciler:eh,applyProps:em}=function(e,t){function r(e,{args:t=[],attach:r,...n},a){let i,l=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===n.object)throw Error("R3F: Primitives without 'object' are invalid!");i=U(n.object,{type:e,root:a,attach:r,primitive:!0})}else{let n=b[l];if(!n)throw Error(`R3F: ${l} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw Error("R3F: The args prop must be an array!");i=U(new n(...t),{type:e,root:a,attach:r,memoizedProps:{args:t}})}return void 0===i.__r3f.attach&&(i.isBufferGeometry?i.__r3f.attach="geometry":i.isMaterial&&(i.__r3f.attach="material")),"inject"!==l&&W(i,n),i}function n(e,t){let r=!1;if(t){var n,a;null!=(n=t.__r3f)&&n.attach?j(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),r=!0),r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,G(t),V(t)}}function a(e,t,r){let n=!1;if(t){var a,i;if(null!=(a=t.__r3f)&&a.attach)j(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});let a=e.children.filter(e=>e!==t),i=a.indexOf(r);e.children=[...a.slice(0,i),t,...a.slice(i)],n=!0}n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,G(t),V(t)}}function i(e,t,r=!1){e&&[...e].forEach(e=>l(t,e,r))}function l(e,t,r){if(t){var n,a,l,o,s;t.__r3f&&(t.__r3f.parent=null),null!=(n=e.__r3f)&&n.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(a=t.__r3f)&&a.attach?O(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){let{internal:r}=e.getState();r.interaction=r.interaction.filter(e=>e!==t),r.initialHits=r.initialHits.filter(e=>e!==t),r.hovered.forEach((e,n)=>{(e.eventObject===t||e.object===t)&&r.hovered.delete(n)}),r.capturedMap.forEach((e,n)=>{Q(r.capturedMap,t,e,n)})}(F(t),t));let u=null==(l=t.__r3f)?void 0:l.primitive,c=!u&&(void 0===r?null!==t.dispose:r);if(u||(i(null==(s=t.__r3f)?void 0:s.objects,t,c),i(t.children,t,c)),delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){let e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,g.unstable_scheduleCallback)(g.unstable_IdlePriority,e):e()}V(e)}}let o=()=>{};return{reconciler:v()({createInstance:r,removeChild:l,appendChild:n,appendInitialChild:n,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let r=e.getState().scene;r.__r3f&&(r.__r3f.root=e,n(r,t))},removeChildFromContainer:(e,t)=>{t&&l(e.getState().scene,t)},insertInContainerBefore:(e,t,r)=>{if(!t||!r)return;let n=e.getState().scene;n.__r3f&&a(n,t,r)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,r,n){var a;if((null!=(a=null==e?void 0:e.__r3f)?a:{}).primitive&&n.object&&n.object!==e)return[!0];{let{args:t=[],children:a,...i}=n,{args:l=[],children:o,...s}=r;if(!Array.isArray(t))throw Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==l[t]))return[!0];let u=B(e,i,s,!0);return u.changes.length?[!1,u]:null}},commitUpdate(e,[t,a],i,o,s,u){t?function(e,t,a,i){var o;let s=null==(o=e.__r3f)?void 0:o.parent;if(!s)return;let u=r(t,a,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&n(u,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>n(u,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||l(s,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),n(s,u),u.raycast&&u.__r3f.eventCount&&F(u).getState().internal.interaction.push(u),[i,i.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,i,s,u):W(e,a)},commitMount(e,t,r,n){var a;let i=null!=(a=e.__r3f)?a:{};e.raycast&&i.handlers&&i.eventCount&&F(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>U(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:r,parent:n}=null!=(t=e.__r3f)?t:{};r&&n&&O(n,e,r),e.isObject3D&&(e.visible=!1),V(e)},unhideInstance(e,t){var r;let{attach:n,parent:a}=null!=(r=e.__r3f)?r:{};n&&a&&j(a,e,n),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),V(e)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>t?t():c.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&A.fun(performance.now)?performance.now:A.fun(Date.now)?Date.now:()=>0,scheduleTimeout:A.fun(setTimeout)?setTimeout:void 0,cancelTimeout:A.fun(clearTimeout)?clearTimeout:void 0}),applyProps:W}}(0,function(){var e;let t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return c.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c.ContinuousEventPriority;default:return c.DefaultEventPriority}}),ev={objects:"shallow",strict:!1},eg=(e,t)=>{let r="function"==typeof e?e(t):e;return Y(r)?r:new s.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ey(e){let t,r;let n=ef.get(e),a=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");let l="function"==typeof reportError?reportError:console.error,o=i||K(ed,ep),u=a||eh.createContainer(o,c.ConcurrentRoot,null,!1,null,"",l,null);n||ef.set(e,{fiber:u,store:o});let f=!1;return{configure(n={}){var a,i;let{gl:l,size:u,scene:c,events:d,onCreated:p,shadows:h=!1,linear:m=!1,flat:v=!1,legacy:g=!1,orthographic:y=!1,frameloop:b="always",dpr:w=[1,2],performance:x,raycaster:_,camera:E,onPointerMissed:k}=n,M=o.getState(),C=M.gl;M.gl||M.set({gl:C=eg(l,e)});let T=M.raycaster;T||M.set({raycaster:T=new s.Raycaster});let{params:R,...P}=_||{};if(A.equ(P,T,ev)||em(T,{...P}),A.equ(R,T.params,ev)||em(T,{params:{...T.params,...R}}),!M.camera||M.camera===r&&!A.equ(r,E,ev)){r=E;let e=E instanceof s.Camera,t=e?E:y?new s.OrthographicCamera(0,0,0,0,.1,1e3):new s.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,E&&(em(t,E),("aspect"in E||"left"in E||"right"in E||"bottom"in E||"top"in E)&&(t.manual=!0,t.updateProjectionMatrix())),M.camera||null!=E&&E.rotation||t.lookAt(0,0,0)),M.set({camera:t}),T.camera=t}if(!M.scene){let e;null!=c&&c.isScene?e=c:(e=new s.Scene,c&&em(e,c)),M.set({scene:U(e)})}if(!M.xr){let e=(e,t)=>{let r=o.getState();"never"!==r.frameloop&&ep(e,!0,r,t)},t=()=>{let t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||ed(t)},r={connect(){let e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(a=C.xr)?void 0:a.addEventListener)&&r.connect(),M.set({xr:r})}if(C.shadowMap){let e=C.shadowMap.enabled,t=C.shadowMap.type;if(C.shadowMap.enabled=!!h,A.boo(h))C.shadowMap.type=s.PCFSoftShadowMap;else if(A.str(h)){let e={basic:s.BasicShadowMap,percentage:s.PCFShadowMap,soft:s.PCFSoftShadowMap,variance:s.VSMShadowMap};C.shadowMap.type=null!=(i=e[h])?i:s.PCFSoftShadowMap}else A.obj(h)&&Object.assign(C.shadowMap,h);(e!==C.shadowMap.enabled||t!==C.shadowMap.type)&&(C.shadowMap.needsUpdate=!0)}let I=S();I&&("enabled"in I?I.enabled=!g:"legacyMode"in I&&(I.legacyMode=g)),f||em(C,{outputEncoding:m?3e3:3001,toneMapping:v?s.NoToneMapping:s.ACESFilmicToneMapping}),M.legacy!==g&&M.set(()=>({legacy:g})),M.linear!==m&&M.set(()=>({linear:m})),M.flat!==v&&M.set(()=>({flat:v})),!l||A.fun(l)||Y(l)||A.equ(l,C,ev)||em(C,l),d&&!M.events.handlers&&M.set({events:d(o)});let L=function(e,t){let r="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){let{width:e,height:n,top:a,left:i,updateStyle:l=r}=t;return{width:e,height:n,top:a,left:i,updateStyle:l}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:a,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:a,left:i,updateStyle:r}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:r}:{width:0,height:0,top:0,left:0}}(e,u);return A.equ(L,M.size,ev)||M.setSize(L.width,L.height,L.updateStyle,L.top,L.left),w&&M.viewport.dpr!==z(w)&&M.setDpr(w),M.frameloop!==b&&M.setFrameloop(b),M.onPointerMissed||M.set({onPointerMissed:k}),x&&!A.equ(x,M.performance,ev)&&M.set(e=>({performance:{...e.performance,...x}})),t=p,f=!0,this},render(r){return f||this.configure(),eh.updateContainer((0,h.jsx)(eb,{store:o,children:r,onCreated:t,rootElement:e}),u,null,()=>void 0),o},unmount(){ew(e)}}}function eb({store:e,children:t,onCreated:r,rootElement:n}){return k(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),r&&r(t),e.getState().events.connected||null==t.events.connect||t.events.connect(n)},[]),(0,h.jsx)(Z.Provider,{value:e,children:t})}function ew(e,t){let r=ef.get(e),n=null==r?void 0:r.fiber;if(n){let a=null==r?void 0:r.store.getState();a&&(a.internal.active=!1),eh.updateContainer(null,n,null,()=>{a&&setTimeout(()=>{try{var r,n,i,l;null==a.events.disconnect||a.events.disconnect(),null==(r=a.gl)||null==(n=r.renderLists)||null==n.dispose||n.dispose(),null==(i=a.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(l=a.gl)&&l.xr&&a.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(a),ef.delete(e),t&&t(e)}catch(e){}},500)})}}function ex(e,t,r){return(0,h.jsx)(eS,{children:e,container:t,state:r},t.uuid)}function eS({state:e={},children:t,container:r}){let{events:n,size:a,...i}=e,l=ei(),[o]=u.useState(()=>new s.Raycaster),[c]=u.useState(()=>new s.Vector2),f=u.useCallback((e,t)=>{let u;let f={...e};if(Object.keys(e).forEach(r=>{(X.includes(r)||e[r]!==t[r]&&t[r])&&delete f[r]}),t&&a){let r=t.camera;u=e.viewport.getCurrentViewport(r,new s.Vector3,a),r!==e.camera&&$(r,a)}return{...f,scene:r,raycaster:o,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...null==t?void 0:t.events,...n},size:{...e.size,...a},viewport:{...e.viewport,...u},...i}},[e]),[p]=u.useState(()=>{let e=l.getState();return d((t,s)=>({...e,scene:r,raycaster:o,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...n},size:{...e.size,...a},...i,set:t,get:s,setEvents:e=>t(t=>({...t,events:{...t.events,...e}}))}))});return u.useEffect(()=>{let e=l.subscribe(e=>p.setState(t=>f(e,t)));return()=>{e()}},[f]),u.useEffect(()=>{p.setState(e=>f(l.getState(),e))},[f]),u.useEffect(()=>()=>{p.destroy()},[]),(0,h.jsx)(h.Fragment,{children:eh.createPortal((0,h.jsx)(Z.Provider,{value:p,children:t}),p,null)})}eh.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:u.version}),u.unstable_act;let e_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eE(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var r;return null==(r=e.__r3f)?void 0:r.handlers["onPointer"+t]}))}function r(t){let{internal:r}=e.getState();for(let e of r.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let n=e.eventObject.__r3f,a=null==n?void 0:n.handlers;if(r.hovered.delete(q(e)),null!=n&&n.eventCount){let r={...e,intersections:t};null==a.onPointerOut||a.onPointerOut(r),null==a.onPointerLeave||a.onPointerLeave(r)}}}function n(e,t){for(let r=0;r<t.length;r++){let n=t[r].__r3f;null==n||null==n.handlers.onPointerMissed||n.handlers.onPointerMissed(e)}}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return t=>{let{internal:n}=e.getState();"pointerId"in t&&n.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))})}}return function(i){let{onPointerMissed:l,internal:o}=e.getState();o.lastEvent.current=i;let u="onPointerMove"===a,c="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,f=function(t,r){let n=e.getState(),a=new Set,i=[],l=r?r(n.internal.interaction):n.internal.interaction;for(let e=0;e<l.length;e++){let t=L(l[e]);t&&(t.raycaster.camera=void 0)}n.previousRoot||null==n.events.compute||n.events.compute(t,n);let o=l.flatMap(function(e){let r=L(e);if(!r||!r.events.enabled||null===r.raycaster.camera)return[];if(void 0===r.raycaster.camera){var n;null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)}return r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let r=L(e.object),n=L(t.object);return r&&n&&n.events.priority-r.events.priority||e.distance-t.distance}).filter(e=>{let t=q(e);return!a.has(t)&&(a.add(t),!0)});for(let e of(n.events.filter&&(o=n.events.filter(o,n)),o)){let t=e.object;for(;t;){var s;null!=(s=t.__r3f)&&s.eventCount&&i.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&n.internal.capturedMap.has(t.pointerId))for(let e of n.internal.capturedMap.get(t.pointerId).values())a.has(q(e.intersection))||i.push(e.intersection);return i}(i,u?t:void 0),d=c?function(t){let{internal:r}=e.getState(),n=t.offsetX-r.initialClick[0],a=t.offsetY-r.initialClick[1];return Math.round(Math.sqrt(n*n+a*a))}(i):0;"onPointerDown"===a&&(o.initialClick=[i.offsetX,i.offsetY],o.initialHits=f.map(e=>e.eventObject)),c&&!f.length&&d<=2&&(n(i,o.interaction),l&&l(i)),u&&r(f),function(t,n,a,i){let l=e.getState();if(t.length){let e={stopped:!1};for(let o of t){let{raycaster:u,pointer:c,camera:f,internal:d}=L(o.object)||l,p=new s.Vector3(c.x,c.y,0).unproject(f),h=e=>{var t,r;return null!=(t=null==(r=d.capturedMap.get(e))?void 0:r.has(o.eventObject))&&t},m=e=>{let t={intersection:o,target:n.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,t):d.capturedMap.set(e,new Map([[o.eventObject,t]])),n.target.setPointerCapture(e)},v=e=>{let t=d.capturedMap.get(e);t&&Q(d.capturedMap,o.eventObject,t,e)},g={};for(let e in n){let t=n[e];"function"!=typeof t&&(g[e]=t)}let y={...o,...g,pointer:c,intersections:t,stopped:e.stopped,delta:a,unprojectedPoint:p,ray:u.ray,camera:f,stopPropagation(){let a="pointerId"in n&&d.capturedMap.get(n.pointerId);(!a||a.has(o.eventObject))&&(y.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject)&&r([...t.slice(0,t.indexOf(o)),o]))},target:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},nativeEvent:n};if(i(y),!0===e.stopped)break}}}(f,i,d,function(e){let t=e.eventObject,r=t.__r3f,l=null==r?void 0:r.handlers;if(null!=r&&r.eventCount){if(u){if(l.onPointerOver||l.onPointerEnter||l.onPointerOut||l.onPointerLeave){let t=q(e),r=o.hovered.get(t);r?r.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==l.onPointerOver||l.onPointerOver(e),null==l.onPointerEnter||l.onPointerEnter(e))}null==l.onPointerMove||l.onPointerMove(e)}else{let r=l[a];r?(!c||o.initialHits.includes(t))&&(n(i,o.interaction.filter(e=>!o.initialHits.includes(e))),r(e)):c&&o.initialHits.includes(t)&&n(i,o.interaction.filter(e=>!o.initialHits.includes(e)))}}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(e_).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:a}=e.getState();null==a.disconnect||a.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=a.handlers)?r:[]).forEach(([e,r])=>{let[n,a]=e_[e];t.addEventListener(n,r,{passive:a})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=e_[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}},6154:function(e,t,r){"use strict";r.d(t,{Xz:function(){return M}});var n,a,i=r(2860),l=r(2265),o=r(6376);function s(e,t){let r;return(...n)=>{window.clearTimeout(r),r=window.setTimeout(()=>e(...n),t)}}let u=["x","y","top","bottom","left","right","width","height"],c=(e,t)=>u.every(r=>e[r]===t[r]);var f=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&g(e,r,t[r]);if(h)for(var r of h(t))v.call(t,r)&&g(e,r,t[r]);return e},b=(e,t)=>d(e,p(t));function w(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(n=window.document)?void 0:n.createElement)||(null==(a=window.navigator)?void 0:a.product)==="ReactNative")?l.useLayoutEffect:l.useEffect;let x=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=x;return}return x.apply(this,arguments)};let S=w(l.createContext(null));class _ extends l.Component{render(){return l.createElement(S.Provider,{value:this._reactInternals},this.props.children)}}var E=r(7437);r(5505),r(1177),r(4362);let k=l.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:a,events:u=i.c,eventSource:f,eventPrefix:d,shadows:p,linear:h,flat:m,legacy:v,orthographic:g,frameloop:x,dpr:k,performance:M,raycaster:C,camera:T,scene:R,onPointerMissed:P,onCreated:I,...z},L){l.useMemo(()=>(0,i.e)(o),[]);let F=function(){let e=function(){let e=function(){let e=l.useContext(S);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=l.useId();return l.useMemo(()=>{for(let r of[e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let a=r?t.return:t.child;for(;a;){let t=e(a,r,n);if(t)return t;a=r?null:a.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[t]=l.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&"object"==typeof r.type){let e=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;e&&e!==S&&!t.has(e)&&t.set(e,l.useContext(w(e)))}r=r.return}return t}();return l.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>l.createElement(t,null,l.createElement(r.Provider,b(y({},n),{value:e.get(r)}))),e=>l.createElement(_,y({},e))),[e])}(),[A,U]=function({debounce:e,scroll:t,polyfill:r,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){var a;let i=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,u]=(0,l.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,l.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,p=e?"number"==typeof e?e:e.resize:null,h=(0,l.useRef)(!1);(0,l.useEffect)(()=>(h.current=!0,()=>void(h.current=!1)));let[m,v,g]=(0,l.useMemo)(()=>{let e=()=>{if(!f.current.element)return;let{left:e,top:t,width:r,height:a,bottom:i,right:l,x:o,y:s}=f.current.element.getBoundingClientRect(),d={left:e,top:t,width:r,height:a,bottom:i,right:l,x:o,y:s};f.current.element instanceof HTMLElement&&n&&(d.height=f.current.element.offsetHeight,d.width=f.current.element.offsetWidth),Object.freeze(d),h.current&&!c(f.current.lastBounds,d)&&u(f.current.lastBounds=d)};return[e,p?s(e,p):e,d?s(e,d):e]},[u,n,d,p]);function y(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function b(){f.current.element&&(f.current.resizeObserver=new i(g),f.current.resizeObserver.observe(f.current.element),t&&f.current.scrollContainers&&f.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}return a=!!t,(0,l.useEffect)(()=>{if(a)return window.addEventListener("scroll",g,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",g,!0)},[g,a]),(0,l.useEffect)(()=>(window.addEventListener("resize",v),()=>void window.removeEventListener("resize",v)),[v]),(0,l.useEffect)(()=>{y(),b()},[t,g,v]),(0,l.useEffect)(()=>y,[]),[e=>{e&&e!==f.current.element&&(y(),f.current.element=e,f.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:a,overflowY:i}=window.getComputedStyle(t);return[n,a,i].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),b())},o,m]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=l.useRef(null),N=l.useRef(null);l.useImperativeHandle(L,()=>D.current);let j=(0,i.u)(P),[O,B]=l.useState(!1),[H,W]=l.useState(!1);if(O)throw O;if(H)throw H;let V=l.useRef(null);(0,i.a)(()=>{let t=D.current;U.width>0&&U.height>0&&t&&(V.current||(V.current=(0,i.b)(t)),V.current.configure({gl:a,events:u,shadows:p,linear:h,flat:m,legacy:v,orthographic:g,frameloop:x,dpr:k,performance:M,raycaster:C,camera:T,scene:R,size:U,onPointerMissed:(...e)=>null==j.current?void 0:j.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,i.i)(f)?f.current:f:N.current),d&&e.setEvents({compute:(e,t)=>{let r=e[d+"X"],n=e[d+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==I||I(e)}}),V.current.render((0,E.jsx)(F,{children:(0,E.jsx)(i.E,{set:W,children:(0,E.jsx)(l.Suspense,{fallback:(0,E.jsx)(i.B,{set:B}),children:null!=e?e:null})})})))}),l.useEffect(()=>{let e=D.current;if(e)return()=>(0,i.d)(e)},[]);let G=f?"none":"auto";return(0,E.jsx)("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...n},...z,children:(0,E.jsx)("div",{ref:A,style:{width:"100%",height:"100%"},children:(0,E.jsx)("canvas",{ref:D,style:{display:"block"},children:t})})})}),M=l.forwardRef(function(e,t){return(0,E.jsx)(_,{children:(0,E.jsx)(k,{...e,ref:t})})})},2601:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(8960)},8960:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function i(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var s=[],u=!1,c=-1;function f(){u&&n&&(u=!1,n.length?s=n.concat(s):c=-1,s.length&&d())}function d(){if(!u){var e=o(f);u=!0;for(var t=s.length;t;){for(n=s,s=[];++c<t;)n&&n[c].run();c=-1,t=s.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new p(e,t)),1!==s.length||u||o(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},l=!0;try{t[e](i,i.exports,n),l=!1}finally{l&&delete r[e]}return i.exports}n.ab="//";var a=n(229);e.exports=a}()},7588:function(e,t){"use strict";/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},904:function(e,t,r){/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e.exports=function(e){"use strict";var t,n,a,i,l,o={},s=r(2265),u=r(4362),c=Object.assign;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p=Symbol.for("react.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}function T(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case h:return"Portal";case g:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Consumer";case y:return(e._context.displayName||"Context")+".Provider";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return T(e(t))}catch(e){}}return null}function R(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(r=t.return),e=t.return;while(e)}return 3===t.tag?r:null}function P(e){if(R(e)!==e)throw Error(f(188))}function I(e){var t=e.alternate;if(!t){if(null===(t=R(e)))throw Error(f(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return P(a),e;if(i===n)return P(a),t;i=i.sibling}throw Error(f(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(f(189))}}if(r.alternate!==n)throw Error(f(190))}if(3!==r.tag)throw Error(f(188));return r.stateNode.current===r?e:t}function z(e){return null!==(e=I(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var r=e(t);if(null!==r)return r;t=t.sibling}return null}(e):null}var L,F=Array.isArray,A=e.getPublicInstance,U=e.getRootHostContext,D=e.getChildHostContext,N=e.prepareForCommit,j=e.resetAfterCommit,O=e.createInstance,B=e.appendInitialChild,H=e.finalizeInitialChildren,W=e.prepareUpdate,V=e.shouldSetTextContent,G=e.createTextInstance,$=e.scheduleTimeout,q=e.cancelTimeout,Q=e.noTimeout,X=e.isPrimaryRenderer,Y=e.supportsMutation,Z=e.supportsPersistence,K=e.supportsHydration,J=e.getInstanceFromNode,ee=e.preparePortalMount,et=e.getCurrentEventPriority,er=e.detachDeletedInstance,en=e.supportsMicrotasks,ea=e.scheduleMicrotask,ei=e.supportsTestSelectors,el=e.findFiberRoot,eo=e.getBoundingRect,es=e.getTextContent,eu=e.isHiddenSubtree,ec=e.matchAccessibilityRole,ef=e.setFocusIfFocusable,ed=e.setupIntersectionObserver,ep=e.appendChild,eh=e.appendChildToContainer,em=e.commitTextUpdate,ev=e.commitMount,eg=e.commitUpdate,ey=e.insertBefore,eb=e.insertInContainerBefore,ew=e.removeChild,ex=e.removeChildFromContainer,eS=e.resetTextContent,e_=e.hideInstance,eE=e.hideTextInstance,ek=e.unhideInstance,eM=e.unhideTextInstance,eC=e.clearContainer,eT=e.cloneInstance,eR=e.createContainerChildSet,eP=e.appendChildToContainerChildSet,eI=e.finalizeContainerChildren,ez=e.replaceContainerChildren,eL=e.cloneHiddenInstance,eF=e.cloneHiddenTextInstance,eA=e.canHydrateInstance,eU=e.canHydrateTextInstance,eD=e.canHydrateSuspenseInstance,eN=e.isSuspenseInstancePending,ej=e.isSuspenseInstanceFallback,eO=e.registerSuspenseInstanceRetry,eB=e.getNextHydratableSibling,eH=e.getFirstHydratableChild,eW=e.getFirstHydratableChildWithinContainer,eV=e.getFirstHydratableChildWithinSuspenseInstance,eG=e.hydrateInstance,e$=e.hydrateTextInstance,eq=e.hydrateSuspenseInstance,eQ=e.getNextHydratableInstanceAfterSuspenseInstance,eX=e.commitHydratedContainer,eY=e.commitHydratedSuspenseInstance,eZ=e.clearSuspenseBoundary,eK=e.clearSuspenseBoundaryFromContainer,eJ=e.shouldDeleteUnhydratedTailInstances,e1=e.didNotMatchHydratedContainerTextInstance,e0=e.didNotMatchHydratedTextInstance;function e2(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var e3=!1;function e4(e,t){if(!e||e3)return"";e3=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),i=n.stack.split("\n"),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(1!==l||1!==o)do if(l--,0>--o||a[l]!==i[o]){var s="\n"+a[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=l&&0<=o);break}}}finally{e3=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?e2(e):""}var e5=Object.prototype.hasOwnProperty,e6=[],e8=-1;function e7(e){return{current:e}}function e9(e){0>e8||(e.current=e6[e8],e6[e8]=null,e8--)}function te(e,t){e6[++e8]=e.current,e.current=t}var tt={},tr=e7(tt),tn=e7(!1),ta=tt;function ti(e,t){var r=e.type.contextTypes;if(!r)return tt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tl(e){return null!=(e=e.childContextTypes)}function to(){e9(tn),e9(tr)}function ts(e,t,r){if(tr.current!==tt)throw Error(f(168));te(tr,t),te(tn,r)}function tu(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(f(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(t);case 8:return t===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",a));return c({},r,n)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tt,ta=tr.current,te(tr,e),te(tn,tn.current),!0}function tf(e,t,r){var n=e.stateNode;if(!n)throw Error(f(169));r?(e=tu(e,t,ta),n.__reactInternalMemoizedMergedChildContext=e,e9(tn),e9(tr),te(tr,e)):e9(tn),te(tn,r)}var td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tp(e)/th|0)|0},tp=Math.log,th=Math.LN2,tm=64,tv=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ty(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=268435455&r;if(0!==l){var o=l&~a;0!==o?n=tg(o):0!=(i&=l)&&(n=tg(i))}else 0!=(l=r&~a)?n=tg(l):0!==i&&(n=tg(i));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!=(4194240&i)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-td(t)),n|=e[r],t&=~a;return n}function tb(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tx(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-td(t)]=r}function tS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-td(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var t_=0;function tE(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tk=u.unstable_scheduleCallback,tM=u.unstable_cancelCallback,tC=u.unstable_shouldYield,tT=u.unstable_requestPaint,tR=u.unstable_now,tP=u.unstable_ImmediatePriority,tI=u.unstable_UserBlockingPriority,tz=u.unstable_NormalPriority,tL=u.unstable_IdlePriority,tF=null,tA=null,tU="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tD=null,tN=!1,tj=!1;function tO(e){null===tD?tD=[e]:tD.push(e)}function tB(){if(!tj&&null!==tD){tj=!0;var e=0,t=t_;try{var r=tD;for(t_=1;e<r.length;e++){var n=r[e];do n=n(!0);while(null!==n)}tD=null,tN=!1}catch(t){throw null!==tD&&(tD=tD.slice(e+1)),tk(tP,tB),t}finally{t_=t,tj=!1}}return null}var tH=d.ReactCurrentBatchConfig;function tW(e,t){if(tU(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!e5.call(t,a)||!tU(e[a],t[a]))return!1}return!0}function tV(e,t){if(e&&e.defaultProps)for(var r in t=c({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var tG=e7(null),t$=null,tq=null,tQ=null;function tX(){tQ=tq=t$=null}function tY(e,t,r){X?(te(tG,t._currentValue),t._currentValue=r):(te(tG,t._currentValue2),t._currentValue2=r)}function tZ(e){var t=tG.current;e9(tG),X?e._currentValue=t:e._currentValue2=t}function tK(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tJ(e,t){t$=e,tQ=tq=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(n1=!0),e.firstContext=null)}function t1(e){var t=X?e._currentValue:e._currentValue2;if(tQ!==e){if(e={context:e,memoizedValue:t,next:null},null===tq){if(null===t$)throw Error(f(308));tq=e,t$.dependencies={lanes:0,firstContext:e}}else tq=tq.next=e}return t}var t0=null,t2=!1;function t3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function t5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function t6(e,t){var r=e.updateQueue;null!==r&&(r=r.shared,null!==aQ&&0!=(1&e.mode)&&0==(2&aq)?(null===(e=r.interleaved)?(t.next=t,null===t0?t0=[r]:t0.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(null===(e=r.pending)?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function t8(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tS(e,r)}}function t7(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=l:i=i.next=l,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function t9(e,t,r,n){var a=e.updateQueue;t2=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var s=o,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var f=e.alternate;null!==f&&(o=(f=f.updateQueue).lastBaseUpdate)!==l&&(null===o?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=s)}if(null!==i){var d=a.baseState;for(l=0,f=u=s=null,o=i;;){var p=o.lane,h=o.eventTime;if((n&p)===p){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(p=t,h=r,v.tag){case 1:if("function"==typeof(m=v.payload)){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=v.payload)?m.call(h,d,p):m))break e;d=c({},d,p);break e;case 2:t2=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(u=f=h,s=d):f=f.next=h,l|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===f&&(s=d),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=f,null!==(t=a.shared.interleaved)){a=t;do l|=a.lane,a=a.next;while(a!==t)}else null===i&&(a.shared.lanes=0);a0|=l,e.lanes=l,e.memoizedState=d}}function re(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(f(191,a));a.call(n)}}}var rt=(new s.Component).refs;function rr(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:c({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var rn={isMounted:function(e){return!!(e=e._reactInternals)&&R(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ic(),a=id(e),i=t5(n,a);i.payload=t,null!=r&&(i.callback=r),t6(e,i),null!==(t=ip(e,a,n))&&t8(t,e,a)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ic(),a=id(e),i=t5(n,a);i.tag=1,i.payload=t,null!=r&&(i.callback=r),t6(e,i),null!==(t=ip(e,a,n))&&t8(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ic(),n=id(e),a=t5(r,n);a.tag=2,null!=t&&(a.callback=t),t6(e,a),null!==(t=ip(e,n,r))&&t8(t,e,n)}};function ra(e,t,r,n,a,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,l):!t.prototype||!t.prototype.isPureReactComponent||!tW(r,n)||!tW(a,i)}function ri(e,t,r){var n=!1,a=tt,i=t.contextType;return"object"==typeof i&&null!==i?i=t1(i):(a=tl(t)?ta:tr.current,i=(n=null!=(n=t.contextTypes))?ti(e,a):tt),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rn,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rl(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rn.enqueueReplaceState(t,t.state,null)}function ro(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=rt,t3(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=t1(i):(i=tl(t)?ta:tr.current,a.context=ti(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rr(e,t,i,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&rn.enqueueReplaceState(a,a.state,null),t9(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}var rs=[],ru=0,rc=null,rf=0,rd=[],rp=0,rh=null,rm=1,rv="";function rg(e,t){rs[ru++]=rf,rs[ru++]=rc,rc=e,rf=t}function ry(e,t,r){rd[rp++]=rm,rd[rp++]=rv,rd[rp++]=rh,rh=e;var n=rm;e=rv;var a=32-td(n)-1;n&=~(1<<a),r+=1;var i=32-td(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,rm=1<<32-td(t)+a|r<<a|n,rv=i+e}else rm=1<<i|r<<a|n,rv=e}function rb(e){null!==e.return&&(rg(e,1),ry(e,1,0))}function rw(e){for(;e===rc;)rc=rs[--ru],rs[ru]=null,rf=rs[--ru],rs[ru]=null;for(;e===rh;)rh=rd[--rp],rd[rp]=null,rv=rd[--rp],rd[rp]=null,rm=rd[--rp],rd[rp]=null}var rx=null,rS=null,r_=!1,rE=!1,rk=null;function rM(e,t){var r=ij(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function rC(e,t){switch(e.tag){case 5:return null!==(t=eA(t,e.type,e.pendingProps))&&(e.stateNode=t,rx=e,rS=eH(t),!0);case 6:return null!==(t=eU(t,e.pendingProps))&&(e.stateNode=t,rx=e,rS=null,!0);case 13:if(null!==(t=eD(t))){var r=null!==rh?{id:rm,overflow:rv}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=ij(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rx=e,rS=null,!0}return!1;default:return!1}}function rT(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function rR(e){if(r_){var t=rS;if(t){var r=t;if(!rC(e,t)){if(rT(e))throw Error(f(418));t=eB(r);var n=rx;t&&rC(e,t)?rM(n,r):(e.flags=-4097&e.flags|2,r_=!1,rx=e)}}else{if(rT(e))throw Error(f(418));e.flags=-4097&e.flags|2,r_=!1,rx=e}}}function rP(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rx=e}function rI(e){if(!K||e!==rx)return!1;if(!r_)return rP(e),r_=!0,!1;if(3!==e.tag&&(5!==e.tag||eJ(e.type)&&!V(e.type,e.memoizedProps))){var t=rS;if(t){if(rT(e)){for(e=rS;e;)e=eB(e);throw Error(f(418))}for(;t;)rM(e,t),t=eB(t)}}if(rP(e),13===e.tag){if(!K)throw Error(f(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(f(317));rS=eQ(e)}else rS=rx?eB(e.stateNode):null;return!0}function rz(){K&&(rS=rx=null,rE=r_=!1)}function rL(e){null===rk?rk=[e]:rk.push(e)}function rF(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(f(309));var n=r.stateNode}if(!n)throw Error(f(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=a.refs;t===rt&&(t=a.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(f(284));if(!r._owner)throw Error(f(290,e))}return e}function rA(e,t){throw Error(f(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rU(e){return(0,e._init)(e._payload)}function rD(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=iB(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return(t.index=n,e)?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?(t=iG(r,e.mode,n)).return=e:(t=a(t,r)).return=e,t}function s(e,t,r,n){var i=r.type;return i===m?c(e,t,r.props.children,n,r.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===E&&rU(i)===t.type)?(n=a(t,r.props)).ref=rF(e,t,r):(n=iH(r.type,r.key,r.props,null,e.mode,n)).ref=rF(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=i$(r,e.mode,n)).return=e:(t=a(t,r.children||[])).return=e,t}function c(e,t,r,n,i){return null===t||7!==t.tag?(t=iW(r,e.mode,n,i)).return=e:(t=a(t,r)).return=e,t}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=iG(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return(r=iH(t.type,t.key,t.props,null,e.mode,r)).ref=rF(e,null,t),r.return=e,r;case h:return(t=i$(t,e.mode,r)).return=e,t;case E:return d(e,(0,t._init)(t._payload),r)}if(F(t)||C(t))return(t=iW(t,e.mode,r,null)).return=e,t;rA(e,t)}return null}function v(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:o(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?s(e,t,r,n):null;case h:return r.key===a?u(e,t,r,n):null;case E:return v(e,t,(a=r._init)(r._payload),n)}if(F(r)||C(r))return null!==a?null:c(e,t,r,n,null);rA(e,r)}return null}function g(e,t,r,n,a){if("string"==typeof n&&""!==n||"number"==typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return s(t,e=e.get(null===n.key?r:n.key)||null,n,a);case h:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case E:return g(e,t,r,(0,n._init)(n._payload),a)}if(F(n)||C(n))return c(t,e=e.get(r)||null,n,a,null);rA(t,n)}return null}return function o(s,u,c,y){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var b=c.key,w=u;null!==w;){if(w.key===b){if((b=c.type)===m){if(7===w.tag){r(s,w.sibling),(u=a(w,c.props.children)).return=s,s=u;break e}}else if(w.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===E&&rU(b)===w.type){r(s,w.sibling),(u=a(w,c.props)).ref=rF(s,w,c),u.return=s,s=u;break e}r(s,w);break}t(s,w),w=w.sibling}c.type===m?((u=iW(c.props.children,s.mode,y,c.key)).return=s,s=u):((y=iH(c.type,c.key,c.props,null,s.mode,y)).ref=rF(s,u,c),y.return=s,s=y)}return l(s);case h:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){r(s,u.sibling),(u=a(u,c.children||[])).return=s,s=u;break e}r(s,u);break}t(s,u),u=u.sibling}(u=i$(c,s.mode,y)).return=s,s=u}return l(s);case E:return o(s,u,(w=c._init)(c._payload),y)}if(F(c))return function(a,l,o,s){for(var u=null,c=null,f=l,p=l=0,h=null;null!==f&&p<o.length;p++){f.index>p?(h=f,f=null):h=f.sibling;var m=v(a,f,o[p],s);if(null===m){null===f&&(f=h);break}e&&f&&null===m.alternate&&t(a,f),l=i(m,l,p),null===c?u=m:c.sibling=m,c=m,f=h}if(p===o.length)return r(a,f),r_&&rg(a,p),u;if(null===f){for(;p<o.length;p++)null!==(f=d(a,o[p],s))&&(l=i(f,l,p),null===c?u=f:c.sibling=f,c=f);return r_&&rg(a,p),u}for(f=n(a,f);p<o.length;p++)null!==(h=g(f,a,p,o[p],s))&&(e&&null!==h.alternate&&f.delete(null===h.key?p:h.key),l=i(h,l,p),null===c?u=h:c.sibling=h,c=h);return e&&f.forEach(function(e){return t(a,e)}),r_&&rg(a,p),u}(s,u,c,y);if(C(c))return function(a,l,o,s){var u=C(o);if("function"!=typeof u)throw Error(f(150));if(null==(o=u.call(o)))throw Error(f(151));for(var c=u=null,p=l,h=l=0,m=null,y=o.next();null!==p&&!y.done;h++,y=o.next()){p.index>h?(m=p,p=null):m=p.sibling;var b=v(a,p,y.value,s);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(a,p),l=i(b,l,h),null===c?u=b:c.sibling=b,c=b,p=m}if(y.done)return r(a,p),r_&&rg(a,h),u;if(null===p){for(;!y.done;h++,y=o.next())null!==(y=d(a,y.value,s))&&(l=i(y,l,h),null===c?u=y:c.sibling=y,c=y);return r_&&rg(a,h),u}for(p=n(a,p);!y.done;h++,y=o.next())null!==(y=g(p,a,h,y.value,s))&&(e&&null!==y.alternate&&p.delete(null===y.key?h:y.key),l=i(y,l,h),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach(function(e){return t(a,e)}),r_&&rg(a,h),u}(s,u,c,y);rA(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(r(s,u.sibling),(u=a(u,c)).return=s):(r(s,u),(u=iG(c,s.mode,y)).return=s),l(s=u)):r(s,u)}}var rN=rD(!0),rj=rD(!1),rO={},rB=e7(rO),rH=e7(rO),rW=e7(rO);function rV(e){if(e===rO)throw Error(f(174));return e}function rG(e,t){te(rW,t),te(rH,e),te(rB,rO),e=U(t),e9(rB),te(rB,e)}function r$(){e9(rB),e9(rH),e9(rW)}function rq(e){var t=rV(rW.current),r=rV(rB.current);t=D(r,e.type,t),r!==t&&(te(rH,e),te(rB,t))}function rQ(e){rH.current===e&&(e9(rB),e9(rH))}var rX=e7(0);function rY(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||eN(r)||ej(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rZ=[];function rK(){for(var e=0;e<rZ.length;e++){var t=rZ[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}rZ.length=0}var rJ=d.ReactCurrentDispatcher,r1=d.ReactCurrentBatchConfig,r0=0,r2=null,r3=null,r4=null,r5=!1,r6=!1,r8=0,r7=0;function r9(){throw Error(f(321))}function ne(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tU(e[r],t[r]))return!1;return!0}function nt(e,t,r,n,a,i){if(r0=i,r2=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rJ.current=null===e||null===e.memoizedState?nD:nN,e=r(n,a),r6){i=0;do{if(r6=!1,r8=0,25<=i)throw Error(f(301));i+=1,r4=r3=null,t.updateQueue=null,rJ.current=nj,e=r(n,a)}while(r6)}if(rJ.current=nU,t=null!==r3&&null!==r3.next,r0=0,r4=r3=r2=null,r5=!1,t)throw Error(f(300));return e}function nr(){var e=0!==r8;return r8=0,e}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===r4?r2.memoizedState=r4=e:r4=r4.next=e,r4}function na(){if(null===r3){var e=r2.alternate;e=null!==e?e.memoizedState:null}else e=r3.next;var t=null===r4?r2.memoizedState:r4.next;if(null!==t)r4=t,r3=e;else{if(null===e)throw Error(f(310));e={memoizedState:(r3=e).memoizedState,baseState:r3.baseState,baseQueue:r3.baseQueue,queue:r3.queue,next:null},null===r4?r2.memoizedState=r4=e:r4=r4.next=e}return r4}function ni(e,t){return"function"==typeof t?t(e):t}function nl(e){var t=na(),r=t.queue;if(null===r)throw Error(f(311));r.lastRenderedReducer=e;var n=r3,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var o=l=null,s=null,u=i;do{var c=u.lane;if((r0&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(o=s=d,l=n):s=s.next=d,r2.lanes|=c,a0|=c}u=u.next}while(null!==u&&u!==i);null===s?l=n:s.next=o,tU(n,t.memoizedState)||(n1=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=s,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do i=a.lane,r2.lanes|=i,a0|=i,a=a.next;while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function no(e){var t=na(),r=t.queue;if(null===r)throw Error(f(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);tU(i,t.memoizedState)||(n1=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ns(){}function nu(e,t){var r=r2,n=na(),a=t(),i=!tU(n.memoizedState,a);if(i&&(n.memoizedState=a,n1=!0),n=n.queue,nw(nd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==r4&&1&r4.memoizedState.tag){if(r.flags|=2048,nm(9,nf.bind(null,r,n,a,t),void 0,null),null===aQ)throw Error(f(349));0!=(30&r0)||nc(r,t,a)}return a}function nc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=r2.updateQueue)?(t={lastEffect:null,stores:null},r2.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function nf(e,t,r,n){t.value=r,t.getSnapshot=n,np(t)&&ip(e,1,-1)}function nd(e,t,r){return r(function(){np(t)&&ip(e,1,-1)})}function np(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tU(e,r)}catch(e){return!0}}function nh(e){var t=nn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=nI.bind(null,r2,e),[t.memoizedState,e]}function nm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=r2.updateQueue)?(t={lastEffect:null,stores:null},r2.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function nv(){return na().memoizedState}function ng(e,t,r,n){var a=nn();r2.flags|=e,a.memoizedState=nm(1|t,r,void 0,void 0===n?null:n)}function ny(e,t,r,n){var a=na();n=void 0===n?null:n;var i=void 0;if(null!==r3){var l=r3.memoizedState;if(i=l.destroy,null!==n&&ne(n,l.deps)){a.memoizedState=nm(t,r,i,n);return}}r2.flags|=e,a.memoizedState=nm(1|t,r,i,n)}function nb(e,t){return ng(8390656,8,e,t)}function nw(e,t){return ny(2048,8,e,t)}function nx(e,t){return ny(4,2,e,t)}function nS(e,t){return ny(4,4,e,t)}function n_(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function nE(e,t,r){return r=null!=r?r.concat([e]):null,ny(4,4,n_.bind(null,t,e),r)}function nk(){}function nM(e,t){var r=na();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ne(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nC(e,t){var r=na();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ne(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nT(e,t){var r=t_;t_=0!==r&&4>r?r:4,e(!0);var n=r1.transition;r1.transition={};try{e(!1),t()}finally{t_=r,r1.transition=n}}function nR(){return na().memoizedState}function nP(e,t,r){var n=id(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nz(e)?nL(t,r):(nF(e,t,r),null!==(e=ip(e,n,r=ic()))&&nA(e,t,n))}function nI(e,t,r){var n=id(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nz(e))nL(t,a);else{nF(e,t,a);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,tU(o,l))return}catch(e){}finally{}null!==(e=ip(e,n,r=ic()))&&nA(e,t,n)}}function nz(e){var t=e.alternate;return e===r2||null!==t&&t===r2}function nL(e,t){r6=r5=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nF(e,t,r){null!==aQ&&0!=(1&e.mode)&&0==(2&aq)?(null===(e=t.interleaved)?(r.next=r,null===t0?t0=[t]:t0.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(null===(e=t.pending)?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function nA(e,t,r){if(0!=(4194240&r)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tS(e,r)}}var nU={readContext:t1,useCallback:r9,useContext:r9,useEffect:r9,useImperativeHandle:r9,useInsertionEffect:r9,useLayoutEffect:r9,useMemo:r9,useReducer:r9,useRef:r9,useState:r9,useDebugValue:r9,useDeferredValue:r9,useTransition:r9,useMutableSource:r9,useSyncExternalStore:r9,useId:r9,unstable_isNewReconciler:!1},nD={readContext:t1,useCallback:function(e,t){return nn().memoizedState=[e,void 0===t?null:t],e},useContext:t1,useEffect:nb,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ng(4194308,4,n_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return ng(4,2,e,t)},useMemo:function(e,t){var r=nn();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nn();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nP.bind(null,r2,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},nn().memoizedState=e},useState:nh,useDebugValue:nk,useDeferredValue:function(e){var t=nh(e),r=t[0],n=t[1];return nb(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){var e=nh(!1),t=e[0];return e=nT.bind(null,e[1]),nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=r2,a=nn();if(r_){if(void 0===r)throw Error(f(407));r=r()}else{if(r=t(),null===aQ)throw Error(f(349));0!=(30&r0)||nc(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nb(nd.bind(null,n,i,e),[e]),n.flags|=2048,nm(9,nf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=nn(),t=aQ.identifierPrefix;if(r_){var r=rv,n=rm;t=":"+t+"R"+(r=(n&~(1<<32-td(n)-1)).toString(32)+r),0<(r=r8++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=r7++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nN={readContext:t1,useCallback:nM,useContext:t1,useEffect:nw,useImperativeHandle:nE,useInsertionEffect:nx,useLayoutEffect:nS,useMemo:nC,useReducer:nl,useRef:nv,useState:function(){return nl(ni)},useDebugValue:nk,useDeferredValue:function(e){var t=nl(ni),r=t[0],n=t[1];return nw(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){return[nl(ni)[0],na().memoizedState]},useMutableSource:ns,useSyncExternalStore:nu,useId:nR,unstable_isNewReconciler:!1},nj={readContext:t1,useCallback:nM,useContext:t1,useEffect:nw,useImperativeHandle:nE,useInsertionEffect:nx,useLayoutEffect:nS,useMemo:nC,useReducer:no,useRef:nv,useState:function(){return no(ni)},useDebugValue:nk,useDeferredValue:function(e){var t=no(ni),r=t[0],n=t[1];return nw(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){return[no(ni)[0],na().memoizedState]},useMutableSource:ns,useSyncExternalStore:nu,useId:nR,unstable_isNewReconciler:!1};function nO(e,t){try{var r="",n=t;do r+=function(e){switch(e.tag){case 5:return e2(e.type);case 16:return e2("Lazy");case 13:return e2("Suspense");case 19:return e2("SuspenseList");case 0:case 2:case 15:return e=e4(e.type,!1);case 11:return e=e4(e.type.render,!1);case 1:return e=e4(e.type,!0);default:return""}}(n),n=n.return;while(n);var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function nB(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var nH="function"==typeof WeakMap?WeakMap:Map;function nW(e,t,r){(r=t5(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){a9||(a9=!0,ie=n),nB(e,t)},r}function nV(e,t,r){(r=t5(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){nB(e,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){nB(e,t),"function"!=typeof n&&(null===it?it=new Set([this]):it.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}function nG(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new nH;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=iF.bind(null,e,t,r),t.then(e,e))}function n$(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function nq(e,t,r,n,a){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=t5(-1,1)).tag=2,t6(r,t))),r.lanes|=1):(e.flags|=65536,e.lanes=a),e}function nQ(e){e.flags|=4}function nX(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)t=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)B(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},n=function(){},a=function(e,t,r,n,a){(e=e.memoizedProps)!==n&&(r=W(t.stateNode,r,e,n,a,rV(rB.current)),(t.updateQueue=r)&&nQ(t))},i=function(e,t,r,n){r!==n&&nQ(t)};else if(Z){t=function(e,r,n,a){for(var i=r.child;null!==i;){if(5===i.tag){var l=i.stateNode;n&&a&&(l=eL(l,i.type,i.memoizedProps,i)),B(e,l)}else if(6===i.tag)l=i.stateNode,n&&a&&(l=eF(l,i.memoizedProps,i)),B(e,l);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(l=i.child)&&(l.return=i),t(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var nY=function(e,t,r,n){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;r&&n&&(i=eL(i,a.type,a.memoizedProps,a)),eP(e,i)}else if(6===a.tag)i=a.stateNode,r&&n&&(i=eF(i,a.memoizedProps,a)),eP(e,i);else if(4!==a.tag){if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),nY(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};n=function(e,t){var r=t.stateNode;if(!nX(e,t)){var n=eR(e=r.containerInfo);nY(n,t,!1,!1),r.pendingChildren=n,nQ(t),eI(e,n)}},a=function(e,r,n,a,i){var l=e.stateNode,o=e.memoizedProps;if((e=nX(e,r))&&o===a)r.stateNode=l;else{var s=r.stateNode,u=rV(rB.current),c=null;o!==a&&(c=W(s,n,o,a,i,u)),e&&null===c?r.stateNode=l:(H(l=eT(l,c,n,o,a,r,e,s),n,a,i,u)&&nQ(r),r.stateNode=l,e?nQ(r):t(l,r,!1,!1))}},i=function(e,t,r,n){r!==n?(e=rV(rW.current),r=rV(rB.current),t.stateNode=G(n,e,r,t),nQ(t)):t.stateNode=e.stateNode}}else n=function(){},a=function(){},i=function(){};function nZ(e,t){if(!r_)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nK(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}var nJ=d.ReactCurrentOwner,n1=!1;function n0(e,t,r,n){t.child=null===e?rj(t,null,r,n):rN(t,e.child,r,n)}function n2(e,t,r,n,a){r=r.render;var i=t.ref;return(tJ(t,a),n=nt(e,t,r,n,i,a),r=nr(),null===e||n1)?(r_&&r&&rb(t),t.flags|=1,n0(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a))}function n3(e,t,r,n,a){if(null===e){var i=r.type;return"function"!=typeof i||iO(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=iH(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,n4(e,t,i,n,a))}if(i=e.child,0==(e.lanes&a)){var l=i.memoizedProps;if((r=null!==(r=r.compare)?r:tW)(l,n)&&e.ref===t.ref)return ac(e,t,a)}return t.flags|=1,(e=iB(i,n)).ref=t.ref,e.return=t,t.child=e}function n4(e,t,r,n,a){if(null!==e&&tW(e.memoizedProps,n)&&e.ref===t.ref){if(n1=!1,0==(e.lanes&a))return t.lanes=e.lanes,ac(e,t,a);0!=(131072&e.flags)&&(n1=!0)}return n8(e,t,r,n,a)}function n5(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},te(aK,aZ),aZ|=r;else{if(0==(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,te(aK,aZ),aZ|=e,null;t.memoizedState={baseLanes:0,cachePool:null},n=null!==i?i.baseLanes:r,te(aK,aZ),aZ|=n}}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(aK,aZ),aZ|=n;return n0(e,t,a,r),t.child}function n6(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function n8(e,t,r,n,a){var i=tl(r)?ta:tr.current;return(i=ti(t,i),tJ(t,a),r=nt(e,t,r,n,i,a),n=nr(),null===e||n1)?(r_&&n&&rb(t),t.flags|=1,n0(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ac(e,t,a))}function n7(e,t,r,n,a){if(tl(r)){var i=!0;tc(t)}else i=!1;if(tJ(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ri(t,r,n),ro(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var s=l.context,u=r.contextType;u="object"==typeof u&&null!==u?t1(u):ti(t,u=tl(r)?ta:tr.current);var c=r.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;f||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==n||s!==u)&&rl(t,l,n,u),t2=!1;var d=t.memoizedState;l.state=d,t9(t,n,l,a),s=t.memoizedState,o!==n||d!==s||tn.current||t2?("function"==typeof c&&(rr(t,r,c,n),s=t.memoizedState),(o=t2||ra(t,r,o,n,d,s,u))?(f||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=s),l.props=n,l.state=s,l.context=u,n=o):("function"==typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,t4(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:tV(t.type,o),l.props=u,f=t.pendingProps,d=l.context,s="object"==typeof(s=r.contextType)&&null!==s?t1(s):ti(t,s=tl(r)?ta:tr.current);var p=r.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==f||d!==s)&&rl(t,l,n,s),t2=!1,d=t.memoizedState,l.state=d,t9(t,n,l,a);var h=t.memoizedState;o!==f||d!==h||tn.current||t2?("function"==typeof p&&(rr(t,r,p,n),h=t.memoizedState),(u=t2||ra(t,r,u,n,d,h,s)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(n,h,s),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,h,s)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),l.props=n,l.state=h,l.context=s,n=u):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return n9(e,t,r,n,i,a)}function n9(e,t,r,n,a,i){n6(e,t);var l=0!=(128&t.flags);if(!n&&!l)return a&&tf(t,r,!1),ac(e,t,i);n=t.stateNode,nJ.current=t;var o=l&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=rN(t,e.child,null,i),t.child=rN(t,null,o,i)):n0(e,t,o,i),t.memoizedState=n.state,a&&tf(t,r,!0),t.child}function ae(e){var t=e.stateNode;t.pendingContext?ts(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ts(e,t.context,!1),rG(e,t.containerInfo)}function at(e,t,r,n,a){return rz(),rL(a),t.flags|=256,n0(e,t,r,n),t.child}var ar={dehydrated:null,treeContext:null,retryLane:0};function an(e){return{baseLanes:e,cachePool:null}}function aa(e,t,r){var n,a,i,l,o,s,u,c,d,p,h,m,v,g,y=t.pendingProps,b=rX.current,w=!1,x=0!=(128&t.flags);if((g=x)||(g=(null===e||null!==e.memoizedState)&&0!=(2&b)),g?(w=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(b|=1),te(rX,1&b),null===e)return(rR(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:ej(e)?t.lanes=8:t.lanes=1073741824,null):(b=y.children,e=y.fallback,w?(y=t.mode,w=t.child,b={mode:"hidden",children:b},0==(1&y)&&null!==w?(w.childLanes=0,w.pendingProps=b):w=iV(b,y,0,null),e=iW(e,y,r,null),w.return=t,e.return=t,w.sibling=e,t.child=w,t.child.memoizedState=an(r),t.memoizedState=ar,e):ai(t,b));if(null!==(b=e.memoizedState)&&null!==(g=b.dehydrated)){if(x)return 256&t.flags?(t.flags&=-257,al(e,t,r,Error(f(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(w=y.fallback,b=t.mode,y=iV({mode:"visible",children:y.children},b,0,null),w=iW(w,b,r,null),w.flags|=2,y.return=t,w.return=t,y.sibling=w,t.child=y,0!=(1&t.mode)&&rN(t,e.child,null,r),t.child.memoizedState=an(r),t.memoizedState=ar,w);if(0==(1&t.mode))t=al(e,t,r,null);else if(ej(g))t=al(e,t,r,Error(f(419)));else if(y=0!=(r&e.childLanes),n1||y){if(null!==(y=aQ)){switch(r&-r){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}0!==(y=0!=(w&(y.suspendedLanes|r))?0:w)&&y!==b.retryLane&&(b.retryLane=y,ip(e,y,-1))}iM(),t=al(e,t,r,Error(f(421)))}else eN(g)?(t.flags|=128,t.child=e.child,eO(g,t=iU.bind(null,e)),t=null):(r=b.treeContext,K&&(rS=eV(g),rx=t,r_=!0,rk=null,rE=!1,null!==r&&(rd[rp++]=rm,rd[rp++]=rv,rd[rp++]=rh,rm=r.id,rv=r.overflow,rh=t)),t=ai(t,t.pendingProps.children),t.flags|=4096);return t}return w?(n=e,a=t,i=y.children,l=y.fallback,o=r,s=a.mode,u=(n=n.child).sibling,c={mode:"hidden",children:i},0==(1&s)&&a.child!==n?((i=a.child).childLanes=0,i.pendingProps=c,a.deletions=null):(i=iB(n,c)).subtreeFlags=14680064&n.subtreeFlags,null!==u?l=iB(u,l):(l=iW(l,s,o,null),l.flags|=2),l.return=a,i.return=a,i.sibling=l,a.child=i,y=l,w=t.child,b=e.child.memoizedState,w.memoizedState=null===b?an(r):{baseLanes:b.baseLanes|r,cachePool:null},w.childLanes=e.childLanes&~r,t.memoizedState=ar,y):(d=e,p=t,h=y.children,m=r,d=(v=d.child).sibling,h=iB(v,{mode:"visible",children:h}),0==(1&p.mode)&&(h.lanes=m),h.return=p,h.sibling=null,null!==d&&(null===(m=p.deletions)?(p.deletions=[d],p.flags|=16):m.push(d)),r=p.child=h,t.memoizedState=null,r)}function ai(e,t){return(t=iV({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function al(e,t,r,n){return null!==n&&rL(n),rN(t,e.child,null,r),e=ai(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ao(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),tK(e.return,t,r)}function as(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function au(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(n0(e,t,n.children,r),0!=(2&(n=rX.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ao(e,r,t);else if(19===e.tag)ao(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(rX,n),0==(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(a=null,r=t.child;null!==r;)null!==(e=r.alternate)&&null===rY(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),as(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===rY(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}as(t,!0,r,null,i);break;case"together":as(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ac(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),a0|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(f(153));if(null!==t.child){for(r=iB(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=iB(e,e.pendingProps)).return=t;r.sibling=null}return t.child}var af=!1,ad=!1,ap="function"==typeof WeakSet?WeakSet:Set,ah=null;function am(e,t){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){iL(e,t,r)}else r.current=null}}function av(e,t,r){try{r()}catch(r){iL(e,t,r)}}var ag=!1;function ay(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&av(t,r,i)}a=a.next}while(a!==n)}}function ab(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aw(e){var t=e.ref;if(null!==t){var r=e.stateNode;e=5===e.tag?A(r):r,"function"==typeof t?t(e):t.current=e}}function ax(e,t,r){if(tA&&"function"==typeof tA.onCommitFiberUnmount)try{tA.onCommitFiberUnmount(tF,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!=(2&a)?av(t,r,i):0!=(4&a)&&av(t,r,i)),n=n.next}while(n!==e)}break;case 1:if(am(t,r),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){iL(t,r,e)}break;case 5:am(t,r);break;case 4:Y?aM(e,t,r):Z&&Z&&(r=eR(t=t.stateNode.containerInfo),ez(t,r))}}function aS(e,t,r){for(var n=t;;)if(ax(e,n,r),null===n.child||Y&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function a_(e){return 5===e.tag||3===e.tag||4===e.tag}function aE(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ak(e){if(Y){e:{for(var t=e.return;null!==t;){if(a_(t))break e;t=t.return}throw Error(f(160))}var r=t;switch(r.tag){case 5:t=r.stateNode,32&r.flags&&(eS(t),r.flags&=-33),r=aE(e),function e(t,r,n){var a=t.tag;if(5===a||6===a)t=t.stateNode,r?ey(n,t,r):ep(n,t);else if(4!==a&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t);break;case 3:case 4:t=r.stateNode.containerInfo,r=aE(e),function e(t,r,n){var a=t.tag;if(5===a||6===a)t=t.stateNode,r?eb(n,t,r):eh(n,t);else if(4!==a&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t);break;default:throw Error(f(161))}}}function aM(e,t,r){for(var n,a,i=t,l=!1;;){if(!l){l=i.return;e:for(;;){if(null===l)throw Error(f(160));switch(n=l.stateNode,l.tag){case 5:a=!1;break e;case 3:case 4:n=n.containerInfo,a=!0;break e}l=l.return}l=!0}if(5===i.tag||6===i.tag)aS(e,i,r),a?ex(n,i.stateNode):ew(n,i.stateNode);else if(18===i.tag)a?eK(n,i.stateNode):eZ(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(ax(e,i,r),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(l=!1)}i.sibling.return=i.return,i=i.sibling}}function aC(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:ay(3,t,t.return),ab(3,t),ay(5,t,t.return);return;case 1:case 12:case 17:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&eg(r,i,a,e,n,t)}return;case 6:if(null===t.stateNode)throw Error(f(162));r=t.memoizedProps,em(t.stateNode,null!==e?e.memoizedProps:r,r);return;case 3:K&&null!==e&&e.memoizedState.isDehydrated&&eX(t.stateNode.containerInfo);return;case 13:case 19:aT(t);return}throw Error(f(163))}switch(t.tag){case 0:case 11:case 14:case 15:ay(3,t,t.return),ab(3,t),ay(5,t,t.return);return;case 12:case 22:case 23:return;case 13:case 19:aT(t);return;case 3:K&&null!==e&&e.memoizedState.isDehydrated&&eX(t.stateNode.containerInfo)}e:if(Z){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:ez((t=t.stateNode).containerInfo,t.pendingChildren);break e}throw Error(f(163))}}function aT(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ap),t.forEach(function(t){var n=iD.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function aR(e){for(;null!==ah;){var t=ah;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ad||ab(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!ad){if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tV(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}}var i=t.updateQueue;null!==i&&re(t,i,n);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=A(t.child.stateNode);break;case 1:r=t.child.stateNode}re(t,l,r)}break;case 5:var o=t.stateNode;null===r&&4&t.flags&&ev(o,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var s=t.alternate;if(null!==s){var u=s.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&eY(c)}}}break;default:throw Error(f(163))}ad||512&t.flags&&aw(t)}catch(e){iL(t,t.return,e)}}if(t===e){ah=null;break}if(null!==(r=t.sibling)){r.return=t.return,ah=r;break}ah=t.return}}function aP(e){for(;null!==ah;){var t=ah;if(t===e){ah=null;break}var r=t.sibling;if(null!==r){r.return=t.return,ah=r;break}ah=t.return}}function aI(e){for(;null!==ah;){var t=ah;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ab(4,t)}catch(e){iL(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(e){iL(t,a,e)}}var i=t.return;try{aw(t)}catch(e){iL(t,i,e)}break;case 5:var l=t.return;try{aw(t)}catch(e){iL(t,l,e)}}}catch(e){iL(t,t.return,e)}if(t===e){ah=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ah=o;break}ah=t.return}}var az=0,aL=1,aF=2,aA=3,aU=4;if("function"==typeof Symbol&&Symbol.for){var aD=Symbol.for;az=aD("selector.component"),aL=aD("selector.has_pseudo_class"),aF=aD("selector.role"),aA=aD("selector.test_id"),aU=aD("selector.text")}function aN(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(f(364));return t}if(null===(e=el(e)))throw Error(f(362));return e.stateNode.current}function aj(e,t){switch(t.$$typeof){case az:if(e.type===t.value)return!0;break;case aL:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],a=e[r++],i=t[a];if(5!==n.tag||!eu(n)){for(;null!=i&&aj(n,i);)i=t[++a];if(a===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,a),n=n.sibling}}t=!1}return t;case aF:if(5===e.tag&&ec(e.stateNode,t.value))return!0;break;case aU:if((5===e.tag||6===e.tag)&&null!==(e=es(e))&&0<=e.indexOf(t.value))return!0;break;case aA:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(f(365))}return!1}function aO(e){switch(e.$$typeof){case az:return"<"+(T(e.value)||"Unknown")+">";case aL:return":has("+(aO(e)||"")+")";case aF:return'[role="'+e.value+'"]';case aU:return'"'+e.value+'"';case aA:return'[data-testname="'+e.value+'"]';default:throw Error(f(365))}}function aB(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var a=e[n++],i=e[n++],l=t[i];if(5!==a.tag||!eu(a)){for(;null!=l&&aj(a,l);)l=t[++i];if(i===t.length)r.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return r}function aH(e,t){if(!ei)throw Error(f(363));e=aB(e=aN(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)eu(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var aW=Math.ceil,aV=d.ReactCurrentDispatcher,aG=d.ReactCurrentOwner,a$=d.ReactCurrentBatchConfig,aq=0,aQ=null,aX=null,aY=0,aZ=0,aK=e7(0),aJ=0,a1=null,a0=0,a2=0,a3=0,a4=null,a5=null,a6=0,a8=1/0;function a7(){a8=tR()+500}var a9=!1,ie=null,it=null,ir=!1,ia=null,ii=0,il=0,io=null,is=-1,iu=0;function ic(){return 0!=(6&aq)?tR():-1!==is?is:is=tR()}function id(e){return 0==(1&e.mode)?1:0!=(2&aq)&&0!==aY?aY&-aY:null!==tH.transition?(0===iu&&(e=tm,0==(4194240&(tm<<=1))&&(tm=64),iu=e),iu):0!==(e=t_)?e:et()}function ip(e,t,r){if(50<il)throw il=0,io=null,Error(f(185));var n=ih(e,t);return null===n?null:(tx(n,t,r),(0==(2&aq)||n!==aQ)&&(n===aQ&&(0==(2&aq)&&(a2|=t),4===aJ&&ib(n,aY)),im(n,r),1===t&&0===aq&&0==(1&e.mode)&&(a7(),tN&&tB())),n)}function ih(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function im(e,t){var r,n=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-td(i),o=1<<l,s=a[l];-1===s?(0==(o&r)||0!=(o&n))&&(a[l]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):s<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=ty(e,e===aQ?aY:0);if(0===a)null!==n&&tM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&tM(n),1===t)0===e.tag?(r=iw.bind(null,e),tN=!0,tO(r)):tO(iw.bind(null,e)),en?ea(function(){0===aq&&tB()}):tk(tP,tB),n=null;else{switch(tE(a)){case 1:n=tP;break;case 4:n=tI;break;case 16:default:n=tz;break;case 536870912:n=tL}n=tk(n,iv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iv(e,t){if(is=-1,iu=0,0!=(6&aq))throw Error(f(327));var r=e.callbackNode;if(iI()&&e.callbackNode!==r)return null;var n=ty(e,e===aQ?aY:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=iC(e,n);else{t=n;var a=aq;aq|=2;var i=ik();for((aQ!==e||aY!==t)&&(a7(),i_(e,t));;)try{!function(){for(;null!==aX&&!tC();)iT(aX)}();break}catch(t){iE(e,t)}tX(),aV.current=i,aq=a,null!==aX?t=0:(aQ=null,aY=0,t=aJ)}if(0!==t){if(2===t&&0!==(a=tb(e))&&(n=a,t=ig(e,a)),1===t)throw r=a1,i_(e,0),ib(e,n),im(e,tR()),r;if(6===t)ib(e,n);else{if(a=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!tU(i(),a))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=iC(e,n))&&0!==(i=tb(e))&&(n=i,t=ig(e,i)),1===t))throw r=a1,i_(e,0),ib(e,n),im(e,tR()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(f(345));case 2:case 5:iP(e,a5);break;case 3:if(ib(e,n),(130023424&n)===n&&10<(t=a6+500-tR())){if(0!==ty(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ic(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$(iP.bind(null,e,a5),t);break}iP(e,a5);break;case 4:if(ib(e,n),(4194240&n)===n)break;for(a=-1,t=e.eventTimes;0<n;){var l=31-td(n);i=1<<l,(l=t[l])>a&&(a=l),n&=~i}if(n=a,10<(n=(120>(n=tR()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aW(n/1960))-n)){e.timeoutHandle=$(iP.bind(null,e,a5),n);break}iP(e,a5);break;default:throw Error(f(329))}}}return im(e,tR()),e.callbackNode===r?iv.bind(null,e):null}function ig(e,t){var r=a4;return e.current.memoizedState.isDehydrated&&(i_(e,t).flags|=256),2!==(e=iC(e,t))&&(t=a5,a5=r,null!==t&&iy(t)),e}function iy(e){null===a5?a5=e:a5.push.apply(a5,e)}function ib(e,t){for(t&=~a3,t&=~a2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-td(t),n=1<<r;e[r]=-1,t&=~n}}function iw(e){if(0!=(6&aq))throw Error(f(327));iI();var t=ty(e,0);if(0==(1&t))return im(e,tR()),null;var r=iC(e,t);if(0!==e.tag&&2===r){var n=tb(e);0!==n&&(t=n,r=ig(e,n))}if(1===r)throw r=a1,i_(e,0),ib(e,t),im(e,tR()),r;if(6===r)throw Error(f(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,iP(e,a5),im(e,tR()),null}function ix(e){null!==ia&&0===ia.tag&&0==(6&aq)&&iI();var t=aq;aq|=1;var r=a$.transition,n=t_;try{if(a$.transition=null,t_=1,e)return e()}finally{t_=n,a$.transition=r,0==(6&(aq=t))&&tB()}}function iS(){aZ=aK.current,e9(aK)}function i_(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==Q&&(e.timeoutHandle=Q,q(r)),null!==aX)for(r=aX.return;null!==r;){var n=r;switch(rw(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&to();break;case 3:r$(),e9(tn),e9(tr),rK();break;case 5:rQ(n);break;case 4:r$();break;case 13:case 19:e9(rX);break;case 10:tZ(n.type._context);break;case 22:case 23:iS()}r=r.return}if(aQ=e,aX=e=iB(e.current,null),aY=aZ=t,aJ=0,a1=null,a3=a2=a0=0,a5=a4=null,null!==t0){for(t=0;t<t0.length;t++)if(null!==(n=(r=t0[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var l=i.next;i.next=a,n.next=l}r.pending=n}t0=null}return e}function iE(e,t){for(;;){var r=aX;try{if(tX(),rJ.current=nU,r5){for(var n=r2.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}r5=!1}if(r0=0,r4=r3=r2=null,r6=!1,r8=0,aG.current=null,null===r||null===r.return){aJ=1,a1=t,aX=null;break}e:{var i=e,l=r.return,o=r,s=t;if(t=aY,o.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s,c=o,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=n$(l);if(null!==h){h.flags&=-257,nq(h,l,o,i,t),1&h.mode&&nG(i,u,t),t=h,s=u;var m=t.updateQueue;if(null===m){var v=new Set;v.add(s),t.updateQueue=v}else m.add(s);break e}if(0==(1&t)){nG(i,u,t),iM();break e}s=Error(f(426))}else if(r_&&1&o.mode){var g=n$(l);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),nq(g,l,o,i,t),rL(s);break e}}i=s,4!==aJ&&(aJ=2),null===a4?a4=[i]:a4.push(i),s=nO(s,o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=nW(o,s,t);t7(o,y);break e;case 1:i=s;var b=o.type,w=o.stateNode;if(0==(128&o.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===it||!it.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=nV(o,i,t);t7(o,x);break e}}o=o.return}while(null!==o)}iR(r)}catch(e){t=e,aX===r&&null!==r&&(aX=r=r.return);continue}break}}function ik(){var e=aV.current;return aV.current=nU,null===e?nU:e}function iM(){(0===aJ||3===aJ||2===aJ)&&(aJ=4),null===aQ||0==(268435455&a0)&&0==(268435455&a2)||ib(aQ,aY)}function iC(e,t){var r=aq;aq|=2;var n=ik();for(aQ===e&&aY===t||i_(e,t);;)try{!function(){for(;null!==aX;)iT(aX)}();break}catch(t){iE(e,t)}if(tX(),aq=r,aV.current=n,null!==aX)throw Error(f(261));return aQ=null,aY=0,aJ}function iT(e){var t=l(e.alternate,e,aZ);e.memoizedProps=e.pendingProps,null===t?iR(e):aX=t,aG.current=null}function iR(e){var r=e;do{var l=r.alternate;if(e=r.return,0==(32768&r.flags)){if(null!==(l=function(e,r,l){var o=r.pendingProps;switch(rw(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nK(r),null;case 1:case 17:return tl(r.type)&&to(),nK(r),null;case 3:return o=r.stateNode,r$(),e9(tn),e9(tr),rK(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(rI(r)?nQ(r):null===e||e.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,null!==rk&&(iy(rk),rk=null))),n(e,r),nK(r),null;case 5:rQ(r),l=rV(rW.current);var s=r.type;if(null!==e&&null!=r.stateNode)a(e,r,s,o,l),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(null===r.stateNode)throw Error(f(166));return nK(r),null}if(e=rV(rB.current),rI(r)){if(!K)throw Error(f(175));e=eG(r.stateNode,r.type,r.memoizedProps,l,e,r,!rE),r.updateQueue=e,null!==e&&nQ(r)}else{var u=O(s,o,l,e,r);t(u,r,!1,!1),r.stateNode=u,H(u,s,o,l,e)&&nQ(r)}null!==r.ref&&(r.flags|=512,r.flags|=2097152)}return nK(r),null;case 6:if(e&&null!=r.stateNode)i(e,r,e.memoizedProps,o);else{if("string"!=typeof o&&null===r.stateNode)throw Error(f(166));if(e=rV(rW.current),l=rV(rB.current),rI(r)){if(!K)throw Error(f(176));if((l=e$(e=r.stateNode,o=r.memoizedProps,r,!rE))&&null!==(s=rx))switch(u=0!=(1&s.mode),s.tag){case 3:e1(s.stateNode.containerInfo,e,o,u);break;case 5:e0(s.type,s.memoizedProps,s.stateNode,e,o,u)}l&&nQ(r)}else r.stateNode=G(o,e,l,r)}return nK(r),null;case 13:if(e9(rX),o=r.memoizedState,r_&&null!==rS&&0!=(1&r.mode)&&0==(128&r.flags)){for(e=rS;e;)e=eB(e);return rz(),r.flags|=98560,r}if(null!==o&&null!==o.dehydrated){if(o=rI(r),null===e){if(!o)throw Error(f(318));if(!K)throw Error(f(344));if(!(e=null!==(e=r.memoizedState)?e.dehydrated:null))throw Error(f(317));eq(e,r)}else rz(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;return nK(r),null}if(null!==rk&&(iy(rk),rk=null),0!=(128&r.flags))return r.lanes=l,r;return o=null!==o,l=!1,null===e?rI(r):l=null!==e.memoizedState,o&&!l&&(r.child.flags|=8192,0!=(1&r.mode)&&(null===e||0!=(1&rX.current)?0===aJ&&(aJ=3):iM())),null!==r.updateQueue&&(r.flags|=4),nK(r),null;case 4:return r$(),n(e,r),null===e&&ee(r.stateNode.containerInfo),nK(r),null;case 10:return tZ(r.type._context),nK(r),null;case 19:if(e9(rX),null===(s=r.memoizedState))return nK(r),null;if(o=0!=(128&r.flags),null===(u=s.rendering)){if(o)nZ(s,!1);else{if(0!==aJ||null!==e&&0!=(128&e.flags))for(e=r.child;null!==e;){if(null!==(u=rY(e))){for(r.flags|=128,nZ(s,!1),null!==(e=u.updateQueue)&&(r.updateQueue=e,r.flags|=4),r.subtreeFlags=0,e=l,o=r.child;null!==o;)l=o,s=e,l.flags&=14680066,null===(u=l.alternate)?(l.childLanes=0,l.lanes=s,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,s=u.dependencies,l.dependencies=null===s?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return te(rX,1&rX.current|2),r.child}e=e.sibling}null!==s.tail&&tR()>a8&&(r.flags|=128,o=!0,nZ(s,!1),r.lanes=4194304)}}else{if(!o){if(null!==(e=rY(u))){if(r.flags|=128,o=!0,null!==(e=e.updateQueue)&&(r.updateQueue=e,r.flags|=4),nZ(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!r_)return nK(r),null}else 2*tR()-s.renderingStartTime>a8&&1073741824!==l&&(r.flags|=128,o=!0,nZ(s,!1),r.lanes=4194304)}s.isBackwards?(u.sibling=r.child,r.child=u):(null!==(e=s.last)?e.sibling=u:r.child=u,s.last=u)}if(null!==s.tail)return r=s.tail,s.rendering=r,s.tail=r.sibling,s.renderingStartTime=tR(),r.sibling=null,e=rX.current,te(rX,o?1&e|2:1&e),r;return nK(r),null;case 22:case 23:return iS(),o=null!==r.memoizedState,null!==e&&null!==e.memoizedState!==o&&(r.flags|=8192),o&&0!=(1&r.mode)?0!=(1073741824&aZ)&&(nK(r),Y&&6&r.subtreeFlags&&(r.flags|=8192)):nK(r),null;case 24:case 25:return null}throw Error(f(156,r.tag))}(l,r,aZ))){aX=l;return}}else{if(null!==(l=function(e,t){switch(rw(t),t.tag){case 1:return tl(t.type)&&to(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return r$(),e9(tn),e9(tr),rK(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return rQ(t),null;case 13:if(e9(rX),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(f(340));rz()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return e9(rX),null;case 4:return r$(),null;case 10:return tZ(t.type._context),null;case 22:case 23:return iS(),null;default:return null}}(l,r))){l.flags&=32767,aX=l;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{aJ=6,aX=null;return}}if(null!==(r=r.sibling)){aX=r;return}aX=r=e}while(null!==r);0===aJ&&(aJ=5)}function iP(e,t){var r=t_,n=a$.transition;try{a$.transition=null,t_=1,function(e,t,r){do iI();while(null!==ia);if(0!=(6&aq))throw Error(f(327));var n=e.finishedWork,a=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(f(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-td(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,i),e===aQ&&(aX=aQ=null,aY=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||ir||(ir=!0,l=tz,o=function(){return iI(),null},tk(l,o)),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=a$.transition,a$.transition=null;var l,o,s,u,c=t_;t_=1;var d=aq;aq|=4,aG.current=null,function(e,t){for(N(e.containerInfo),ah=t;null!==ah;)if(t=(e=ah).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,ah=t;else for(;null!==ah;){e=ah;try{var r=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==r){var n=r.memoizedProps,a=r.memoizedState,i=e.stateNode,l=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:tV(e.type,n),a);i.__reactInternalSnapshotBeforeUpdate=l}break;case 3:Y&&eC(e.stateNode.containerInfo);break;default:throw Error(f(163))}}catch(t){iL(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,ah=t;break}ah=e.return}r=ag,ag=!1}(e,n),function(e,t){for(ah=t;null!==ah;){var r=(t=ah).deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e;Y?aM(i,a,t):aS(i,a,t);var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(e){iL(a,t,e)}}if(r=t.child,0!=(12854&t.subtreeFlags)&&null!==r)r.return=t,ah=r;else for(;null!==ah;){t=ah;try{var o=t.flags;if(32&o&&Y&&eS(t.stateNode),512&o){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(a6=tR())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,p=null!==d&&null!==d.memoizedState;if(r=t,Y){e:if(n=r,a=f,i=null,Y)for(var h=n;;){if(5===h.tag){if(null===i){i=h;var m=h.stateNode;a?e_(m):ek(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===i){var v=h.stateNode;a?eE(v):eM(v,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===n)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===n)break;for(;null===h.sibling;){if(null===h.return||h.return===n)break e;i===h&&(i=null),h=h.return}i===h&&(i=null),h.sibling.return=h.return,h=h.sibling}}if(f&&!p&&0!=(1&r.mode)){ah=r;for(var g=r.child;null!==g;){for(r=ah=g;null!==ah;){var y=(n=ah).child;switch(n.tag){case 0:case 11:case 14:case 15:ay(4,n,n.return);break;case 1:am(n,n.return);var b=n.stateNode;if("function"==typeof b.componentWillUnmount){var w=n.return;try{b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(e){iL(n,w,e)}}break;case 5:am(n,n.return);break;case 22:if(null!==n.memoizedState){aP(r);continue}}null!==y?(y.return=n,ah=y):aP(r)}g=g.sibling}}}switch(4102&o){case 2:ak(t),t.flags&=-3;break;case 6:ak(t),t.flags&=-3,aC(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,aC(t.alternate,t);break;case 4:aC(t.alternate,t)}}catch(e){iL(t,t.return,e)}if(null!==(r=t.sibling)){r.return=t.return,ah=r;break}ah=t.return}}}(e,n,a),j(e.containerInfo),e.current=n,s=n,u=e,ah=s,function e(t,r,n){for(var a=0!=(1&t.mode);null!==ah;){var i=ah,l=i.child;if(22===i.tag&&a){var o=null!==i.memoizedState||af;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||ad;s=af;var c=ad;if(af=o,(ad=u)&&!c)for(ah=i;null!==ah;)u=(o=ah).child,22===o.tag&&null!==o.memoizedState?aI(i):null!==u?(u.return=o,ah=u):aI(i);for(;null!==l;)ah=l,e(l,r,n),l=l.sibling;ah=i,af=s,ad=c}aR(t,r,n)}else 0!=(8772&i.subtreeFlags)&&null!==l?(l.return=i,ah=l):aR(t,r,n)}}(s,u,a),tT(),aq=d,t_=c,a$.transition=i}else e.current=n;if(ir&&(ir=!1,ia=e,ii=a),0===(i=e.pendingLanes)&&(it=null),function(e){if(tA&&"function"==typeof tA.onCommitFiberRoot)try{tA.onCommitFiberRoot(tF,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),im(e,tR()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(a9)throw a9=!1,e=ie,ie=null,e;0!=(1&ii)&&0!==e.tag&&iI(),0!=(1&(i=e.pendingLanes))?e===io?il++:(il=0,io=e):il=0,tB()}}(e,t,r)}finally{a$.transition=n,t_=r}return null}function iI(){if(null!==ia){var e=tE(ii),t=a$.transition,r=t_;try{if(a$.transition=null,t_=16>e?16:e,null===ia)var n=!1;else{if(e=ia,ia=null,ii=0,0!=(6&aq))throw Error(f(331));var a=aq;for(aq|=4,ah=e.current;null!==ah;){var i=ah,l=i.child;if(0!=(16&ah.flags)){var o=i.deletions;if(null!==o){for(var s=0;s<o.length;s++){var u=o[s];for(ah=u;null!==ah;){var c=ah;switch(c.tag){case 0:case 11:case 15:ay(8,c,i)}var d=c.child;if(null!==d)d.return=c,ah=d;else for(;null!==ah;){var p=(c=ah).sibling,h=c.return;if(!function e(t){var r=t.alternate;null!==r&&(t.alternate=null,e(r)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(r=t.stateNode)&&er(r),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){ah=null;break}if(null!==p){p.return=h,ah=p;break}ah=h}}}var m=i.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}ah=i}}if(0!=(2064&i.subtreeFlags)&&null!==l)l.return=i,ah=l;else for(;null!==ah;){if(i=ah,0!=(2048&i.flags))switch(i.tag){case 0:case 11:case 15:ay(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,ah=y;break}ah=i.return}}var b=e.current;for(ah=b;null!==ah;){var w=(l=ah).child;if(0!=(2064&l.subtreeFlags)&&null!==w)w.return=l,ah=w;else for(l=b;null!==ah;){if(o=ah,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:ab(9,o)}}catch(e){iL(o,o.return,e)}if(o===l){ah=null;break}var x=o.sibling;if(null!==x){x.return=o.return,ah=x;break}ah=o.return}}if(aq=a,tB(),tA&&"function"==typeof tA.onPostCommitFiberRoot)try{tA.onPostCommitFiberRoot(tF,e)}catch(e){}n=!0}return n}finally{t_=r,a$.transition=t}}return!1}function iz(e,t,r){t=nW(e,t=nO(r,t),1),t6(e,t),t=ic(),null!==(e=ih(e,1))&&(tx(e,1,t),im(e,t))}function iL(e,t,r){if(3===e.tag)iz(e,e,r);else for(;null!==t;){if(3===t.tag){iz(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===it||!it.has(n))){e=nV(t,e=nO(r,e),1),t6(t,e),e=ic(),null!==(t=ih(t,1))&&(tx(t,1,e),im(t,e));break}}t=t.return}}function iF(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&r,aQ===e&&(aY&r)===r&&(4===aJ||3===aJ&&(130023424&aY)===aY&&500>tR()-a6?i_(e,0):a3|=r),im(e,t)}function iA(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tv,0==(130023424&(tv<<=1))&&(tv=4194304)));var r=ic();null!==(e=ih(e,t))&&(tx(e,t,r),im(e,r))}function iU(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),iA(e,r)}function iD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(f(314))}null!==n&&n.delete(t),iA(e,r)}function iN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ij(e,t,r,n){return new iN(e,t,r,n)}function iO(e){return!(!(e=e.prototype)||!e.isReactComponent)}function iB(e,t){var r=e.alternate;return null===r?((r=ij(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function iH(e,t,r,n,a,i){var l=2;if(n=e,"function"==typeof e)iO(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case m:return iW(r.children,a,i,t);case v:l=8,a|=8;break;case g:return(e=ij(12,r,t,2|a)).elementType=g,e.lanes=i,e;case x:return(e=ij(13,r,t,a)).elementType=x,e.lanes=i,e;case S:return(e=ij(19,r,t,a)).elementType=S,e.lanes=i,e;case k:return iV(r,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:l=10;break e;case b:l=9;break e;case w:l=11;break e;case _:l=14;break e;case E:l=16,n=null;break e}throw Error(f(130,null==e?e:typeof e,""))}return(t=ij(l,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function iW(e,t,r,n){return(e=ij(7,e,n,t)).lanes=r,e}function iV(e,t,r,n){return(e=ij(22,e,n,t)).elementType=k,e.lanes=r,e.stateNode={},e}function iG(e,t,r){return(e=ij(6,e,null,t)).lanes=r,e}function i$(e,t,r){return(t=ij(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iq(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=n,this.onRecoverableError=a,K&&(this.mutableSourceEagerHydrationData=null)}function iQ(e,t,r,n,a,i,l,o,s){return e=new iq(e,t,r,o,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=ij(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},t3(i),e}function iX(e){if(!e)return tt;e=e._reactInternals;e:{if(R(e)!==e||1!==e.tag)throw Error(f(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(f(171))}if(1===e.tag){var r=e.type;if(tl(r))return tu(e,r,t)}return t}function iY(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(f(188));throw Error(f(268,e=Object.keys(e).join(",")))}return null===(e=z(t))?null:e.stateNode}function iZ(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function iK(e,t){iZ(e,t),(e=e.alternate)&&iZ(e,t)}function iJ(e){return null===(e=z(e))?null:e.stateNode}function i1(){return null}return l=function(e,t,r){if(null!==e){if(e.memoizedProps!==t.pendingProps||tn.current)n1=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return n1=!1,function(e,t,r){switch(t.tag){case 3:ae(t),rz();break;case 5:rq(t);break;case 1:tl(t.type)&&tc(t);break;case 4:rG(t,t.stateNode.containerInfo);break;case 10:tY(t,t.type._context,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n){if(null!==n.dehydrated)return te(rX,1&rX.current),t.flags|=128,null;if(0!=(r&t.child.childLanes))return aa(e,t,r);return te(rX,1&rX.current),null!==(e=ac(e,t,r))?e.sibling:null}te(rX,1&rX.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return au(e,t,r);t.flags|=128}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),te(rX,rX.current),!n)return null;break;case 22:case 23:return t.lanes=0,n5(e,t,r)}return ac(e,t,r)}(e,t,r);n1=0!=(131072&e.flags)}}else n1=!1,r_&&0!=(1048576&t.flags)&&ry(t,rf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=ti(t,tr.current);tJ(t,r),a=nt(null,t,n,e,a,r);var i=nr();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tl(n)?(i=!0,tc(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,t3(t),a.updater=rn,t.stateNode=a,a._reactInternals=t,ro(t,n,e,r),t=n9(null,t,n,!0,i,r)):(t.tag=0,r_&&i&&rb(t),n0(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"==typeof e)return iO(e)?1:0;if(null!=e){if((e=e.$$typeof)===w)return 11;if(e===_)return 14}return 2}(n),e=tV(n,e),a){case 0:t=n8(null,t,n,e,r);break e;case 1:t=n7(null,t,n,e,r);break e;case 11:t=n2(null,t,n,e,r);break e;case 14:t=n3(null,t,n,tV(n.type,e),r);break e}throw Error(f(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tV(n,a),n8(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tV(n,a),n7(e,t,n,a,r);case 3:e:{if(ae(t),null===e)throw Error(f(387));n=t.pendingProps,a=(i=t.memoizedState).element,t4(e,t),t9(t,n,null,r);var l=t.memoizedState;if(n=l.element,K&&i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:l.cache,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=at(e,t,n,r,a=Error(f(423)));break e}if(n!==a){t=at(e,t,n,r,a=Error(f(424)));break e}for(K&&(rS=eW(t.stateNode.containerInfo),rx=t,r_=!0,rk=null,rE=!1),r=rj(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(rz(),n===a){t=ac(e,t,r);break e}n0(e,t,n,r)}t=t.child}return t;case 5:return rq(t),null===e&&rR(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,V(n,a)?l=null:null!==i&&V(n,i)&&(t.flags|=32),n6(e,t),n0(e,t,l,r),t.child;case 6:return null===e&&rR(t),null;case 13:return aa(e,t,r);case 4:return rG(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=rN(t,null,n,r):n0(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tV(n,a),n2(e,t,n,a,r);case 7:return n0(e,t,t.pendingProps,r),t.child;case 8:case 12:return n0(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,tY(t,n,l=a.value),null!==i){if(tU(i.value,l)){if(i.children===a.children&&!tn.current){t=ac(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var s=o.firstContext;null!==s;){if(s.context===n){if(1===i.tag){(s=t5(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}i.lanes|=r,null!==(s=i.alternate)&&(s.lanes|=r),tK(i.return,r,t),o.lanes|=r;break}s=s.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(f(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),tK(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}}n0(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,tJ(t,r),n=n(a=t1(a)),t.flags|=1,n0(e,t,n,r),t.child;case 14:return a=tV(n=t.type,t.pendingProps),a=tV(n.type,a),n3(e,t,n,a,r);case 15:return n4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tV(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,tl(n)?(e=!0,tc(t)):e=!1,tJ(t,r),ri(t,n,a),ro(t,n,a,r),n9(null,t,n,!0,e,r);case 19:return au(e,t,r);case 22:return n5(e,t,r)}throw Error(f(156,t.tag))},o.attemptContinuousHydration=function(e){13===e.tag&&(ip(e,134217728,ic()),iK(e,134217728))},o.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=ic(),r=id(e);ip(e,r,t),iK(e,r)}},o.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tg(t.pendingLanes);0!==r&&(tS(t,1|r),im(t,tR()),0==(6&aq)&&(a7(),tB()))}break;case 13:var n=ic();ix(function(){return ip(e,1,n)}),iK(e,1)}},o.batchedUpdates=function(e,t){var r=aq;aq|=1;try{return e(t)}finally{0===(aq=r)&&(a7(),tN&&tB())}},o.createComponentSelector=function(e){return{$$typeof:az,value:e}},o.createContainer=function(e,t,r,n,a,i,l){return iQ(e,t,!1,null,r,n,a,i,l)},o.createHasPseudoClassSelector=function(e){return{$$typeof:aL,value:e}},o.createHydrationContainer=function(e,t,r,n,a,i,l,o,s){return(e=iQ(r,n,!0,e,a,i,l,o,s)).context=iX(null),r=e.current,(i=t5(n=ic(),a=id(r))).callback=null!=t?t:null,t6(r,i),e.current.lanes=a,tx(e,a,n),im(e,n),e},o.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:h,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},o.createRoleSelector=function(e){return{$$typeof:aF,value:e}},o.createTestNameSelector=function(e){return{$$typeof:aA,value:e}},o.createTextSelector=function(e){return{$$typeof:aU,value:e}},o.deferredUpdates=function(e){var t=t_,r=a$.transition;try{return a$.transition=null,t_=16,e()}finally{t_=t,a$.transition=r}},o.discreteUpdates=function(e,t,r,n,a){var i=t_,l=a$.transition;try{return a$.transition=null,t_=1,e(t,r,n,a)}finally{t_=i,a$.transition=l,0===aq&&a7()}},o.findAllNodes=aH,o.findBoundingRects=function(e,t){if(!ei)throw Error(f(363));t=aH(e,t),e=[];for(var r=0;r<t.length;r++)e.push(eo(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var n=r.x,a=n+r.width,i=r.y,l=i+r.height,o=t-1;0<=o;o--)if(t!==o){var s=e[o],u=s.x,c=u+s.width,d=s.y,p=d+s.height;if(n>=u&&i>=d&&a<=c&&l<=p){e.splice(t,1);break}if(n!==u||r.width!==s.width||p<i||d>l){if(!(i!==d||r.height!==s.height||c<n||u>a)){u>n&&(s.width+=u-n,s.x=n),c<a&&(s.width=a-u),e.splice(t,1);break}}else{d>i&&(s.height+=d-i,s.y=i),p<l&&(s.height=l-d),e.splice(t,1);break}}}return e},o.findHostInstance=iY,o.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=I(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var r=e(t);if(null!==r)return r}t=t.sibling}return null}(e):null)?null:e.stateNode},o.findHostInstanceWithWarning=function(e){return iY(e)},o.flushControlled=function(e){var t=aq;aq|=1;var r=a$.transition,n=t_;try{a$.transition=null,t_=1,e()}finally{t_=n,a$.transition=r,0===(aq=t)&&(a7(),tB())}},o.flushPassiveEffects=iI,o.flushSync=ix,o.focusWithin=function(e,t){if(!ei)throw Error(f(363));for(t=Array.from(t=aB(e=aN(e),t)),e=0;e<t.length;){var r=t[e++];if(!eu(r)){if(5===r.tag&&ef(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},o.getCurrentUpdatePriority=function(){return t_},o.getFindAllNodesFailureDescription=function(e,t){if(!ei)throw Error(f(363));var r=0,n=[];e=[aN(e),0];for(var a=0;a<e.length;){var i=e[a++],l=e[a++],o=t[l];if((5!==i.tag||!eu(i))&&(aj(i,o)&&(n.push(aO(o)),++l>r&&(r=l)),l<t.length))for(i=i.child;null!==i;)e.push(i,l),i=i.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(aO(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},o.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?A(e.child.stateNode):e.child.stateNode:null},o.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:iJ,findFiberByHostInstance:e.findFiberByHostInstance||i1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tF=t.inject(e),tA=t}catch(e){}e=!!t.checkDCE}}return e},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(e,t,r,n){if(!ei)throw Error(f(363));var a=ed(e=aH(e,t),r,n).disconnect;return{disconnect:function(){a()}}},o.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},o.runWithPriority=function(e,t){var r=t_;try{return t_=e,t()}finally{t_=r}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(e,t,r,n){var a=t.current,i=ic(),l=id(a);return r=iX(r),null===t.context?t.context=r:t.pendingContext=r,(t=t5(i,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),t6(a,t),null!==(e=ip(a,l,i))&&t8(e,a,l),l},o}},5505:function(e,t,r){"use strict";e.exports=r(7588)},1177:function(e,t,r){"use strict";e.exports=r(904)},6342:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,a=e[n];if(0<i(a,t))e[n]=t,e[r]=a,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,a=e.length,l=a>>>1;n<l;){var o=2*(n+1)-1,s=e[o],u=o+1,c=e[u];if(0>i(s,r))u<a&&0>i(c,s)?(e[n]=c,e[u]=r,n=u):(e[n]=s,e[o]=r,n=o);else if(u<a&&0>i(c,r))e[n]=c,e[u]=r,n=u;else break}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l,o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(f);null!==t;){if(null===t.callback)a(f);else if(t.startTime<=e)a(f),t.sortIndex=t.expirationTime,r(c,t);else break;t=n(f)}}function S(e){if(g=!1,x(e),!v){if(null!==n(c))v=!0,L(_);else{var t=n(f);null!==t&&F(S,t.startTime-e)}}}function _(e,r){v=!1,g&&(g=!1,b(M),M=-1),m=!0;var i=h;try{for(x(r),p=n(c);null!==p&&(!(p.expirationTime>r)||e&&!R());){var l=p.callback;if("function"==typeof l){p.callback=null,h=p.priorityLevel;var o=l(p.expirationTime<=r);r=t.unstable_now(),"function"==typeof o?p.callback=o:p===n(c)&&a(c),x(r)}else a(c);p=n(c)}if(null!==p)var s=!0;else{var u=n(f);null!==u&&F(S,u.startTime-r),s=!1}return s}finally{p=null,h=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,k=null,M=-1,C=5,T=-1;function R(){return!(t.unstable_now()-T<C)}function P(){if(null!==k){var e=t.unstable_now();T=e;var r=!0;try{r=k(!0,e)}finally{r?l():(E=!1,k=null)}}else E=!1}if("function"==typeof w)l=function(){w(P)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,z=I.port2;I.port1.onmessage=P,l=function(){z.postMessage(null)}}else l=function(){y(P,0)};function L(e){k=e,E||(E=!0,l())}function F(e,r){M=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o,sortIndex:-1},i>l?(e.sortIndex=i,r(f,e),null===n(c)&&e===n(f)&&(g?(b(M),M=-1):g=!0,F(S,i-l))):(e.sortIndex=o,r(c,e),v||m||(v=!0,L(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},4362:function(e,t,r){"use strict";e.exports=r(6342)},6187:function(e,t,r){"use strict";r.d(t,{MA:function(){return s},Rq:function(){return o},ZH:function(){return u}});let n=e=>"object"==typeof e&&"function"==typeof e.then,a=[];function i(e,t,r=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let n=e.length;if(t.length!==n)return!1;for(let a=0;a<n;a++)if(!r(e[a],t[a]))return!1;return!0}function l(e,t=null,r=!1,l={}){for(let n of(null===t&&(t=[e]),a))if(i(t,n.keys,n.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return l.lifespan&&l.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,l.lifespan)),n.response;if(!r)throw n.promise}let o={keys:t,equal:l.equal,remove:()=>{let e=a.indexOf(o);-1!==e&&a.splice(e,1)},promise:(n(e)?e:e(...t)).then(e=>{o.response=e,l.lifespan&&l.lifespan>0&&(o.timeout=setTimeout(o.remove,l.lifespan))}).catch(e=>o.error=e)};if(a.push(o),!r)throw o.promise}let o=(e,t,r)=>l(e,t,!1,r),s=(e,t,r)=>void l(e,t,!0,r),u=e=>{if(void 0===e||0===e.length)a.splice(0,a.length);else{let t=a.find(t=>i(e,t.keys,t.equal));t&&t.remove()}}},6956:function(e,t,r){"use strict";r.d(t,{B$:function(){return function e(t,r){let a=function(e){let t=JSON.stringify(e,p),r=m.get(t);return null==r&&m.set(t,r=++h),r}(r),v=u.get(t);if(v||u.set(t,v=Object.create(null)),v[a])return new v[a];let g=`_onBeforeCompile${a}`,y=function(e,n){t.onBeforeCompile.call(this,e,n);let l=this.customProgramCacheKey()+"|"+e.vertexShader+"|"+e.fragmentShader,u=c[l];if(!u){let t=function(e,{vertexShader:t,fragmentShader:r},n,a){let{vertexDefs:l,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:u,fragmentDefs:c,fragmentMainIntro:f,fragmentMainOutro:p,fragmentColorTransform:h,customRewriter:m,timeUniform:v}=n;if(l=l||"",o=o||"",s=s||"",c=c||"",f=f||"",p=p||"",(u||m)&&(t=i(t)),(h||m)&&(r=i(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),m){let e=m({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(h){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),p=`${h}
${e.join("\n")}
${p}`}if(v){let e=`
uniform float ${v};
`;l=e+l,c=e+c}return u&&(t=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${t}
`,l=`${l}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,o=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${o}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${a}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),{vertexShader:t=d(t,a,l,o,s),fragmentShader:r=d(r,a,c,f,p)}}(this,e,r,a);u=c[l]=t}e.vertexShader=u.vertexShader,e.fragmentShader=u.fragmentShader,o(e.uniforms,this.uniforms),r.timeUniform&&(e.uniforms[r.timeUniform]={get value(){return Date.now()-s}}),this[g]&&this[g](e)},b=function(){return w(r.chained?t:t.clone())},w=function(e){let n=Object.create(e,x);return Object.defineProperty(n,"baseMaterial",{value:t}),Object.defineProperty(n,"id",{value:f++}),n.uuid=function(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(l[255&e]+l[e>>8&255]+l[e>>16&255]+l[e>>24&255]+"-"+l[255&t]+l[t>>8&255]+"-"+l[t>>16&15|64]+l[t>>24&255]+"-"+l[63&r|128]+l[r>>8&255]+"-"+l[r>>16&255]+l[r>>24&255]+l[255&n]+l[n>>8&255]+l[n>>16&255]+l[n>>24&255]).toUpperCase()}(),n.uniforms=o({},e.uniforms,r.uniforms),n.defines=o({},e.defines,r.defines),n.defines[`TROIKA_DERIVED_MATERIAL_${a}`]="",n.extensions=o({},e.extensions,r.extensions),n._listeners=void 0,n},x={constructor:{value:b},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:e=>{t.type=e}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){let t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+a}},onBeforeCompile:{get:()=>y,set(e){this[g]=e}},copy:{writable:!0,configurable:!0,value:function(e){return t.copy.call(this,e),t.isShaderMaterial||t.isDerivedMaterial||(o(this.extensions,e.extensions),o(this.defines,e.defines),o(this.uniforms,n.UniformsUtils.clone(e.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return w(new t.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let a=this._depthMaterial;return a||((a=this._depthMaterial=e(t.isDerivedMaterial?t.getDepthMaterial():new n.MeshDepthMaterial({depthPacking:n.RGBADepthPacking}),r)).defines.IS_DEPTH_MATERIAL="",a.uniforms=this.uniforms),a}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let a=this._distanceMaterial;return a||((a=this._distanceMaterial=e(t.isDerivedMaterial?t.getDistanceMaterial():new n.MeshDistanceMaterial,r)).defines.IS_DISTANCE_MATERIAL="",a.uniforms=this.uniforms),a}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:e,_distanceMaterial:r}=this;e&&e.dispose(),r&&r.dispose(),t.dispose.call(this)}}};return v[a]=b,new b}},MW:function(){return a}});var n=r(6376);let a=/\bvoid\s+main\s*\(\s*\)\s*{/g;function i(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let r=n.ShaderChunk[t];return r?i(r):e})}let l=[];for(let e=0;e<256;e++)l[e]=(e<16?"0":"")+e.toString(16);let o=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},s=Date.now(),u=new WeakMap,c=new Map,f=1e10;function d(e,t,r,n,i){return(n||i||r)&&(e=e.replace(a,`
${r}
void troikaOrigMain${t}() {`)+`
void main() {
  ${n}
  troikaOrigMain${t}();
  ${i}
}`),e}function p(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let h=0,m=new Map;n.DoubleSide},7948:function(e,t,r){"use strict";function n(){var e=Object.create(null);function t(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",function(r){var n=r.data,a=n.messageId,i=n.action,l=n.data;try{"registerModule"===i&&function r(n,a){var i=n.id,l=n.name,o=n.dependencies;void 0===o&&(o=[]);var s=n.init;void 0===s&&(s=function(){});var u=n.getTransferables;if(void 0===u&&(u=null),!e[i])try{o=o.map(function(t){return t&&t.isWorkerModule&&(r(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),s=t("<"+l+">.init",s),u&&(u=t("<"+l+">.getTransferables",u));var c=null;"function"==typeof s?c=s.apply(void 0,o):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:c,getTransferables:u},a(c)}catch(e){e&&e.noLog||console.error(e),a(e)}}(l,function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===i&&function(t,r){var n,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||r(Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var l=(n=e[a]).value.apply(n,i);l&&"function"==typeof l.then?l.then(o,function(e){return r(e instanceof Error?e:Error(""+e))}):o(l)}catch(e){r(e)}function o(t){try{var n=e[a].getTransferables&&e[a].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}(l,function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}})}r.d(t,{Ae:function(){return f},Ch:function(){return function e(t){if((!t||"function"!=typeof t.init)&&!o)throw Error("requires `options.init` function");var r,n=t.dependencies,l=t.init,s=t.getTransferables,c=t.workerId,f=((r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return r._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var e=t.dependencies,n=t.init,a=Promise.all(e=Array.isArray(e)?e.map(function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e}):[]).then(function(e){return n.apply(null,e)});return r._getInitResult=function(){return a},a},r);null==c&&(c="#default");var h="workerModule"+ ++i,m=t.name||h,v=null;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!a())return f.apply(void 0,e);if(!v){v=p(c,"registerModule",g.workerModuleData);var r=function(){v=null,u[c].delete(r)};(u[c]||(u[c]=new Set)).add(r)}return v.then(function(t){if(t.isCallable)return p(c,"callModule",{id:h,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return n=n&&n.map(function(t){return"function"!=typeof t||t.workerModuleData||(o=!0,t=e({workerId:c,name:"<"+m+"> function dependency: "+t.name,init:"function(){return (\n"+d(t)+"\n)}"}),o=!1),t&&t.workerModuleData&&(t=t.workerModuleData),t}),g.workerModuleData={isWorkerModule:!0,id:h,name:m,dependencies:n,init:d(l),getTransferables:s&&d(s)},g.onMainThread=f,g}}}),r(2601);var a=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return a=function(){return e},e},i=0,l=0,o=!1,s=Object.create(null),u=Object.create(null),c=Object.create(null);function f(e){u[e]&&u[e].forEach(function(e){e()}),s[e]&&(s[e].terminate(),delete s[e])}function d(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function p(e,t,r){return new Promise(function(a,i){var o=++l;c[o]=function(e){e.success?a(e.result):i(Error("Error in worker "+t+" call: "+e.error))},(function(e){var t=s[e];if(!t){var r=d(n);(t=s[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=c[r];if(!n)throw Error("WorkerModule response with empty or unknown messageId");delete c[r],n(t)}}return t})(e).postMessage({messageId:o,action:t,data:r})})}},3428:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:function(){return n}})},2973:function(e,t){"use strict";t.Z=function(){return function(e){var t,r,n,a,i={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},l={},o={};l.L=1,o[1]="L",Object.keys(i).forEach(function(e,t){l[e]=1<<t+1,o[l[e]]=e}),Object.freeze(l);var s=l.LRI|l.RLI|l.FSI,u=l.L|l.R|l.AL,c=l.B|l.S|l.WS|l.ON|l.FSI|l.LRI|l.RLI|l.PDI,f=l.BN|l.RLE|l.LRE|l.RLO|l.LRO|l.PDF,d=l.S|l.WS|l.B|s|l.PDI|f,p=null;function h(e){return!function(){if(!p){p=new Map;var e=function(e){if(i.hasOwnProperty(e)){var t=0;i[e].split(",").forEach(function(r){var n=r.split("+"),a=n[0],i=n[1];a=parseInt(a,36),i=i?parseInt(i,36):0,p.set(t+=a,l[e]);for(var o=0;o<i;o++)p.set(++t,l[e])})}};for(var t in i)e(t)}}(),p.get(e.codePointAt(0))||l.L}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(e,t){var r,n=0,a=new Map,i=t&&new Map;return e.split(",").forEach(function e(l){if(-1!==l.indexOf("+"))for(var o=+l;o--;)e(r);else{r=l;var s=l.split(">"),u=s[0],c=s[1];u=String.fromCodePoint(n+=parseInt(u,36)),c=String.fromCodePoint(n+=parseInt(c,36)),a.set(u,c),t&&i.set(c,u)}}),{map:a,reverseMap:i}}function g(){if(!t){var e=v(m.pairs,!0),a=e.map,i=e.reverseMap;t=a,r=i,n=v(m.canonical,!1).map}}function y(e){return g(),t.get(e)||null}function b(e){return g(),r.get(e)||null}function w(e){return g(),n.get(e)||null}var x=l.L,S=l.R,_=l.EN,E=l.ES,k=l.ET,M=l.AN,C=l.CS,T=l.B,R=l.S,P=l.ON,I=l.BN,z=l.NSM,L=l.AL,F=l.LRO,A=l.RLO,U=l.LRE,D=l.RLE,N=l.PDF,j=l.LRI,O=l.RLI,B=l.FSI,H=l.PDI;function W(e){return!function(){if(!a){var e=v("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach(function(e,r){t.set(r,e)}),a=t}}(),a.get(e)||null}function V(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);var i=[];return t.paragraphs.forEach(function(a){var l=Math.max(r,a.start),o=Math.min(n,a.end);if(l<o){for(var s=t.levels.slice(l,o+1),u=o;u>=l&&h(e[u])&d;u--)s[u]=a.level;for(var c=a.level,f=1/0,p=0;p<s.length;p++){var m=s[p];m>c&&(c=m),m<f&&(f=1|m)}for(var v=c;v>=f;v--)for(var g=0;g<s.length;g++)if(s[g]>=v){for(var y=g;g+1<s.length&&s[g+1]>=v;)g++;g>y&&i.push([y+l,g+l])}}}),i}function G(e,t,r,n){for(var a=V(e,t,r,n),i=[],l=0;l<e.length;l++)i[l]=l;return a.forEach(function(e){for(var t=e[0],r=e[1],n=i.slice(t,r+1),a=n.length;a--;)i[r-a]=n[a]}),i}return e.closingToOpeningBracket=b,e.getBidiCharType=h,e.getBidiCharTypeName=function(e){return o[h(e)]},e.getCanonicalBracket=w,e.getEmbeddingLevels=function(e,t){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=h(e[n]);var a=new Map;function i(e,t){var n=r[e];r[e]=t,a.set(n,a.get(n)-1),n&c&&a.set(c,a.get(c)-1),a.set(t,(a.get(t)||0)+1),t&c&&a.set(c,(a.get(c)||0)+1)}for(var l=new Uint8Array(e.length),o=new Map,p=[],m=null,v=0;v<e.length;v++)m||p.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tP(v,!1)}),r[v]&T&&(m.end=v,m=null);for(var g=D|U|A|F|s|H|N|T,W=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},G=0;G<p.length;G++){var $=[{_level:(m=p[G]).level,_override:0,_isolate:0}],q=void 0,Q=0,X=0,Y=0;a.clear();for(var Z=m.start;Z<=m.end;Z++){var K=r[Z];if(q=$[$.length-1],a.set(K,(a.get(K)||0)+1),K&c&&a.set(c,(a.get(c)||0)+1),K&g){if(K&(D|U)){l[Z]=q._level;var J=(K===D?V:W)(q._level);!(J<=125)||Q||X?!Q&&X++:$.push({_level:J,_override:0,_isolate:0})}else if(K&(A|F)){l[Z]=q._level;var ee=(K===A?V:W)(q._level);!(ee<=125)||Q||X?!Q&&X++:$.push({_level:ee,_override:K&A?S:x,_isolate:0})}else if(K&s){K&B&&(K=1===tP(Z+1,!0)?O:j),l[Z]=q._level,q._override&&i(Z,q._override);var et=(K===O?V:W)(q._level);et<=125&&0===Q&&0===X?(Y++,$.push({_level:et,_override:0,_isolate:1,_isolInitIndex:Z})):Q++}else if(K&H){if(Q>0)Q--;else if(Y>0){for(X=0;!$[$.length-1]._isolate;)$.pop();var er=$[$.length-1]._isolInitIndex;null!=er&&(o.set(er,Z),o.set(Z,er)),$.pop(),Y--}q=$[$.length-1],l[Z]=q._level,q._override&&i(Z,q._override)}else K&N?(0===Q&&(X>0?X--:!q._isolate&&$.length>1&&($.pop(),q=$[$.length-1])),l[Z]=q._level):K&T&&(l[Z]=m.level)}else l[Z]=q._level,q._override&&K!==I&&i(Z,q._override)}for(var en=[],ea=null,ei=m.start;ei<=m.end;ei++){var el=r[ei];if(!(el&f)){var eo=l[ei],es=el&s,eu=el===H;ea&&eo===ea._level?(ea._end=ei,ea._endsWithIsolInit=es):en.push(ea={_start:ei,_end:ei,_level:eo,_startsWithPDI:eu,_endsWithIsolInit:es})}}for(var ec=[],ef=0;ef<en.length;ef++){var ed=en[ef];if(!ed._startsWithPDI||ed._startsWithPDI&&!o.has(ed._start)){for(var ep=[ea=ed],eh=void 0;ea&&ea._endsWithIsolInit&&null!=(eh=o.get(ea._end));)for(var em=ef+1;em<en.length;em++)if(en[em]._start===eh){ep.push(ea=en[em]);break}for(var ev=[],eg=0;eg<ep.length;eg++)for(var ey=ep[eg],eb=ey._start;eb<=ey._end;eb++)ev.push(eb);for(var ew=l[ev[0]],ex=m.level,eS=ev[0]-1;eS>=0;eS--)if(!(r[eS]&f)){ex=l[eS];break}var e_=ev[ev.length-1],eE=l[e_],ek=m.level;if(!(r[e_]&s)){for(var eM=e_+1;eM<=m.end;eM++)if(!(r[eM]&f)){ek=l[eM];break}}ec.push({_seqIndices:ev,_sosType:Math.max(ex,ew)%2?S:x,_eosType:Math.max(ek,eE)%2?S:x})}}for(var eC=0;eC<ec.length;eC++){var eT=ec[eC],eR=eT._seqIndices,eP=eT._sosType,eI=eT._eosType,ez=1&l[eR[0]]?S:x;if(a.get(z))for(var eL=0;eL<eR.length;eL++){var eF=eR[eL];if(r[eF]&z){for(var eA=eP,eU=eL-1;eU>=0;eU--)if(!(r[eR[eU]]&f)){eA=r[eR[eU]];break}i(eF,eA&(s|H)?P:eA)}}if(a.get(_))for(var eD=0;eD<eR.length;eD++){var eN=eR[eD];if(r[eN]&_)for(var ej=eD-1;ej>=-1;ej--){var eO=-1===ej?eP:r[eR[ej]];if(eO&u){eO===L&&i(eN,M);break}}}if(a.get(L))for(var eB=0;eB<eR.length;eB++){var eH=eR[eB];r[eH]&L&&i(eH,S)}if(a.get(E)||a.get(C))for(var eW=1;eW<eR.length-1;eW++){var eV=eR[eW];if(r[eV]&(E|C)){for(var eG=0,e$=0,eq=eW-1;eq>=0&&(eG=r[eR[eq]])&f;eq--);for(var eQ=eW+1;eQ<eR.length&&(e$=r[eR[eQ]])&f;eQ++);eG===e$&&(r[eV]===E?eG===_:eG&(_|M))&&i(eV,eG)}}if(a.get(_)){for(var eX=0;eX<eR.length;eX++)if(r[eR[eX]]&_){for(var eY=eX-1;eY>=0&&r[eR[eY]]&(k|f);eY--)i(eR[eY],_);for(eX++;eX<eR.length&&r[eR[eX]]&(k|f|_);eX++)r[eR[eX]]!==_&&i(eR[eX],_)}}if(a.get(k)||a.get(E)||a.get(C))for(var eZ=0;eZ<eR.length;eZ++){var eK=eR[eZ];if(r[eK]&(k|E|C)){i(eK,P);for(var eJ=eZ-1;eJ>=0&&r[eR[eJ]]&f;eJ--)i(eR[eJ],P);for(var e1=eZ+1;e1<eR.length&&r[eR[e1]]&f;e1++)i(eR[e1],P)}}if(a.get(_))for(var e0=0,e2=eP;e0<eR.length;e0++){var e3=eR[e0],e4=r[e3];e4&_?e2===x&&i(e3,x):e4&u&&(e2=e4)}if(a.get(c)){for(var e5=S|_|M,e6=e5|x,e8=[],e7=[],e9=0;e9<eR.length;e9++)if(r[eR[e9]]&c){var te=e[eR[e9]],tt=void 0;if(null!==y(te)){if(e7.length<63)e7.push({char:te,seqIndex:e9});else break}else if(null!==(tt=b(te)))for(var tr=e7.length-1;tr>=0;tr--){var tn=e7[tr].char;if(tn===tt||tn===b(w(te))||y(w(tn))===te){e8.push([e7[tr].seqIndex,e9]),e7.length=tr;break}}}e8.sort(function(e,t){return e[0]-t[0]});for(var ta=0;ta<e8.length;ta++){for(var ti=e8[ta],tl=ti[0],to=ti[1],ts=!1,tu=0,tc=tl+1;tc<to;tc++){var tf=eR[tc];if(r[tf]&e6){ts=!0;var td=r[tf]&e5?S:x;if(td===ez){tu=td;break}}}if(ts&&!tu){tu=eP;for(var tp=tl-1;tp>=0;tp--){var th=eR[tp];if(r[th]&e6){var tm=r[th]&e5?S:x;tu=tm!==ez?tm:ez;break}}}if(tu){if(r[eR[tl]]=r[eR[to]]=tu,tu!==ez){for(var tv=tl+1;tv<eR.length;tv++)if(!(r[eR[tv]]&f)){h(e[eR[tv]])&z&&(r[eR[tv]]=tu);break}}if(tu!==ez){for(var tg=to+1;tg<eR.length;tg++)if(!(r[eR[tg]]&f)){h(e[eR[tg]])&z&&(r[eR[tg]]=tu);break}}}}for(var ty=0;ty<eR.length;ty++)if(r[eR[ty]]&c){for(var tb=ty,tw=ty,tx=eP,tS=ty-1;tS>=0;tS--)if(r[eR[tS]]&f)tb=tS;else{tx=r[eR[tS]]&e5?S:x;break}for(var t_=eI,tE=ty+1;tE<eR.length;tE++)if(r[eR[tE]]&(c|f))tw=tE;else{t_=r[eR[tE]]&e5?S:x;break}for(var tk=tb;tk<=tw;tk++)r[eR[tk]]=tx===t_?tx:ez;ty=tw}}}for(var tM=m.start;tM<=m.end;tM++){var tC=l[tM],tT=r[tM];if(1&tC?tT&(x|_|M)&&l[tM]++:tT&S?l[tM]++:tT&(M|_)&&(l[tM]+=2),tT&f&&(l[tM]=0===tM?m.level:l[tM-1]),tM===m.end||h(e[tM])&(R|T))for(var tR=tM;tR>=0&&h(e[tR])&d;tR--)l[tR]=m.level}}return{levels:l,paragraphs:p};function tP(t,n){for(var a=t;a<e.length;a++){var i=r[a];if(i&(S|L))return 1;if(i&(T|x)||n&&i===H)break;if(i&s){var l=function(t){for(var n=1,a=t+1;a<e.length;a++){var i=r[a];if(i&T)break;if(i&H){if(0==--n)return a}else i&s&&n++}return -1}(a);a=-1===l?e.length:l}}return 0}},e.getMirroredCharacter=W,e.getMirroredCharactersMap=function(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);for(var i=new Map,l=r;l<=n;l++)if(1&t[l]){var o=W(e[l]);null!==o&&i.set(l,o)}return i},e.getReorderSegments=V,e.getReorderedIndices=G,e.getReorderedString=function(e,t,r,n){var a=G(e,t,r,n),i=[].concat(e);return a.forEach(function(r,n){i[n]=(1&t.levels[r]?W(e[r]):null)||e[r]}),i.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}},5337:function(e,t,r){"use strict";r.d(t,{L:function(){return v}});var n=r(6376);let a=/^[og]\s*(.+)?/,i=/^mtllib /,l=/^usemtl /,o=/^usemap /,s=/\s+/,u=new n.Vector3,c=new n.Vector3,f=new n.Vector3,d=new n.Vector3,p=new n.Vector3,h=new n.Color;function m(){let e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration){this.object.name=e,this.object.fromDeclaration=!1!==t;return}let r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){let r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);let n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){let t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){let t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let e=this.materials.length-1;e>=0;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){let e=r.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){let r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){let r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){let r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){let n=this.vertices,a=this.object.geometry.vertices;a.push(n[e+0],n[e+1],n[e+2]),a.push(n[t+0],n[t+1],n[t+2]),a.push(n[r+0],n[r+1],n[r+2])},addVertexPoint:function(e){let t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){let t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){let n=this.normals,a=this.object.geometry.normals;a.push(n[e+0],n[e+1],n[e+2]),a.push(n[t+0],n[t+1],n[t+2]),a.push(n[r+0],n[r+1],n[r+2])},addFaceNormal:function(e,t,r){let n=this.vertices,a=this.object.geometry.normals;u.fromArray(n,e),c.fromArray(n,t),f.fromArray(n,r),p.subVectors(f,c),d.subVectors(u,c),p.cross(d),p.normalize(),a.push(p.x,p.y,p.z),a.push(p.x,p.y,p.z),a.push(p.x,p.y,p.z)},addColor:function(e,t,r){let n=this.colors,a=this.object.geometry.colors;void 0!==n[e]&&a.push(n[e+0],n[e+1],n[e+2]),void 0!==n[t]&&a.push(n[t+0],n[t+1],n[t+2]),void 0!==n[r]&&a.push(n[r+0],n[r+1],n[r+2])},addUV:function(e,t,r){let n=this.uvs,a=this.object.geometry.uvs;a.push(n[e+0],n[e+1]),a.push(n[t+0],n[t+1]),a.push(n[r+0],n[r+1])},addDefaultUV:function(){let e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){let t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,n,a,i,l,o,s){let u=this.vertices.length,c=this.parseVertexIndex(e,u),f=this.parseVertexIndex(t,u),d=this.parseVertexIndex(r,u);if(this.addVertex(c,f,d),this.addColor(c,f,d),void 0!==l&&""!==l){let e=this.normals.length;c=this.parseNormalIndex(l,e),f=this.parseNormalIndex(o,e),d=this.parseNormalIndex(s,e),this.addNormal(c,f,d)}else this.addFaceNormal(c,f,d);if(void 0!==n&&""!==n){let e=this.uvs.length;c=this.parseUVIndex(n,e),f=this.parseUVIndex(a,e),d=this.parseUVIndex(i,e),this.addUV(c,f,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";let t=this.vertices.length;for(let r=0,n=e.length;r<n;r++){let n=this.parseVertexIndex(e[r],t);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";let r=this.vertices.length,n=this.uvs.length;for(let t=0,n=e.length;t<n;t++)this.addVertexLine(this.parseVertexIndex(e[t],r));for(let e=0,r=t.length;e<r;e++)this.addUVLine(this.parseUVIndex(t[e],n))}};return e.startObject("",!1),e}class v extends n.Loader{load(e,t,r,a){let i=this,l=new n.FileLoader(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(r){try{t(i.parse(r))}catch(t){a?a(t):console.error(t),i.manager.itemError(e)}},r,a)}setMaterials(e){return this.materials=e,this}parse(e){let t=new m;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));let r=e.split("\n"),u=[];for(let e=0,n=r.length;e<n;e++){let n=r[e].trimStart();if(0===n.length)continue;let c=n.charAt(0);if("#"!==c){if("v"===c){let e=n.split(s);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?(h.setRGB(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6])).convertSRGBToLinear(),t.colors.push(h.r,h.g,h.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===c){let e=n.slice(1).trim().split(s),r=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n.length>0){let e=n.split("/");r.push(e)}}let a=r[0];for(let e=1,n=r.length-1;e<n;e++){let n=r[e],i=r[e+1];t.addFace(a[0],n[0],i[0],a[1],n[1],i[1],a[2],n[2],i[2])}}else if("l"===c){let e=n.substring(1).trim().split(" "),r=[],a=[];if(-1===n.indexOf("/"))r=e;else for(let t=0,n=e.length;t<n;t++){let n=e[t].split("/");""!==n[0]&&r.push(n[0]),""!==n[1]&&a.push(n[1])}t.addLineGeometry(r,a)}else if("p"===c){let e=n.slice(1).trim().split(" ");t.addPointGeometry(e)}else if(null!==(u=a.exec(n))){let e=(" "+u[0].slice(1).trim()).slice(1);t.startObject(e)}else if(l.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(i.test(n))t.materialLibraries.push(n.substring(7).trim());else if(o.test(n))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===c){if((u=n.split(" ")).length>1){let e=u[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;let e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}else{if("\x00"===n)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+n+'"')}}}t.finalize();let c=new n.Group;if(c.materialLibraries=[].concat(t.materialLibraries),!0==!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(let e=0,r=t.objects.length;e<r;e++){let r;let a=t.objects[e],i=a.geometry,l=a.materials,o="Line"===i.type,s="Points"===i.type,u=!1;if(0===i.vertices.length)continue;let f=new n.BufferGeometry;f.setAttribute("position",new n.Float32BufferAttribute(i.vertices,3)),i.normals.length>0&&f.setAttribute("normal",new n.Float32BufferAttribute(i.normals,3)),i.colors.length>0&&(u=!0,f.setAttribute("color",new n.Float32BufferAttribute(i.colors,3))),!0===i.hasUVIndices&&f.setAttribute("uv",new n.Float32BufferAttribute(i.uvs,2));let d=[];for(let e=0,r=l.length;e<r;e++){let r=l[e],a=r.name+"_"+r.smooth+"_"+u,i=t.materials[a];if(null!==this.materials){if(i=this.materials.create(r.name),!o||!i||i instanceof n.LineBasicMaterial){if(s&&i&&!(i instanceof n.PointsMaterial)){let e=new n.PointsMaterial({size:10,sizeAttenuation:!1});n.Material.prototype.copy.call(e,i),e.color.copy(i.color),e.map=i.map,i=e}}else{let e=new n.LineBasicMaterial;n.Material.prototype.copy.call(e,i),e.color.copy(i.color),i=e}}void 0===i&&((i=o?new n.LineBasicMaterial:s?new n.PointsMaterial({size:1,sizeAttenuation:!1}):new n.MeshPhongMaterial).name=r.name,i.flatShading=!r.smooth,i.vertexColors=u,t.materials[a]=i),d.push(i)}if(d.length>1){for(let e=0,t=l.length;e<t;e++){let t=l[e];f.addGroup(t.groupStart,t.groupCount,e)}r=o?new n.LineSegments(f,d):s?new n.Points(f,d):new n.Mesh(f,d)}else r=o?new n.LineSegments(f,d[0]):s?new n.Points(f,d[0]):new n.Mesh(f,d[0]);r.name=a.name,c.add(r)}else if(t.vertices.length>0){let e=new n.PointsMaterial({size:1,sizeAttenuation:!1}),r=new n.BufferGeometry;r.setAttribute("position",new n.Float32BufferAttribute(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(r.setAttribute("color",new n.Float32BufferAttribute(t.colors,3)),e.vertexColors=!0);let a=new n.Points(r,e);c.add(a)}return c}constructor(e){super(e),this.materials=null}}},4193:function(e,t,r){"use strict";r.d(t,{n4:function(){return a}});var n=r(6376);function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null!==e[0].index,a=new Set(Object.keys(e[0].attributes)),l=new Set(Object.keys(e[0].morphAttributes)),o={},s={},u=e[0].morphTargetsRelative,c=new n.BufferGeometry,f=0;for(let n=0;n<e.length;++n){let i=e[n],d=0;if(r!==(null!==i.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let e in i.attributes){if(!a.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[e]&&(o[e]=[]),o[e].push(i.attributes[e]),d++}if(d!==a.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". Make sure all geometries have the same number of attributes."),null;if(u!==i.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let e in i.morphAttributes){if(!l.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[e]&&(s[e]=[]),s[e].push(i.morphAttributes[e])}if(t){let e;if(r)e=i.index.count;else{if(void 0===i.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". The geometry must have either an index or a position attribute"),null;e=i.attributes.position.count}c.addGroup(f,e,n),f+=e}}if(r){let t=0,r=[];for(let n=0;n<e.length;++n){let a=e[n].index;for(let e=0;e<a.count;++e)r.push(a.getX(e)+t);t+=e[n].attributes.position.count}c.setIndex(r)}for(let e in o){let t=i(o[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;c.setAttribute(e,t)}for(let e in s){let t=s[e][0].length;if(0===t)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[e]=[];for(let r=0;r<t;++r){let t=[];for(let n=0;n<s[e].length;++n)t.push(s[e][n][r]);let n=i(t);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;c.morphAttributes[e].push(n)}}return c}function i(e){let t,r,a;let i=-1,l=0;for(let n=0;n<e.length;++n){let o=e[n];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=o.itemSize),r!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===a&&(a=o.normalized),a!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===i&&(i=o.gpuType),i!==o.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;l+=o.array.length}let o=new t(l),s=0;for(let t=0;t<e.length;++t)o.set(e[t].array,s),s+=e[t].array.length;let u=new n.BufferAttribute(o,r,a);return void 0!==i&&(u.gpuType=i),u}},4547:function(e,t,r){"use strict";function n(){return function(e){function t(e,t){for(var r,n,a,i,l,o=/([MLQCZ])([^MLQCZ]*)/g;r=o.exec(e);){var s=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(r[1]){case"M":i=n=s[0],l=a=s[1];break;case"L":(s[0]!==i||s[1]!==l)&&t("L",i,l,i=s[0],l=s[1]);break;case"Q":t("Q",i,l,i=s[2],l=s[3],s[0],s[1]);break;case"C":t("C",i,l,i=s[4],l=s[5],s[0],s[1],s[2],s[3]);break;case"Z":(i!==n||l!==a)&&t("L",i,l,n,a)}}}function r(e,r,n){void 0===n&&(n=16);var a={x:0,y:0};t(e,function(e,t,i,l,o,s,u,c,f){switch(e){case"L":r(t,i,l,o);break;case"Q":for(var d=t,p=i,h=1;h<n;h++)!function(e,t,r,n,a,i,l,o){var s=1-l;o.x=s*s*e+2*s*l*r+l*l*a,o.y=s*s*t+2*s*l*n+l*l*i}(t,i,s,u,l,o,h/(n-1),a),r(d,p,a.x,a.y),d=a.x,p=a.y;break;case"C":for(var m=t,v=i,g=1;g<n;g++)!function(e,t,r,n,a,i,l,o,s,u){var c=1-s;u.x=c*c*c*e+3*c*c*s*r+3*c*s*s*a+s*s*s*l,u.y=c*c*c*t+3*c*c*s*n+3*c*s*s*i+s*s*s*o}(t,i,s,u,c,f,l,o,g/(n-1),a),r(m,v,a.x,a.y),m=a.x,v=a.y}})}var n="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a=new WeakMap,i={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function l(e,t){var r=e.getContext?e.getContext("webgl",i):e,n=a.get(r);if(!n){var l="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,o={},s={},u={},c=-1,f=[];function d(e){var t=o[e];if(!t&&!(t=o[e]=r.getExtension(e)))throw Error(e+" not supported");return t}function p(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function h(){o={},s={},u={},c=-1,f.length=0}r.canvas.addEventListener("webglcontextlost",function(e){h(),e.preventDefault()},!1),a.set(r,n={gl:r,isWebGL2:l,getExtension:d,withProgram:function(e,t,n,a){if(!s[e]){var i={},o={},u=r.createProgram();r.attachShader(u,p(t,r.VERTEX_SHADER)),r.attachShader(u,p(n,r.FRAGMENT_SHADER)),r.linkProgram(u),s[e]={program:u,transaction:function(e){r.useProgram(u),e({setUniform:function(e,t){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];var i=o[t]||(o[t]=r.getUniformLocation(u,t));r["uniform"+e].apply(r,[i].concat(n))},setAttribute:function(e,t,n,a,o){var s=i[e];s||(s=i[e]={buf:r.createBuffer(),loc:r.getAttribLocation(u,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,s.buf),r.vertexAttribPointer(s.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(s.loc),l?r.vertexAttribDivisor(s.loc,a):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(s.loc,a),o!==s.data&&(r.bufferData(r.ARRAY_BUFFER,o,n),s.data=o)}})}}}s[e].transaction(a)},withTexture:function(e,t){c++;try{r.activeTexture(r.TEXTURE0+c);var n=u[e];n||(n=u[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,c)}finally{c--}},withTextureFramebuffer:function(e,t,n){var a=r.createFramebuffer();f.push(a),r.bindFramebuffer(r.FRAMEBUFFER,a),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(a)}finally{r.deleteFramebuffer(a),r.bindFramebuffer(r.FRAMEBUFFER,f[--f.length-1]||null)}},handleContextLoss:h})}t(n)}function o(e,t,r,a,i,o,s,u){void 0===s&&(s=15),void 0===u&&(u=null),l(e,function(e){var l=e.gl,c=e.withProgram;(0,e.withTexture)("copy",function(e,f){l.texImage2D(l.TEXTURE_2D,0,l.RGBA,i,o,0,l.RGBA,l.UNSIGNED_BYTE,t),c("copy",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,l.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),l.bindFramebuffer(l.FRAMEBUFFER,u||null),l.disable(l.BLEND),l.colorMask(8&s,4&s,2&s,1&s),l.viewport(r,a,i,o),l.scissor(r,a,i,o),l.drawArrays(l.TRIANGLES,0,3)})})})}var s=Object.freeze({__proto__:null,withWebGLContext:l,renderImageData:o,resizeWebGLCanvasWithoutClearing:function(e,t,r){var n=e.width,a=e.height;l(e,function(i){var l=i.gl,s=new Uint8Array(n*a*4);l.readPixels(0,0,n,a,l.RGBA,l.UNSIGNED_BYTE,s),e.width=t,e.height=r,o(l,s,0,0,n,a)})}});function u(e,t,n,a,i,l){void 0===l&&(l=1);var o=new Uint8Array(e*t),s=a[2]-a[0],u=a[3]-a[1],c=[];r(n,function(e,t,r,n){c.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var f=0;f<e;f++)for(var d=0;d<t;d++){var p=function(e,t){for(var r=1/0,n=1/0,a=c.length;a--;){var i=c[a];if(i.maxX+n<=e)break;if(e+n>i.minX&&t-n<i.maxY&&t+n>i.minY){var l=function(e,t,r,n,a,i){var l=a-r,o=i-n,s=l*l+o*o,u=s?Math.max(0,Math.min(1,((e-r)*l+(t-n)*o)/s)):0,c=e-(r+u*l),f=t-(n+u*o);return c*c+f*f}(e,t,i.x1,i.y1,i.x2,i.y2);l<r&&(n=Math.sqrt(r=l))}}return function(e,t){for(var r=0,n=c.length;n--;){var a=c[n];if(a.maxX<=e)break;a.y1>t!=a.y2>t&&e<(a.x2-a.x1)*(t-a.y1)/(a.y2-a.y1)+a.x1&&(r+=a.y1<a.y2?1:-1)}return 0!==r}(e,t)&&(n=-n),n}(a[0]+s*(f+.5)/e,a[1]+u*(d+.5)/t),h=Math.pow(1-Math.abs(p)/i,l)/2;p<0&&(h=1-h),h=Math.max(0,Math.min(255,Math.round(255*h))),o[d*e+f]=h}return o}function c(e,t,r,n,a,i,l,o,s,u){void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),f(e,t,r,n,a,i,l,null,o,s,u)}function f(e,t,r,n,a,i,l,s,c,f,d){void 0===i&&(i=1),void 0===c&&(c=0),void 0===f&&(f=0),void 0===d&&(d=0);for(var p=u(e,t,r,n,a,i),h=new Uint8Array(4*p.length),m=0;m<p.length;m++)h[4*m+d]=p[m];o(l,h,c,f,e,t,1<<3-d,s)}var d=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:c,generateIntoFramebuffer:f}),p=new Float32Array([0,0,2,0,0,2]),h=null,m=!1,v={},g=new WeakMap;function y(e){if(!m&&!S(e))throw Error("WebGL generation not supported")}function b(e,t,r,n,a,i,o){if(void 0===i&&(i=1),void 0===o&&(o=null),!o&&!(o=h)){var s="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!s)throw Error("OffscreenCanvas or DOM canvas not supported");o=h=s.getContext("webgl",{depth:!1})}y(o);var u=new Uint8Array(e*t*4);l(o,function(l){var o=l.gl,s=l.withTexture,c=l.withTextureFramebuffer;s("readable",function(l,s){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e,t,0,o.RGBA,o.UNSIGNED_BYTE,null),c(l,s,function(l){x(e,t,r,n,a,i,o,l,0,0,0),o.readPixels(0,0,e,t,o.RGBA,o.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),f=0,d=0;f<u.length;f+=4)c[d++]=u[f];return c}function w(e,t,r,n,a,i,l,o,s,u){void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),x(e,t,r,n,a,i,l,null,o,s,u)}function x(e,t,a,i,o,s,u,c,f,d,h){void 0===s&&(s=1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=0),y(u);var m=[];r(a,function(e,t,r,n){m.push(e,t,r,n)}),m=new Float32Array(m),l(u,function(r){var a=r.gl,l=r.isWebGL2,u=r.getExtension,v=r.withProgram,g=r.withTexture,y=r.withTextureFramebuffer,b=r.handleContextLoss;if(g("rawDistances",function(r,g){(e!==r._lastWidth||t!==r._lastHeight)&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r._lastWidth=e,r._lastHeight=t,0,a.RGBA,a.UNSIGNED_BYTE,null),v("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(n){var c=n.setAttribute,f=n.setUniform,d=!l&&u("ANGLE_instanced_arrays"),h=!l&&u("EXT_blend_minmax");c("aUV",2,a.STATIC_DRAW,0,p),c("aLineSegment",4,a.DYNAMIC_DRAW,1,m),f.apply(void 0,["4f","uGlyphBounds"].concat(i)),f("1f","uMaxDistance",o),f("1f","uExponent",s),y(r,g,function(r){a.enable(a.BLEND),a.colorMask(!0,!0,!0,!0),a.viewport(0,0,e,t),a.scissor(0,0,e,t),a.blendFunc(a.ONE,a.ONE),a.blendEquationSeparate(a.FUNC_ADD,l?a.MAX:h.MAX_EXT),a.clear(a.COLOR_BUFFER_BIT),l?a.drawArraysInstanced(a.TRIANGLES,0,3,m.length/4):d.drawArraysInstancedANGLE(a.TRIANGLES,0,3,m.length/4)})}),v("post",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(r){r.setAttribute("aUV",2,a.STATIC_DRAW,0,p),r.setUniform("1i","tex",g),a.bindFramebuffer(a.FRAMEBUFFER,c),a.disable(a.BLEND),a.colorMask(0===h,1===h,2===h,3===h),a.viewport(f,d,e,t),a.scissor(f,d,e,t),a.drawArrays(a.TRIANGLES,0,3)})}),a.isContextLost())throw b(),Error("webgl context lost")})}function S(e){var t=e&&e!==h?e.canvas||e:v,r=g.get(t);if(void 0===r){m=!0;var n=null;try{var a=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],i=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=i&&a.length===i.length&&i.every(function(e,t){return e===a[t]}))||(n="bad trial run results",console.info(a,i))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),m=!1,g.set(t,r)}return r}var _=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:w,generateIntoFramebuffer:x,isSupported:S});return e.forEachPathCommand=t,e.generate=function(e,t,r,n,a,i){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1);try{return b.apply(_,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(d,arguments)}},e.generateIntoCanvas=function(e,t,r,n,a,i,l,o,s,u){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0);try{return w.apply(_,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(d,arguments)}},e.javascript=d,e.pathToLineSegments=r,e.webgl=_,e.webglUtils=s,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}r.d(t,{Z:function(){return n}})}}]);